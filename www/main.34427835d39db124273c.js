(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{3:function(t,e,n){t.exports=n("zUnb")},crnd:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error('Cannot find module "'+t+'".');throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="crnd"},yLV6:function(t,e,n){var r;!function(i,o,a,l){"use strict";var s,u=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),d="function",f=Math.round,h=Math.abs,p=Date.now;function g(t,e,n){return setTimeout(w(t,n),e)}function m(t,e,n){return!!Array.isArray(t)&&(y(t,n[e],n),!0)}function y(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==l)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function v(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),t.apply(this,arguments)}}s="function"!=typeof Object.assign?function(t){if(t===l||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==l&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var b=v(function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&t[r[i]]===l)&&(t[r[i]]=e[r[i]]),i++;return t},"extend","Use `assign`."),_=v(function(t,e){return b(t,e,!0)},"merge","Use `assign`.");function x(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&s(r,n)}function w(t,e){return function(){return t.apply(e,arguments)}}function k(t,e){return typeof t==d?t.apply(e&&e[0]||l,e):t}function T(t,e){return t===l?e:t}function C(t,e,n){y(E(e),function(e){t.addEventListener(e,n,!1)})}function A(t,e,n){y(E(e),function(e){t.removeEventListener(e,n,!1)})}function M(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function S(t,e){return t.indexOf(e)>-1}function E(t){return t.trim().split(/\s+/g)}function O(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function P(t){return Array.prototype.slice.call(t,0)}function I(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];O(i,a)<0&&r.push(t[o]),i[o]=a,o++}return n&&(r=e?r.sort(function(t,n){return t[e]>n[e]}):r.sort()),r}function D(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<u.length;){if((r=(n=u[o])?n+i:e)in t)return r;o++}return l}var L=1;function R(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var N="ontouchstart"in i,F=D(i,"PointerEvent")!==l,z=N&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),j=25,V=1,B=4,H=8,q=1,U=2,G=4,W=8,Y=16,Z=U|G,X=W|Y,Q=Z|X,K=["x","y"],$=["clientX","clientY"];function J(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){k(t.options.enable,[t])&&n.handler(e)},this.init()}function tt(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=e&V&&r-i==0,a=e&(B|H)&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=et(e)),i>1&&!n.firstMultiple?n.firstMultiple=et(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,u=e.center=nt(r);e.timeStamp=p(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=at(s,u),e.distance=ot(s,u),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};e.eventType!==V&&o.eventType!==B||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=it(e.deltaX,e.deltaY);var c,d,f=rt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=f.x,e.overallVelocityY=f.y,e.overallVelocity=h(f.x)>h(f.y)?f.x:f.y,e.scale=a?(c=a.pointers,ot((d=r)[0],d[1],$)/ot(c[0],c[1],$)):1,e.rotation=a?function(t,e){return at(r[1],r[0],$)+at(t[1],t[0],$)}(a.pointers):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,a=t.lastInterval||e,s=e.timeStamp-a.timeStamp;if(e.eventType!=H&&(s>j||a.velocity===l)){var u=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,d=rt(s,u,c);r=d.x,i=d.y,n=h(d.x)>h(d.y)?d.x:d.y,o=it(u,c),t.lastInterval=e}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var g=t.element;M(e.srcEvent.target,g)&&(g=e.srcEvent.target),e.target=g}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function et(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:f(t.pointers[n].clientX),clientY:f(t.pointers[n].clientY)},n++;return{timeStamp:p(),pointers:e,center:nt(e),deltaX:t.deltaX,deltaY:t.deltaY}}function nt(t){var e=t.length;if(1===e)return{x:f(t[0].clientX),y:f(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:f(n/e),y:f(r/e)}}function rt(t,e,n){return{x:e/t||0,y:n/t||0}}function it(t,e){return t===e?q:h(t)>=h(e)?t<0?U:G:e<0?W:Y}function ot(t,e,n){n||(n=K);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function at(t,e,n){return n||(n=K),180*Math.atan2(e[n[1]]-t[n[1]],e[n[0]]-t[n[0]])/Math.PI}J.prototype={handler:function(){},init:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(R(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&A(this.element,this.evEl,this.domHandler),this.evTarget&&A(this.target,this.evTarget,this.domHandler),this.evWin&&A(R(this.element),this.evWin,this.domHandler)}};var lt={mousedown:V,mousemove:2,mouseup:B},st="mousedown",ut="mousemove mouseup";function ct(){this.evEl=st,this.evWin=ut,this.pressed=!1,J.apply(this,arguments)}x(ct,J,{handler:function(t){var e=lt[t.type];e&V&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=B),this.pressed&&(e&B&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var dt={pointerdown:V,pointermove:2,pointerup:B,pointercancel:H,pointerout:H},ft={2:"touch",3:"pen",4:"mouse",5:"kinect"},ht="pointerdown",pt="pointermove pointerup pointercancel";function gt(){this.evEl=ht,this.evWin=pt,J.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(ht="MSPointerDown",pt="MSPointerMove MSPointerUp MSPointerCancel"),x(gt,J,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=dt[r],o=ft[t.pointerType]||t.pointerType,a="touch"==o,l=O(e,t.pointerId,"pointerId");i&V&&(0===t.button||a)?l<0&&(e.push(t),l=e.length-1):i&(B|H)&&(n=!0),l<0||(e[l]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(l,1))}});var mt={touchstart:V,touchmove:2,touchend:B,touchcancel:H},yt="touchstart",vt="touchstart touchmove touchend touchcancel";function bt(){this.evTarget=yt,this.evWin=vt,this.started=!1,J.apply(this,arguments)}x(bt,J,{handler:function(t){var e=mt[t.type];if(e===V&&(this.started=!0),this.started){var n=(function(t,e){var n=P(t.touches),r=P(t.changedTouches);return e&(B|H)&&(n=I(n.concat(r),"identifier",!0)),[n,r]}).call(this,t,e);e&(B|H)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var _t={touchstart:V,touchmove:2,touchend:B,touchcancel:H},xt="touchstart touchmove touchend touchcancel";function wt(){this.evTarget=xt,this.targetIds={},J.apply(this,arguments)}x(wt,J,{handler:function(t){var e=_t[t.type],n=(function(t,e){var n=P(t.touches),r=this.targetIds;if(e&(2|V)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=P(t.changedTouches),l=[],s=this.target;if(o=n.filter(function(t){return M(t.target,s)}),e===V)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&l.push(a[i]),e&(B|H)&&delete r[a[i].identifier],i++;return l.length?[I(o.concat(l),"identifier",!0),l]:void 0}).call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});var kt=2500;function Tt(){J.apply(this,arguments);var t=w(this.handler,this);this.touch=new wt(this.manager,t),this.mouse=new ct(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Ct(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout(function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)},kt)}}x(Tt,J,{handler:function(t,e,n){var r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)(function(t,e){t&V?(this.primaryTouch=e.changedPointers[0].identifier,Ct.call(this,e)):t&(B|H)&&Ct.call(this,e)}).call(this,e,n);else if(r&&(function(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}).call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var At=D(c.style,"touchAction"),Mt=At!==l,St=function(){if(!Mt)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||i.CSS.supports("touch-action",n)}),t}();function Et(t,e){this.manager=t,this.set(e)}Et.prototype={set:function(t){"compute"==t&&(t=this.compute()),Mt&&this.manager.element.style&&St[t]&&(this.manager.element.style[At]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return y(this.manager.recognizers,function(e){k(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(S(t,"none"))return"none";var e=S(t,"pan-x"),n=S(t,"pan-y");return e&&n?"none":e||n?e?"pan-x":"pan-y":S(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=S(r,"none")&&!St.none,o=S(r,"pan-y")&&!St["pan-y"],a=S(r,"pan-x")&&!St["pan-x"];if(i&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!a||!o)return i||o&&n&Z||a&&n&X?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Ot=1,Pt=2,It=4,Dt=8,Lt=Dt,Rt=16;function Nt(t){this.options=s({},this.defaults,t||{}),this.id=L++,this.manager=null,this.options.enable=T(this.options.enable,!0),this.state=Ot,this.simultaneous={},this.requireFail=[]}function Ft(t){return t&Rt?"cancel":t&Dt?"end":t&It?"move":t&Pt?"start":""}function zt(t){return t==Y?"down":t==W?"up":t==U?"left":t==G?"right":""}function jt(t,e){var n=e.manager;return n?n.get(t):t}function Vt(){Nt.apply(this,arguments)}function Bt(){Vt.apply(this,arguments),this.pX=null,this.pY=null}function Ht(){Vt.apply(this,arguments)}function qt(){Nt.apply(this,arguments),this._timer=null,this._input=null}function Ut(){Vt.apply(this,arguments)}function Gt(){Vt.apply(this,arguments)}function Wt(){Nt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Yt(t,e){return(e=e||{}).recognizers=T(e.recognizers,Yt.defaults.preset),new Zt(t,e)}function Zt(t,e){var n;this.options=s({},Yt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(F?gt:z?wt:N?Tt:ct))(n,tt),this.touchAction=new Et(this,this.options.touchAction),Xt(this,!0),y(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function Xt(t,e){var n,r=t.element;r.style&&(y(t.options.cssProps,function(i,o){n=D(r.style,o),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={}))}Nt.prototype={defaults:{},set:function(t){return s(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=jt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)?this:(t=jt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===O(e,t=jt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=jt(t,this);var e=O(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<Dt&&r(e.options.event+Ft(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=Dt&&r(e.options.event+Ft(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Ot)))return!1;t++}return!0},recognize:function(t){var e=s({},t);if(!k(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(Lt|Rt|32)&&(this.state=Ot),this.state=this.process(e),this.state&(Pt|It|Dt|Rt)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},x(Vt,Nt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(Pt|It),i=this.attrTest(t);return r&&(n&H||!i)?e|Rt:r||i?n&B?e|Dt:e&Pt?e|It:Pt:32}}),x(Bt,Vt,{defaults:{event:"pan",threshold:10,pointers:1,direction:Q},getTouchAction:function(){var t=this.options.direction,e=[];return t&Z&&e.push("pan-y"),t&X&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(e.direction&Z?(i=0===o?q:o<0?U:G,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===a?q:a<0?W:Y,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return Vt.prototype.attrTest.call(this,t)&&(this.state&Pt||!(this.state&Pt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=zt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),x(Ht,Vt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Pt)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),x(qt,Nt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(B|H)&&!i)this.reset();else if(t.eventType&V)this.reset(),this._timer=g(function(){this.state=Lt,this.tryEmit()},e.time,this);else if(t.eventType&B)return Lt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Lt&&(t&&t.eventType&B?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),x(Ut,Vt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Pt)}}),x(Gt,Vt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Z|X,pointers:1},getTouchAction:function(){return Bt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Z|X)?e=t.overallVelocity:n&Z?e=t.overallVelocityX:n&X&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&h(e)>this.options.velocity&&t.eventType&B},emit:function(t){var e=zt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),x(Wt,Nt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),t.eventType&V&&0===this.count)return this.failTimeout();if(r&&i&&n){if(t.eventType!=B)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||ot(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=g(function(){this.state=Lt,this.tryEmit()},e.interval,this),Pt):Lt}return 32},failTimeout:function(){return this._timer=g(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Lt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Yt.VERSION="2.0.7",Yt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Ut,{enable:!1}],[Ht,{enable:!1},["rotate"]],[Gt,{direction:Z}],[Bt,{direction:Z},["swipe"]],[Wt],[Wt,{event:"doubletap",taps:2},["tap"]],[qt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Zt.prototype={set:function(t){return s(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&i.state&Lt)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&n.state&(Pt|It|Dt)&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Nt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=O(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==l&&e!==l){var n=this.handlers;return y(E(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==l){var n=this.handlers;return y(E(t),function(t){e?n[t]&&n[t].splice(O(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&Xt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},s(Yt,{INPUT_START:V,INPUT_MOVE:2,INPUT_END:B,INPUT_CANCEL:H,STATE_POSSIBLE:Ot,STATE_BEGAN:Pt,STATE_CHANGED:It,STATE_ENDED:Dt,STATE_RECOGNIZED:Lt,STATE_CANCELLED:Rt,STATE_FAILED:32,DIRECTION_NONE:q,DIRECTION_LEFT:U,DIRECTION_RIGHT:G,DIRECTION_UP:W,DIRECTION_DOWN:Y,DIRECTION_HORIZONTAL:Z,DIRECTION_VERTICAL:X,DIRECTION_ALL:Q,Manager:Zt,Input:J,TouchAction:Et,TouchInput:wt,MouseInput:ct,PointerEventInput:gt,TouchMouseInput:Tt,SingleTouchInput:bt,Recognizer:Nt,AttrRecognizer:Vt,Tap:Wt,Pan:Bt,Swipe:Gt,Pinch:Ht,Rotate:Ut,Press:qt,on:C,off:A,each:y,merge:_,extend:b,assign:s,inherit:x,bindFn:w,prefixed:D}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=Yt,(r=(function(){return Yt}).call(e,n,e,t))===l||(t.exports=r)}(window,document)},z8Ot:function(t,e,n){var r;t.exports=function t(e,n,i){function o(l,s){if(!n[l]){if(!e[l]){if(!s&&"function"==typeof r&&r)return r(l,!0);if(a)return a(l,!0);var u=new Error("Cannot find module '"+l+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[l]={exports:{}};e[l][0].call(c.exports,function(t){return o(e[l][1][t]||t)},c,c.exports,t,e,n,i)}return n[l].exports}for(var a="function"==typeof r&&r,l=0;l<i.length;l++)o(i[l]);return o}({1:[function(t,e,n){"use strict";var r=t("../src/lib"),i={"X,X div":"font-family:'Open Sans', verdana, arial, sans-serif;margin:0;padding:0;","X input,X button":"font-family:'Open Sans', verdana, arial, sans-serif;","X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;z-index:1001;background:rgba(255,255,255,0.7);","X .modebar--hover":"opacity:0;-webkit-transition:opacity 0.3s ease 0s;-moz-transition:opacity 0.3s ease 0s;-ms-transition:opacity 0.3s ease 0s;-o-transition:opacity 0.3s ease 0s;transition:opacity 0.3s ease 0s;","X:hover .modebar--hover":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;margin-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-group:first-child":"margin-left:0px;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar-btn path":"fill:rgba(0,31,95,0.3);","X .modebar-btn.active path,X .modebar-btn:hover path":"fill:rgba(0,22,72,0.5);","X .modebar-btn.modebar-btn--logo":"padding:3px 1px;","X .modebar-btn.modebar-btn--logo path":"fill:#447adb !important;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":"content:'';position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;","X [data-title]:after":"content:attr(data-title);background:#69738a;color:white;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:white;","X .select-outline-2":"stroke:black;stroke-dasharray:2px 2px;",Y:"font-family:'Open Sans';position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;","Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,0.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:0.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var o in i){var a=o.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");r.addStyleRule(a,i[o])}},{"../src/lib":163}],2:[function(t,e,n){"use strict";e.exports={undo:{width:857.1,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",ascent:850,descent:-150},home:{width:928.6,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",ascent:850,descent:-150},"camera-retro":{width:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",ascent:850,descent:-150},zoombox:{width:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",ascent:850,descent:-150},pan:{width:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",ascent:850,descent:-150},zoom_plus:{width:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",ascent:850,descent:-150},zoom_minus:{width:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",ascent:850,descent:-150},autoscale:{width:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",ascent:850,descent:-150},tooltip_basic:{width:1500,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",ascent:850,descent:-150},tooltip_compare:{width:1125,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",ascent:850,descent:-150},plotlylogo:{width:1542,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",ascent:850,descent:-150},"z-axis":{width:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",ascent:850,descent:-150},"3d_rotate":{width:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",ascent:850,descent:-150},camera:{width:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",ascent:850,descent:-150},movie:{width:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",ascent:850,descent:-150},question:{width:857.1,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",ascent:850,descent:-150},disk:{width:857.1,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",ascent:850,descent:-150},lasso:{width:1031,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",ascent:850,descent:-150},selectbox:{width:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",ascent:850,descent:-150},spikeline:{width:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",ascent:850,descent:-150}}},{}],3:[function(t,e,n){"use strict";e.exports=t("../src/traces/bar")},{"../src/traces/bar":259}],4:[function(t,e,n){"use strict";e.exports=t("../src/core")},{"../src/core":148}],5:[function(t,e,n){"use strict";var r=t("./core");r.register([t("./bar"),t("./pie")]),e.exports=r},{"./bar":3,"./core":4,"./pie":6}],6:[function(t,e,n){"use strict";e.exports=t("../src/traces/pie")},{"../src/traces/pie":274}],7:[function(t,e,n){!function(){var t={version:"3.5.17"},n=[].slice,r=function(t){return n.call(t)},i=this.document;function o(t){return t&&(t.ownerDocument||t.document||t).documentElement}function a(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(i)try{r(i.documentElement.childNodes)}catch(t){r=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),i)try{i.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var l=this.Element.prototype,s=l.setAttribute,u=l.setAttributeNS,c=this.CSSStyleDeclaration.prototype,d=c.setProperty;l.setAttribute=function(t,e){s.call(this,t,e+"")},l.setAttributeNS=function(t,e,n){u.call(this,t,e,n+"")},c.setProperty=function(t,e,n){d.call(this,t,e+"",n)}}function f(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function h(t){return null===t?NaN:+t}function p(t){return!isNaN(t)}function g(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}t.ascending=f,t.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},t.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},t.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},t.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=t[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e.call(t,t[o],o))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},t.sum=function(t,e){var n,r=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)p(n=+t[o])&&(r+=n);else for(;++o<i;)p(n=+e.call(t,t[o],o))&&(r+=n);return r},t.mean=function(t,e){var n,r=0,i=t.length,o=-1,a=i;if(1===arguments.length)for(;++o<i;)p(n=h(t[o]))?r+=n:--a;else for(;++o<i;)p(n=h(e.call(t,t[o],o)))?r+=n:--a;if(a)return r/a},t.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},t.median=function(e,n){var r,i=[],o=e.length,a=-1;if(1===arguments.length)for(;++a<o;)p(r=h(e[a]))&&i.push(r);else for(;++a<o;)p(r=h(n.call(e,e[a],a)))&&i.push(r);if(i.length)return t.quantile(i.sort(f),.5)},t.variance=function(t,e){var n,r,i=t.length,o=0,a=0,l=-1,s=0;if(1===arguments.length)for(;++l<i;)p(n=h(t[l]))&&(o+=(r=n-o)/++s,a+=r*(n-o));else for(;++l<i;)p(n=h(e.call(t,t[l],l)))&&(o+=(r=n-o)/++s,a+=r*(n-o));if(s>1)return a/(s-1)},t.deviation=function(){var e=t.variance.apply(this,arguments);return e?Math.sqrt(e):e};var m=g(f);function y(t){return t.length}t.bisectLeft=m.left,t.bisect=t.bisectRight=m.right,t.bisector=function(t){return g(1===t.length?function(e,n){return f(t(e),n)}:t)},t.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var r,i,o=n-e;o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},t.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},t.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},t.transpose=function(e){if(!(o=e.length))return[];for(var n=-1,r=t.min(e,y),i=new Array(r);++n<r;)for(var o,a=-1,l=i[n]=new Array(o);++a<o;)l[a]=e[a][n];return i},t.zip=function(){return t.transpose(arguments)},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e},t.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},t.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},t.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n};var v=Math.abs;function b(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function _(){this._=Object.create(null)}t.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var r,i=[],o=function(t){for(var e=1;t*e%1;)e*=10;return e}(v(n)),a=-1;if(t*=o,e*=o,(n*=o)<0)for(;(r=t+n*++a)>e;)i.push(r/o);else for(;(r=t+n*++a)<e;)i.push(r/o);return i},t.map=function(t,e){var n=new _;if(t instanceof _)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e.call(t,r=t[i],i),r)}else for(var a in t)n.set(a,t[a]);return n};var x="__proto__",w="\0";function k(t){return(t+="")===x||t[0]===w?w+t:t}function T(t){return(t+="")[0]===w?t.slice(1):t}function C(t){return k(t)in this._}function A(t){return(t=k(t))in this._&&delete this._[t]}function M(){var t=[];for(var e in this._)t.push(T(e));return t}function S(){var t=0;for(var e in this._)++t;return t}function E(){for(var t in this._)return!1;return!0}function O(){this._=Object.create(null)}function P(t){return t}function I(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function D(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=L.length;n<r;++n){var i=L[n]+e;if(i in t)return i}}b(_,{has:C,get:function(t){return this._[k(t)]},set:function(t,e){return this._[k(t)]=e},remove:A,keys:M,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:T(e),value:this._[e]});return t},size:S,empty:E,forEach:function(t){for(var e in this._)t.call(this,T(e),this._[e])}}),t.nest=function(){var e,n,r={},i=[],o=[];function a(t,o,l){if(l>=i.length)return n?n.call(r,o):e?o.sort(e):o;for(var s,u,c,d,f=-1,h=o.length,p=i[l++],g=new _;++f<h;)(d=g.get(s=p(u=o[f])))?d.push(u):g.set(s,[u]);return t?(u=t(),c=function(e,n){u.set(e,a(t,n,l))}):(u={},c=function(e,n){u[e]=a(t,n,l)}),g.forEach(c),u}return r.map=function(t,e){return a(e,t,0)},r.entries=function(e){return function t(e,n){if(n>=i.length)return e;var r=[],a=o[n++];return e.forEach(function(e,i){r.push({key:e,values:t(i,n)})}),a?r.sort(function(t,e){return a(t.key,e.key)}):r}(a(t.map,e,0),0)},r.key=function(t){return i.push(t),r},r.sortKeys=function(t){return o[i.length-1]=t,r},r.sortValues=function(t){return e=t,r},r.rollup=function(t){return n=t,r},r},t.set=function(t){var e=new O;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},b(O,{has:C,add:function(t){return this._[k(t+="")]=!0,t},remove:A,values:M,size:S,empty:E,forEach:function(t){for(var e in this._)t.call(this,T(e))}}),t.behavior={},t.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=I(t,e,e[n]);return t};var L=["webkit","ms","moz","Moz","o","O"];function R(){}function N(){}function F(t){var e=[],n=new _;function r(){for(var n,r=e,i=-1,o=r.length;++i<o;)(n=r[i].on)&&n.apply(this,arguments);return t}return r.on=function(r,i){var o,a=n.get(r);return arguments.length<2?a&&a.on:(a&&(a.on=null,e=e.slice(0,o=e.indexOf(a)).concat(e.slice(o+1)),n.remove(r)),i&&e.push(n.set(r,{on:i})),t)},r}function z(){t.event.preventDefault()}function j(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n}function V(e){for(var n=new N,r=0,i=arguments.length;++r<i;)n[arguments[r]]=F(n);return n.of=function(r,i){return function(o){try{var a=o.sourceEvent=t.event;o.target=e,t.event=o,n[o.type].apply(r,i)}finally{t.event=a}}},n}t.dispatch=function(){for(var t=new N,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=F(t);return t},N.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},t.event=null,t.requote=function(t){return t.replace(B,"\\$&")};var B=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,H={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function q(t){return H(t,Y),t}var U=function(t,e){return e.querySelector(t)},G=function(t,e){return e.querySelectorAll(t)},W=function(t,e){var n=t.matches||t[D(t,"matchesSelector")];return(W=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(U=function(t,e){return Sizzle(t,e)[0]||null},G=Sizzle,W=Sizzle.matchesSelector),t.selection=function(){return t.select(i.documentElement)};var Y=t.selection.prototype=[];function Z(t){return"function"==typeof t?t:function(){return U(t,this)}}function X(t){return"function"==typeof t?t:function(){return G(t,this)}}Y.select=function(t){var e,n,r,i,o=[];t=Z(t);for(var a=-1,l=this.length;++a<l;){o.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var s=-1,u=r.length;++s<u;)(i=r[s])?(e.push(n=t.call(i,i.__data__,s,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return q(o)},Y.selectAll=function(t){var e,n,i=[];t=X(t);for(var o=-1,a=this.length;++o<a;)for(var l=this[o],s=-1,u=l.length;++s<u;)(n=l[s])&&(i.push(e=r(t.call(n,n.__data__,s,o))),e.parentNode=n);return q(i)};var Q="http://www.w3.org/1999/xhtml",K={svg:"http://www.w3.org/2000/svg",xhtml:Q,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $(e,n){return e=t.ns.qualify(e),null==n?e.local?function(){this.removeAttributeNS(e.space,e.local)}:function(){this.removeAttribute(e)}:"function"==typeof n?e.local?function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}:function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}:e.local?function(){this.setAttributeNS(e.space,e.local,n)}:function(){this.setAttribute(e,n)}}function J(t){return t.trim().replace(/\s+/g," ")}function tt(e){return new RegExp("(?:^|\\s+)"+t.requote(e)+"(?:\\s+|$)","g")}function et(t){return(t+"").trim().split(/^|\s+/)}function nt(t,e){var n=(t=et(t).map(rt)).length;return"function"==typeof e?function(){for(var r=-1,i=e.apply(this,arguments);++r<n;)t[r](this,i)}:function(){for(var r=-1;++r<n;)t[r](this,e)}}function rt(t){var e=tt(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",J(i+" "+t))):n.setAttribute("class",J(i.replace(e," ")))}}function it(t,e,n){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}:function(){this.style.setProperty(t,e,n)}}function ot(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}:function(){this[t]=e}}function at(e){return"function"==typeof e?e:(e=t.ns.qualify(e)).local?function(){return this.ownerDocument.createElementNS(e.space,e.local)}:function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Q&&t.documentElement.namespaceURI===Q?t.createElement(e):t.createElementNS(n,e)}}function lt(){var t=this.parentNode;t&&t.removeChild(this)}function st(t){return{__data__:t}}function ut(t){return function(){return W(this,t)}}function ct(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,o=t[n],a=0,l=o.length;a<l;a++)(i=o[a])&&e(i,a,n);return t}function dt(t){return H(t,ft),t}t.ns={prefix:K,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),K.hasOwnProperty(n)?{space:K[n],local:t}:t}},Y.attr=function(e,n){if(arguments.length<2){if("string"==typeof e){var r=this.node();return(e=t.ns.qualify(e)).local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}for(n in e)this.each($(n,e[n]));return this}return this.each($(e,n))},Y.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=et(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!tt(t[i]).test(e))return!1;return!0}for(e in t)this.each(nt(e,t[e]));return this}return this.each(nt(t,e))},Y.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.each(it(n,t[n],e));return this}if(r<2){var i=this.node();return a(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(it(t,e,n))},Y.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(ot(e,t[e]));return this}return this.each(ot(t,e))},Y.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Y.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Y.append=function(t){return t=at(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Y.insert=function(t,e){return t=at(t),e=Z(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Y.remove=function(){return this.each(lt)},Y.data=function(t,e){var n,r,i=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(n=this[0]).length);++i<o;)(r=n[i])&&(t[i]=r.__data__);return t}function a(t,n){var r,i,o,a=t.length,c=n.length,d=Math.min(a,c),f=new Array(c),h=new Array(c),p=new Array(a);if(e){var g,m=new _,y=new Array(a);for(r=-1;++r<a;)(i=t[r])&&(m.has(g=e.call(i,i.__data__,r))?p[r]=i:m.set(g,i),y[r]=g);for(r=-1;++r<c;)(i=m.get(g=e.call(n,o=n[r],r)))?!0!==i&&(f[r]=i,i.__data__=o):h[r]=st(o),m.set(g,!0);for(r=-1;++r<a;)r in y&&!0!==m.get(y[r])&&(p[r]=t[r])}else{for(r=-1;++r<d;)o=n[r],(i=t[r])?(i.__data__=o,f[r]=i):h[r]=st(o);for(;r<c;++r)h[r]=st(n[r]);for(;r<a;++r)p[r]=t[r]}h.update=f,h.parentNode=f.parentNode=p.parentNode=t.parentNode,l.push(h),s.push(f),u.push(p)}var l=dt([]),s=q([]),u=q([]);if("function"==typeof t)for(;++i<o;)a(n=this[i],t.call(n,n.parentNode.__data__,i));else for(;++i<o;)a(n=this[i],t);return s.enter=function(){return l},s.exit=function(){return u},s},Y.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Y.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=ut(t));for(var o=0,a=this.length;o<a;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var l=0,s=n.length;l<s;l++)(r=n[l])&&t.call(r,r.__data__,l,o)&&e.push(r)}return q(i)},Y.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Y.sort=function(t){t=(function(t){return arguments.length||(t=f),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}).apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Y.each=function(t){return ct(this,function(e,n,r){t.call(e,e.__data__,n,r)})},Y.call=function(t){var e=r(arguments);return t.apply(e[0]=this,e),this},Y.empty=function(){return!this.node()},Y.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},Y.size=function(){var t=0;return ct(this,function(){++t}),t};var ft=[];function ht(e,n,i){var o="__on"+e,a=e.indexOf("."),l=gt;a>0&&(e=e.slice(0,a));var s=pt.get(e);function u(){var t=this[o];t&&(this.removeEventListener(e,t,t.$),delete this[o])}return s&&(e=s,l=mt),a?n?function(){var t=l(n,r(arguments));u.call(this),this.addEventListener(e,this[o]=t,t.$=i),t._=n}:u:n?R:function(){var n,r=new RegExp("^__on([^.]+)"+t.requote(e)+"$");for(var i in this)if(n=i.match(r)){var o=this[i];this.removeEventListener(n[1],o,o.$),delete this[i]}}}t.selection.enter=dt,t.selection.enter.prototype=ft,ft.append=Y.append,ft.empty=Y.empty,ft.node=Y.node,ft.call=Y.call,ft.size=Y.size,ft.select=function(t){for(var e,n,r,i,o,a=[],l=-1,s=this.length;++l<s;){r=(i=this[l]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var u=-1,c=i.length;++u<c;)(o=i[u])?(e.push(r[u]=n=t.call(i.parentNode,o.__data__,u,l)),n.__data__=o.__data__):e.push(null)}return q(a)},ft.insert=function(t,e){var n,r,i;return arguments.length<2&&(n=this,e=function(t,e,o){var a,l=n[o].update,s=l.length;for(o!=i&&(i=o,r=0),e>=r&&(r=e+1);!(a=l[r])&&++r<s;);return a}),Y.insert.call(this,t,e)},t.select=function(t){var e;return"string"==typeof t?(e=[U(t,i)]).parentNode=i.documentElement:(e=[t]).parentNode=o(t),q([e])},t.selectAll=function(t){var e;return"string"==typeof t?(e=r(G(t,i))).parentNode=i.documentElement:(e=r(t)).parentNode=null,q([e])},Y.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=!1),t)this.each(ht(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(ht(t,e,n))};var pt=t.map({mouseenter:"mouseover",mouseleave:"mouseout"});function gt(e,n){return function(r){var i=t.event;t.event=r,n[0]=this.__data__;try{e.apply(this,n)}finally{t.event=i}}}function mt(t,e){var n=gt(t,e);return function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}i&&pt.forEach(function(t){"on"+t in i&&pt.remove(t)});var yt,vt=0;function bt(e){var n=".dragsuppress-"+ ++vt,r="click"+n,i=t.select(a(e)).on("touchmove"+n,z).on("dragstart"+n,z).on("selectstart"+n,z);if(null==yt&&(yt=!("onselectstart"in e)&&D(e.style,"userSelect")),yt){var l=o(e).style,s=l[yt];l[yt]="none"}return function(t){if(i.on(n,null),yt&&(l[yt]=s),t){var e=function(){i.on(r,null)};i.on(r,function(){z(),e()},!0),setTimeout(e,0)}}}t.mouse=function(t){return xt(t,j())};var _t=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function xt(e,n){n.changedTouches&&(n=n.changedTouches[0]);var r=e.ownerSVGElement||e;if(r.createSVGPoint){var i=r.createSVGPoint();if(_t<0){var o=a(e);if(o.scrollX||o.scrollY){var l=(r=t.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();_t=!(l.f||l.e),r.remove()}}return _t?(i.x=n.pageX,i.y=n.pageY):(i.x=n.clientX,i.y=n.clientY),[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}var s=e.getBoundingClientRect();return[n.clientX-s.left-e.clientLeft,n.clientY-s.top-e.clientTop]}function wt(){return t.event.changedTouches[0].identifier}t.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=j().changedTouches),e)for(var r,i=0,o=e.length;i<o;++i)if((r=e[i]).identifier===n)return xt(t,r)},t.behavior.drag=function(){var e=V(o,"drag","dragstart","dragend"),n=null,r=l(R,t.mouse,a,"mousemove","mouseup"),i=l(wt,t.touch,P,"touchmove","touchend");function o(){this.on("mousedown.drag",r).on("touchstart.drag",i)}function l(r,i,o,a,l){return function(){var s,u=t.event.target.correspondingElement||t.event.target,c=this.parentNode,d=e.of(this,arguments),f=0,h=r(),p=".drag"+(null==h?"":"-"+h),g=t.select(o(u)).on(a+p,function(){var t,e,n=i(c,h);n&&(f|=(t=n[0]-y[0])|(e=n[1]-y[1]),y=n,d({type:"drag",x:n[0]+s[0],y:n[1]+s[1],dx:t,dy:e}))}).on(l+p,function(){i(c,h)&&(g.on(a+p,null).on(l+p,null),m(f),d({type:"dragend"}))}),m=bt(u),y=i(c,h);s=n?[(s=n.apply(this,arguments)).x-y[0],s.y-y[1]]:[0,0],d({type:"dragstart"})}}return o.origin=function(t){return arguments.length?(n=t,o):n},t.rebind(o,e,"on")},t.touches=function(t,e){return arguments.length<2&&(e=j().touches),e?r(e).map(function(e){var n=xt(t,e);return n.identifier=e.identifier,n}):[]};var kt=1e-6,Tt=kt*kt,Ct=Math.PI,At=2*Ct,Mt=At-kt,St=Ct/2,Et=Ct/180,Ot=180/Ct;function Pt(t){return t>0?1:t<0?-1:0}function It(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Dt(t){return t>1?0:t<-1?Ct:Math.acos(t)}function Lt(t){return t>1?St:t<-1?-St:Math.asin(t)}function Rt(t){return((t=Math.exp(t))+1/t)/2}function Nt(t){return(t=Math.sin(t/2))*t}var Ft=Math.SQRT2;t.interpolateZoom=function(t,e){var n,r,i=t[0],o=t[1],a=t[2],l=e[2],s=e[0]-i,u=e[1]-o,c=s*s+u*u;if(c<Tt)r=Math.log(l/a)/Ft,n=function(t){return[i+t*s,o+t*u,a*Math.exp(Ft*t*r)]};else{var d=Math.sqrt(c),f=(l*l-a*a+4*c)/(2*a*2*d),h=(l*l-a*a-4*c)/(2*l*2*d),p=Math.log(Math.sqrt(f*f+1)-f),g=Math.log(Math.sqrt(h*h+1)-h);r=(g-p)/Ft,n=function(t){var e,n=t*r,l=Rt(p),c=a/(2*d)*(l*(e=Ft*n+p,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(p));return[i+c*s,o+c*u,a*l/Rt(Ft*n+p)]}}return n.duration=1e3*r,n},t.behavior.zoom=function(){var e,n,r,o,l,s,u,c,d,f={x:0,y:0,k:1},h=[960,500],p=Vt,g=250,m=0,y="mousedown.zoom",v="mousemove.zoom",b="mouseup.zoom",_="touchstart.zoom",x=V(w,"zoomstart","zoom","zoomend");function w(t){t.on(y,P).on(jt+".zoom",D).on("dblclick.zoom",L).on(_,I)}function k(t){return[(t[0]-f.x)/f.k,(t[1]-f.y)/f.k]}function T(t){f.k=Math.max(p[0],Math.min(p[1],t))}function C(t,e){e=function(t){return[t[0]*f.k+f.x,t[1]*f.k+f.y]}(e),f.x+=t[0]-e[0],f.y+=t[1]-e[1]}function A(e,r,i,o){e.__chart__={x:f.x,y:f.y,k:f.k},T(Math.pow(2,o)),C(n=r,i),e=t.select(e),g>0&&(e=e.transition().duration(g)),e.call(w.event)}function M(){u&&u.domain(s.range().map(function(t){return(t-f.x)/f.k}).map(s.invert)),d&&d.domain(c.range().map(function(t){return(t-f.y)/f.k}).map(c.invert))}function S(t){m++||t({type:"zoomstart"})}function E(t){M(),t({type:"zoom",scale:f.k,translate:[f.x,f.y]})}function O(t){--m||(t({type:"zoomend"}),n=null)}function P(){var e=this,n=x.of(e,arguments),r=0,i=t.select(a(e)).on(v,function(){r=1,C(t.mouse(e),o),E(n)}).on(b,function(){i.on(v,null).on(b,null),l(r),O(n)}),o=k(t.mouse(e)),l=bt(e);al.call(e),S(n)}function I(){var e,n=this,r=x.of(n,arguments),i={},o=0,a=".zoom-"+t.event.changedTouches[0].identifier,s="touchmove"+a,u="touchend"+a,c=[],d=t.select(n),h=bt(n);function p(){var r=t.touches(n);return e=f.k,r.forEach(function(t){t.identifier in i&&(i[t.identifier]=k(t))}),r}function g(){var e=t.event.target;t.select(e).on(s,m).on(u,v),c.push(e);for(var r=t.event.changedTouches,a=0,d=r.length;a<d;++a)i[r[a].identifier]=null;var h=p(),g=Date.now();if(1===h.length)g-l<500&&(A(n,y=h[0],i[y.identifier],Math.floor(Math.log(f.k)/Math.LN2)+1),z()),l=g;else if(h.length>1){var y,b=h[1],_=(y=h[0])[0]-b[0],x=y[1]-b[1];o=_*_+x*x}}function m(){var a,s,u,c,d=t.touches(n);al.call(n);for(var f=0,h=d.length;f<h;++f,c=null)if(c=i[(u=d[f]).identifier]){if(s)break;a=u,s=c}if(c){var p=(p=u[0]-a[0])*p+(p=u[1]-a[1])*p,g=o&&Math.sqrt(p/o);a=[(a[0]+u[0])/2,(a[1]+u[1])/2],s=[(s[0]+c[0])/2,(s[1]+c[1])/2],T(g*e)}l=null,C(a,s),E(r)}function v(){if(t.event.touches.length){for(var e=t.event.changedTouches,n=0,o=e.length;n<o;++n)delete i[e[n].identifier];for(var l in i)return void p()}t.selectAll(c).on(a,null),d.on(y,P).on(_,I),h(),O(r)}g(),S(r),d.on(y,null).on(_,g)}function D(){var i=x.of(this,arguments);o?clearTimeout(o):(al.call(this),e=k(n=r||t.mouse(this)),S(i)),o=setTimeout(function(){o=null,O(i)},50),z(),T(Math.pow(2,.002*zt())*f.k),C(n,e),E(i)}function L(){var e=t.mouse(this),n=Math.log(f.k)/Math.LN2;A(this,e,k(e),t.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}return jt||(jt="onwheel"in i?(zt=function(){return-t.event.deltaY*(t.event.deltaMode?120:1)},"wheel"):"onmousewheel"in i?(zt=function(){return t.event.wheelDelta},"mousewheel"):(zt=function(){return-t.event.detail},"MozMousePixelScroll")),w.event=function(e){e.each(function(){var e=x.of(this,arguments),r=f;ul?t.select(this).transition().each("start.zoom",function(){f=this.__chart__||{x:0,y:0,k:1},S(e)}).tween("zoom:zoom",function(){var i=h[0],o=n?n[0]:i/2,a=n?n[1]:h[1]/2,l=t.interpolateZoom([(o-f.x)/f.k,(a-f.y)/f.k,i/f.k],[(o-r.x)/r.k,(a-r.y)/r.k,i/r.k]);return function(t){var n=l(t),r=i/n[2];this.__chart__=f={x:o-n[0]*r,y:a-n[1]*r,k:r},E(e)}}).each("interrupt.zoom",function(){O(e)}).each("end.zoom",function(){O(e)}):(this.__chart__=f,S(e),E(e),O(e))})},w.translate=function(t){return arguments.length?(f={x:+t[0],y:+t[1],k:f.k},M(),w):[f.x,f.y]},w.scale=function(t){return arguments.length?(f={x:f.x,y:f.y,k:null},T(+t),M(),w):f.k},w.scaleExtent=function(t){return arguments.length?(p=null==t?Vt:[+t[0],+t[1]],w):p},w.center=function(t){return arguments.length?(r=t&&[+t[0],+t[1]],w):r},w.size=function(t){return arguments.length?(h=t&&[+t[0],+t[1]],w):h},w.duration=function(t){return arguments.length?(g=+t,w):g},w.x=function(t){return arguments.length?(u=t,s=t.copy(),f={x:0,y:0,k:1},w):u},w.y=function(t){return arguments.length?(d=t,c=t.copy(),f={x:0,y:0,k:1},w):d},t.rebind(w,x,"on")};var zt,jt,Vt=[0,1/0];function Bt(){}function Ht(t,e,n){return this instanceof Ht?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof Ht?new Ht(t.h,t.s,t.l):ue(""+t,ce,Ht):new Ht(t,e,n)}t.color=Bt,Bt.prototype.toString=function(){return this.rgb()+""},t.hsl=Ht;var qt=Ht.prototype=new Bt;function Ut(t,e,n){var r,i;function o(t){return Math.round(255*function(t){return t>360?t-=360:t<0&&(t+=360),t<60?r+(i-r)*t/60:t<180?i:t<240?r+(i-r)*(240-t)/60:r}(t))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,r=2*(n=n<0?0:n>1?1:n)-(i=n<=.5?n*(1+e):n+e-n*e),new ie(o(t+120),o(t),o(t-120))}function Gt(e,n,r){return this instanceof Gt?(this.h=+e,this.c=+n,void(this.l=+r)):arguments.length<2?e instanceof Gt?new Gt(e.h,e.c,e.l):function(t,e,n){return t>0?new Gt(Math.atan2(n,e)*Ot,Math.sqrt(e*e+n*n),t):new Gt(NaN,NaN,t)}(e instanceof Zt?e.l:(e=de((e=t.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new Gt(e,n,r)}qt.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new Ht(this.h,this.s,this.l/t)},qt.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new Ht(this.h,this.s,t*this.l)},qt.rgb=function(){return Ut(this.h,this.s,this.l)},t.hcl=Gt;var Wt=Gt.prototype=new Bt;function Yt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new Zt(n,Math.cos(t*=Et)*e,Math.sin(t)*e)}function Zt(t,e,n){return this instanceof Zt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof Zt?new Zt(t.l,t.a,t.b):t instanceof Gt?Yt(t.h,t.c,t.l):de((t=ie(t)).r,t.g,t.b):new Zt(t,e,n)}Wt.brighter=function(t){return new Gt(this.h,this.c,Math.min(100,this.l+Xt*(arguments.length?t:1)))},Wt.darker=function(t){return new Gt(this.h,this.c,Math.max(0,this.l-Xt*(arguments.length?t:1)))},Wt.rgb=function(){return Yt(this.h,this.c,this.l).rgb()},t.lab=Zt;var Xt=18,Qt=.95047,Kt=1,$t=1.08883,Jt=Zt.prototype=new Bt;function te(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return new ie(re(3.2404542*(i=ee(i)*Qt)-1.5371385*(r=ee(r)*Kt)-.4985314*(o=ee(o)*$t)),re(-.969266*i+1.8760108*r+.041556*o),re(.0556434*i-.2040259*r+1.0572252*o))}function ee(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function ne(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function re(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function ie(t,e,n){return this instanceof ie?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof ie?new ie(t.r,t.g,t.b):ue(""+t,ie,Ut):new ie(t,e,n)}function oe(t){return new ie(t>>16,t>>8&255,255&t)}function ae(t){return oe(t)+""}Jt.brighter=function(t){return new Zt(Math.min(100,this.l+Xt*(arguments.length?t:1)),this.a,this.b)},Jt.darker=function(t){return new Zt(Math.max(0,this.l-Xt*(arguments.length?t:1)),this.a,this.b)},Jt.rgb=function(){return te(this.l,this.a,this.b)},t.rgb=ie;var le=ie.prototype=new Bt;function se(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function ue(t,e,n){var r,i,o,a=0,l=0,s=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(he(i[0]),he(i[1]),he(i[2]))}return(o=pe.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,l=240&o,l|=l>>4,s=15&o,s|=s<<4):7===t.length&&(a=(16711680&o)>>16,l=(65280&o)>>8,s=255&o)),e(a,l,s))}function ce(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),l=a-o,s=(a+o)/2;return l?(i=s<.5?l/(a+o):l/(2-a-o),r=t==a?(e-n)/l+(e<n?6:0):e==a?(n-t)/l+2:(t-e)/l+4,r*=60):(r=NaN,i=s>0&&s<1?0:r),new Ht(r,i,s)}function de(t,e,n){var r=ne((.4124564*(t=fe(t))+.3575761*(e=fe(e))+.1804375*(n=fe(n)))/Qt),i=ne((.2126729*t+.7151522*e+.072175*n)/Kt);return Zt(116*i-16,500*(r-i),200*(i-ne((.0193339*t+.119192*e+.9503041*n)/$t)))}function fe(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function he(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}le.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new ie(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new ie(i,i,i)},le.darker=function(t){return new ie((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},le.hsl=function(){return ce(this.r,this.g,this.b)},le.toString=function(){return"#"+se(this.r)+se(this.g)+se(this.b)};var pe=t.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function ge(t){return"function"==typeof t?t:function(){return t}}function me(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),ye(e,n,t,r)}}function ye(e,n,i,o){var a={},l=t.dispatch("beforesend","progress","load","error"),s={},u=new XMLHttpRequest,c=null;function d(){var t,e=u.status;if(!e&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(u)||e>=200&&e<300||304===e){try{t=i.call(a,u)}catch(t){return void l.error.call(a,t)}l.load.call(a,t)}else l.error.call(a,u)}return!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(e)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=d:u.onreadystatechange=function(){u.readyState>3&&d()},u.onprogress=function(e){var n=t.event;t.event=e;try{l.progress.call(a,u)}finally{t.event=n}},a.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",a)},a.mimeType=function(t){return arguments.length?(n=null==t?null:t+"",a):n},a.responseType=function(t){return arguments.length?(c=t,a):c},a.response=function(t){return i=t,a},["get","post"].forEach(function(t){a[t]=function(){return a.send.apply(a,[t].concat(r(arguments)))}}),a.send=function(t,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),u.open(t,e,!0),null==n||"accept"in s||(s.accept=n+",*/*"),u.setRequestHeader)for(var o in s)u.setRequestHeader(o,s[o]);return null!=n&&u.overrideMimeType&&u.overrideMimeType(n),null!=c&&(u.responseType=c),null!=i&&a.on("error",i).on("load",function(t){i(null,t)}),l.beforesend.call(a,u),u.send(null==r?null:r),a},a.abort=function(){return u.abort(),a},t.rebind(a,l,"on"),null==o?a:a.get(function(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}(o))}pe.forEach(function(t,e){pe.set(t,oe(e))}),t.functor=ge,t.xhr=me(P),t.dsv=function(t,e){var n=new RegExp('["'+t+"\n]"),r=t.charCodeAt(0);function i(t,n,r){arguments.length<3&&(r=n,n=null);var i=ye(t,e,null==n?o:a(n),r);return i.row=function(t){return arguments.length?i.response(null==(n=t)?o:a(t)):n},i}function o(t){return i.parse(t.responseText)}function a(t){return function(e){return i.parse(e.responseText,t)}}function l(e){return e.map(s).join(t)}function s(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return i.parse=function(t,e){var n;return i.parseRows(t,function(t,r){if(n)return n(t,r-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");n=e?function(t,n){return e(i(t),n)}:i})},i.parseRows=function(t,e){var n,i,o={},a={},l=[],s=t.length,u=0,c=0;function d(){if(u>=s)return a;if(i)return i=!1,o;var e=u;if(34===t.charCodeAt(e)){for(var n=e;n++<s;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}return u=n+2,13===(l=t.charCodeAt(n+1))?(i=!0,10===t.charCodeAt(n+2)&&++u):10===l&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;u<s;){var l,c=1;if(10===(l=t.charCodeAt(u++)))i=!0;else if(13===l)i=!0,10===t.charCodeAt(u)&&(++u,++c);else if(l!==r)continue;return t.slice(e,u-c)}return t.slice(e)}for(;(n=d())!==a;){for(var f=[];n!==o&&n!==a;)f.push(n),n=d();e&&null==(f=e(f,c++))||l.push(f)}return l},i.format=function(e){if(Array.isArray(e[0]))return i.formatRows(e);var n=new O,r=[];return e.forEach(function(t){for(var e in t)n.has(e)||r.push(n.add(e))}),[r.map(s).join(t)].concat(e.map(function(e){return r.map(function(t){return s(e[t])}).join(t)})).join("\n")},i.formatRows=function(t){return t.map(l).join("\n")},i},t.csv=t.dsv(",","text/csv"),t.tsv=t.dsv("\t","text/tab-separated-values");var ve,be,_e,xe,we=this[D(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function ke(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i={c:t,t:n+e,n:null};return be?be.n=i:ve=i,be=i,_e||(xe=clearTimeout(xe),_e=1,we(Te)),i}function Te(){var t=Ce(),e=Ae()-t;e>24?(isFinite(e)&&(clearTimeout(xe),xe=setTimeout(Te,e)),_e=0):(_e=1,we(Te))}function Ce(){for(var t=Date.now(),e=ve;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Ae(){for(var t,e=ve,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:ve=e.n;return be=t,n}function Me(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}t.timer=function(){ke.apply(this,arguments)},t.timer.flush=function(){Ce(),Ae()},t.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Se=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(function(t,e){var n=Math.pow(10,3*v(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}});t.formatPrefix=function(e,n){var r=0;return(e=+e)&&(e<0&&(e*=-1),n&&(e=t.round(e,Me(e,n))),r=1+Math.floor(1e-12+Math.log(e)/Math.LN10),r=Math.max(-24,Math.min(24,3*Math.floor((r-1)/3)))),Se[8+r/3]};var Ee=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Oe=t.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(e,n){return(e=t.round(e,Me(e,n))).toFixed(Math.max(0,Math.min(20,Me(e*(1+1e-15),n))))}});function Pe(t){return t+""}var Ie=t.time={},De=Date;function Le(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Le.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Re.setUTCDate.apply(this._,arguments)},setDay:function(){Re.setUTCDay.apply(this._,arguments)},setFullYear:function(){Re.setUTCFullYear.apply(this._,arguments)},setHours:function(){Re.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Re.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Re.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Re.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Re.setUTCSeconds.apply(this._,arguments)},setTime:function(){Re.setTime.apply(this._,arguments)}};var Re=Date.prototype;function Ne(t,e,n){function r(e){var n=t(e),r=o(n,1);return e-n<r-e?n:r}function i(n){return e(n=t(new De(n-1)),1),n}function o(t,n){return e(t=new De(+t),n),t}function a(t,r,o){var a=i(t),l=[];if(o>1)for(;a<r;)n(a)%o||l.push(new Date(+a)),e(a,1);else for(;a<r;)l.push(new Date(+a)),e(a,1);return l}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=a;var l=t.utc=Fe(t);return l.floor=l,l.round=Fe(r),l.ceil=Fe(i),l.offset=Fe(o),l.range=function(t,e,n){try{De=Le;var r=new Le;return r._=t,a(r,e,n)}finally{De=Date}},t}function Fe(t){return function(e,n){try{De=Le;var r=new Le;return r._=e,t(r,n)._}finally{De=Date}}}Ie.year=Ne(function(t){return(t=Ie.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),Ie.years=Ie.year.range,Ie.years.utc=Ie.year.utc.range,Ie.day=Ne(function(t){var e=new De(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),Ie.days=Ie.day.range,Ie.days.utc=Ie.day.utc.range,Ie.dayOfYear=function(t){var e=Ie.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=Ie[t]=Ne(function(t){return(t=Ie.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=Ie.year(t).getDay();return Math.floor((Ie.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});Ie[t+"s"]=n.range,Ie[t+"s"].utc=n.utc.range,Ie[t+"OfYear"]=function(t){var n=Ie.year(t).getDay();return Math.floor((Ie.dayOfYear(t)+(n+e)%7)/7)}}),Ie.week=Ie.sunday,Ie.weeks=Ie.sunday.range,Ie.weeks.utc=Ie.sunday.utc.range,Ie.weekOfYear=Ie.sundayOfYear;var ze={"-":"",_:" ",0:"0"},je=/^\s*\d+/,Ve=/^%/;function Be(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function He(e){return new RegExp("^(?:"+e.map(t.requote).join("|")+")","i")}function qe(t){for(var e=new _,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Ue(t,e,n){je.lastIndex=0;var r=je.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ge(t,e,n){je.lastIndex=0;var r=je.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function We(t,e,n){je.lastIndex=0;var r=je.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Ye(t,e,n){je.lastIndex=0;var r=je.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Ze(t,e,n){je.lastIndex=0;var r,i=je.exec(e.slice(n,n+2));return i?(t.y=(r=+i[0])+(r>68?1900:2e3),n+i[0].length):-1}function Xe(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Qe(t,e,n){je.lastIndex=0;var r=je.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Ke(t,e,n){je.lastIndex=0;var r=je.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function $e(t,e,n){je.lastIndex=0;var r=je.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function Je(t,e,n){je.lastIndex=0;var r=je.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function tn(t,e,n){je.lastIndex=0;var r=je.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function en(t,e,n){je.lastIndex=0;var r=je.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function nn(t,e,n){je.lastIndex=0;var r=je.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function rn(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=v(e)/60|0,i=v(e)%60;return n+Be(r,"0",2)+Be(i,"0",2)}function on(t,e,n){Ve.lastIndex=0;var r=Ve.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function an(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}t.locale=function(e){return{numberFormat:function(e){var n=e.decimal,r=e.thousands,i=e.grouping,o=e.currency,a=i&&r?function(t,e){for(var n=t.length,o=[],a=0,l=i[0],s=0;n>0&&l>0&&(s+l+1>e&&(l=Math.max(1,e-s)),o.push(t.substring(n-=l,n+l)),!((s+=l+1)>e));)l=i[a=(a+1)%i.length];return o.reverse().join(r)}:P;return function(e){var r=Ee.exec(e),i=r[1]||" ",l=r[2]||">",s=r[3]||"-",u=r[4]||"",c=r[5],d=+r[6],f=r[7],h=r[8],p=r[9],g=1,m="",y="",v=!1,b=!0;switch(h&&(h=+h.substring(1)),(c||"0"===i&&"="===l)&&(c=i="0",l="="),p){case"n":f=!0,p="g";break;case"%":g=100,y="%",p="f";break;case"p":g=100,y="%",p="r";break;case"b":case"o":case"x":case"X":"#"===u&&(m="0"+p.toLowerCase());case"c":b=!1;case"d":v=!0,h=0;break;case"s":g=-1,p="r"}"$"===u&&(m=o[0],y=o[1]),"r"!=p||h||(p="g"),null!=h&&("g"==p?h=Math.max(1,Math.min(21,h)):"e"!=p&&"f"!=p||(h=Math.max(0,Math.min(20,h)))),p=Oe.get(p)||Pe;var _=c&&f;return function(e){var r=y;if(v&&e%1)return"";var o=e<0||0===e&&1/e<0?(e=-e,"-"):"-"===s?"":s;if(g<0){var u=t.formatPrefix(e,h);e=u.scale(e),r=u.symbol+y}else e*=g;var x,w,k=(e=p(e,h)).lastIndexOf(".");if(k<0){var T=b?e.lastIndexOf("e"):-1;T<0?(x=e,w=""):(x=e.substring(0,T),w=e.substring(T))}else x=e.substring(0,k),w=n+e.substring(k+1);!c&&f&&(x=a(x,1/0));var C=m.length+x.length+w.length+(_?0:o.length),A=C<d?new Array(C=d-C+1).join(i):"";return _&&(x=a(A+x,A.length?d-w.length:1/0)),o+=m,e=x+w,("<"===l?o+e+A:">"===l?A+o+e:"^"===l?A.substring(0,C>>=1)+o+e+A.substring(C):o+(_?e:A+e))+r}}}(e),timeFormat:function(e){var n=e.dateTime,r=e.date,i=e.time,o=e.periods,a=e.days,l=e.shortDays,s=e.months,u=e.shortMonths;function c(t){var e=t.length;function n(n){for(var r,i,o,a=[],l=-1,s=0;++l<e;)37===t.charCodeAt(l)&&(a.push(t.slice(s,l)),null!=(i=ze[r=t.charAt(++l)])&&(r=t.charAt(++l)),(o=x[r])&&(r=o(n,null==i?"e"===r?" ":"0":i)),a.push(r),s=l+1);return a.push(t.slice(s,l)),a.join("")}return n.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(d(n,t,e,0)!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&De!==Le,i=new(r?Le:De);return"j"in n?i.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),i.setFullYear(n.y,0,1),i.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(i.getDay()+5)%7:n.w+7*n.U-(i.getDay()+6)%7)):i.setFullYear(n.y,n.m,n.d),i.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),r?i._:i},n.toString=function(){return t},n}function d(t,e,n,r){for(var i,o,a,l=0,s=e.length,u=n.length;l<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(l++))){if(a=e.charAt(l++),!(o=w[a in ze?e.charAt(l++):a])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}c.multi=(c.utc=function(t){var e=c(t);function n(t){try{var n=new(De=Le);return n._=t,e(n)}finally{De=Date}}return n.parse=function(t){try{De=Le;var n=e.parse(t);return n&&n._}finally{De=Date}},n.toString=e.toString,n}).multi=an;var f=t.map(),h=He(a),p=qe(a),g=He(l),m=qe(l),y=He(s),v=qe(s),b=He(u),_=qe(u);o.forEach(function(t,e){f.set(t.toLowerCase(),e)});var x={a:function(t){return l[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:c(n),d:function(t,e){return Be(t.getDate(),e,2)},e:function(t,e){return Be(t.getDate(),e,2)},H:function(t,e){return Be(t.getHours(),e,2)},I:function(t,e){return Be(t.getHours()%12||12,e,2)},j:function(t,e){return Be(1+Ie.dayOfYear(t),e,3)},L:function(t,e){return Be(t.getMilliseconds(),e,3)},m:function(t,e){return Be(t.getMonth()+1,e,2)},M:function(t,e){return Be(t.getMinutes(),e,2)},p:function(t){return o[+(t.getHours()>=12)]},S:function(t,e){return Be(t.getSeconds(),e,2)},U:function(t,e){return Be(Ie.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Be(Ie.mondayOfYear(t),e,2)},x:c(r),X:c(i),y:function(t,e){return Be(t.getFullYear()%100,e,2)},Y:function(t,e){return Be(t.getFullYear()%1e4,e,4)},Z:rn,"%":function(){return"%"}},w={a:function(t,e,n){g.lastIndex=0;var r=g.exec(e.slice(n));return r?(t.w=m.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){h.lastIndex=0;var r=h.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){b.lastIndex=0;var r=b.exec(e.slice(n));return r?(t.m=_.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){y.lastIndex=0;var r=y.exec(e.slice(n));return r?(t.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,e,n){return d(t,x.c.toString(),e,n)},d:Ke,e:Ke,H:Je,I:Je,j:$e,L:nn,m:Qe,M:tn,p:function(t,e,n){var r=f.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)},S:en,U:Ge,w:Ue,W:We,x:function(t,e,n){return d(t,x.x.toString(),e,n)},X:function(t,e,n){return d(t,x.X.toString(),e,n)},y:Ze,Y:Ye,Z:Xe,"%":on};return c}(e)}};var ln=t.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function sn(){}t.format=ln.numberFormat,t.geo={},sn.prototype={s:0,t:0,add:function(t){cn(t,this.t,un),cn(un.s,this.s,this),this.s?this.t+=un.t:this.s=un.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var un=new sn;function cn(t,e,n){var r=n.s=t+e,i=r-t;n.t=t-(r-i)+(e-i)}function dn(t,e){t&&hn.hasOwnProperty(t.type)&&hn[t.type](t,e)}t.geo.stream=function(t,e){t&&fn.hasOwnProperty(t.type)?fn[t.type](t,e):dn(t,e)};var fn={Feature:function(t,e){dn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)dn(n[r].geometry,e)}},hn={Sphere:function(t,e){e.sphere()},Point:function(t,e){e.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)e.point((t=n[r])[0],t[1],t[2])},LineString:function(t,e){pn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)pn(n[r],e,0)},Polygon:function(t,e){gn(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)gn(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)dn(n[r],e)}};function pn(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)e.point((r=t[i])[0],r[1],r[2]);e.lineEnd()}function gn(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)pn(t[n],e,1);e.polygonEnd()}t.geo.area=function(e){return mn=0,t.geo.stream(e,En),mn};var mn,yn,vn,bn,_n,xn,wn,kn,Tn,Cn,An,Mn,Sn=new sn,En={sphere:function(){mn+=4*Ct},point:R,lineStart:R,lineEnd:R,polygonStart:function(){Sn.reset(),En.lineStart=On},polygonEnd:function(){var t=2*Sn;mn+=t<0?4*Ct+t:t,En.lineStart=En.lineEnd=En.point=R}};function On(){var t,e,n,r,i;function o(t,e){e=e*Et/2+Ct/4;var o=(t*=Et)-n,a=o>=0?1:-1,l=a*o,s=Math.cos(e),u=Math.sin(e),c=i*u,d=r*s+c*Math.cos(l),f=c*a*Math.sin(l);Sn.add(Math.atan2(f,d)),n=t,r=s,i=u}En.point=function(a,l){En.point=o,n=(t=a)*Et,r=Math.cos(l=(e=l)*Et/2+Ct/4),i=Math.sin(l)},En.lineEnd=function(){o(t,e)}}function Pn(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function In(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Dn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Ln(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Rn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Nn(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Fn(t){return[Math.atan2(t[1],t[0]),Lt(t[2])]}function zn(t,e){return v(t[0]-e[0])<kt&&v(t[1]-e[1])<kt}t.geo.bounds=function(){var e,n,r,i,o,a,l,s,u,c,d,f={point:h,lineStart:g,lineEnd:m,polygonStart:function(){f.point=y,f.lineStart=b,f.lineEnd=_,u=0,En.polygonStart()},polygonEnd:function(){En.polygonEnd(),f.point=h,f.lineStart=g,f.lineEnd=m,Sn<0?(e=-(r=180),n=-(i=90)):u>kt?i=90:u<-kt&&(n=-90),d[0]=e,d[1]=r}};function h(t,o){c.push(d=[e=t,r=t]),o<n&&(n=o),o>i&&(i=o)}function p(t,a){var l=Pn([t*Et,a*Et]);if(s){var u=Dn(s,l),c=Dn([u[1],-u[0],0],u);Nn(c),c=Fn(c);var d=t-o,f=d>0?1:-1,p=c[0]*Ot*f,g=v(d)>180;if(g^(f*o<p&&p<f*t))(m=c[1]*Ot)>i&&(i=m);else if(g^(f*o<(p=(p+360)%360-180)&&p<f*t)){var m;(m=-c[1]*Ot)<n&&(n=m)}else a<n&&(n=a),a>i&&(i=a);g?t<o?x(e,t)>x(e,r)&&(r=t):x(t,r)>x(e,r)&&(e=t):r>=e?(t<e&&(e=t),t>r&&(r=t)):t>o?x(e,t)>x(e,r)&&(r=t):x(t,r)>x(e,r)&&(e=t)}else h(t,a);s=l,o=t}function g(){f.point=p}function m(){d[0]=e,d[1]=r,f.point=h,s=null}function y(t,e){if(s){var n=t-o;u+=v(n)>180?n+(n>0?360:-360):n}else a=t,l=e;En.point(t,e),p(t,e)}function b(){En.lineStart()}function _(){y(a,l),En.lineEnd(),v(u)>kt&&(e=-(r=180)),d[0]=e,d[1]=r,s=null}function x(t,e){return(e-=t)<0?e+360:e}function w(t,e){return t[0]-e[0]}function k(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}return function(o){if(i=r=-(e=n=1/0),c=[],t.geo.stream(o,f),h=c.length){c.sort(w);for(var a=1,l=[g=c[0]];a<h;++a)k((u=c[a])[0],g)||k(u[1],g)?(x(g[0],u[1])>x(g[0],g[1])&&(g[1]=u[1]),x(u[0],g[1])>x(g[0],g[1])&&(g[0]=u[0])):l.push(g=u);for(var s,u,h,p=-1/0,g=(a=0,l[h=l.length-1]);a<=h;g=u,++a)(s=x(g[1],(u=l[a])[0]))>p&&(p=s,e=u[0],r=g[1])}return c=d=null,e===1/0||n===1/0?[[NaN,NaN],[NaN,NaN]]:[[e,n],[r,i]]}}(),t.geo.centroid=function(e){yn=vn=bn=_n=xn=wn=kn=Tn=Cn=An=Mn=0,t.geo.stream(e,jn);var n=Cn,r=An,i=Mn,o=n*n+r*r+i*i;return o<Tt&&(n=wn,r=kn,i=Tn,vn<kt&&(n=bn,r=_n,i=xn),(o=n*n+r*r+i*i)<Tt)?[NaN,NaN]:[Math.atan2(r,n)*Ot,Lt(i/Math.sqrt(o))*Ot]};var jn={sphere:R,point:Vn,lineStart:Hn,lineEnd:qn,polygonStart:function(){jn.lineStart=Un},polygonEnd:function(){jn.lineStart=Hn}};function Vn(t,e){t*=Et;var n=Math.cos(e*=Et);Bn(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Bn(t,e,n){bn+=(t-bn)/++yn,_n+=(e-_n)/yn,xn+=(n-xn)/yn}function Hn(){var t,e,n;function r(r,i){r*=Et;var o=Math.cos(i*=Et),a=o*Math.cos(r),l=o*Math.sin(r),s=Math.sin(i),u=Math.atan2(Math.sqrt((u=e*s-n*l)*u+(u=n*a-t*s)*u+(u=t*l-e*a)*u),t*a+e*l+n*s);vn+=u,wn+=u*(t+(t=a)),kn+=u*(e+(e=l)),Tn+=u*(n+(n=s)),Bn(t,e,n)}jn.point=function(i,o){i*=Et;var a=Math.cos(o*=Et);t=a*Math.cos(i),e=a*Math.sin(i),n=Math.sin(o),jn.point=r,Bn(t,e,n)}}function qn(){jn.point=Vn}function Un(){var t,e,n,r,i;function o(t,e){t*=Et;var o=Math.cos(e*=Et),a=o*Math.cos(t),l=o*Math.sin(t),s=Math.sin(e),u=r*s-i*l,c=i*a-n*s,d=n*l-r*a,f=Math.sqrt(u*u+c*c+d*d),h=n*a+r*l+i*s,p=f&&-Dt(h)/f,g=Math.atan2(f,h);Cn+=p*u,An+=p*c,Mn+=p*d,vn+=g,wn+=g*(n+(n=a)),kn+=g*(r+(r=l)),Tn+=g*(i+(i=s)),Bn(n,r,i)}jn.point=function(a,l){t=a,e=l,jn.point=o,a*=Et;var s=Math.cos(l*=Et);n=s*Math.cos(a),r=s*Math.sin(a),i=Math.sin(l),Bn(n,r,i)},jn.lineEnd=function(){o(t,e),jn.lineEnd=qn,jn.point=Vn}}function Gn(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function Wn(){return!0}function Yn(t,e,n,r,i){var o=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(zn(n,r)){i.lineStart();for(var l=0;l<e;++l)i.point((n=t[l])[0],n[1]);i.lineEnd()}else{var s=new Xn(n,t,null,!0),u=new Xn(n,null,s,!1);s.o=u,o.push(s),a.push(u),u=new Xn(r,null,s=new Xn(r,t,null,!1),!0),s.o=u,o.push(s),a.push(u)}}}),a.sort(e),Zn(o),Zn(a),o.length){for(var l=0,s=n,u=a.length;l<u;++l)a[l].e=s=!s;for(var c,d,f=o[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(l=0,u=c.length;l<u;++l)i.point((d=c[l])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(l=(c=h.p.z).length-1;l>=0;--l)i.point((d=c[l])[0],d[1]);else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}}function Zn(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Xn(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Qn(e,n,r,i){return function(o,a){var l,s=n(a),u=o.invert(i[0],i[1]),c={point:d,lineStart:h,lineEnd:p,polygonStart:function(){c.point=_,c.lineStart=x,c.lineEnd=w,l=[],g=[]},polygonEnd:function(){c.point=d,c.lineStart=h,c.lineEnd=p,l=t.merge(l);var e=function(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;Sn.reset();for(var l=0,s=e.length;l<s;++l){var u=e[l],c=u.length;if(c)for(var d=u[0],f=d[0],h=d[1]/2+Ct/4,p=Math.sin(h),g=Math.cos(h),m=1;;){m===c&&(m=0);var y=(t=u[m])[0],v=t[1]/2+Ct/4,b=Math.sin(v),_=Math.cos(v),x=y-f,w=x>=0?1:-1,k=w*x,T=k>Ct,C=p*b;if(Sn.add(Math.atan2(C*w*Math.sin(k),g*_+C*Math.cos(k))),o+=T?x+w*At:x,T^f>=n^y>=n){var A=Dn(Pn(d),Pn(t));Nn(A);var M=Dn(i,A);Nn(M);var S=(T^x>=0?-1:1)*Lt(M[2]);(r>S||r===S&&(A[0]||A[1]))&&(a+=T^x>=0?1:-1)}if(!m++)break;f=y,p=b,g=_,d=t}}return(o<-kt||o<kt&&Sn<-kt)^1&a}(u,g);l.length?(b||(a.polygonStart(),b=!0),Yn(l,Jn,e,r,a)):e&&(b||(a.polygonStart(),b=!0),a.lineStart(),r(null,null,1,a),a.lineEnd()),b&&(a.polygonEnd(),b=!1),l=g=null},sphere:function(){a.polygonStart(),a.lineStart(),r(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function d(t,n){var r=o(t,n);e(t=r[0],n=r[1])&&a.point(t,n)}function f(t,e){var n=o(t,e);s.point(n[0],n[1])}function h(){c.point=f,s.lineStart()}function p(){c.point=d,s.lineEnd()}var g,m,y=$n(),v=n(y),b=!1;function _(t,e){m.push([t,e]);var n=o(t,e);v.point(n[0],n[1])}function x(){v.lineStart(),m=[]}function w(){_(m[0][0],m[0][1]),v.lineEnd();var t,e=v.clean(),n=y.buffer(),r=n.length;if(m.pop(),g.push(m),m=null,r)if(1&e){var i,o=-1;if((r=(t=n[0]).length-1)>0){for(b||(a.polygonStart(),b=!0),a.lineStart();++o<r;)a.point((i=t[o])[0],i[1]);a.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),l.push(n.filter(Kn))}return c}}function Kn(t){return t.length>1}function $n(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:R,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Jn(t,e){return((t=t.x)[0]<0?t[1]-St-kt:St-t[1])-((e=e.x)[0]<0?e[1]-St-kt:St-e[1])}var tr=Qn(Wn,function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var l=o>0?Ct:-Ct,s=v(o-n);v(s-Ct)<kt?(t.point(n,r=(r+a)/2>0?St:-St),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(l,r),t.point(o,r),e=0):i!==l&&s>=Ct&&(v(n-i)<kt&&(n-=i*kt),v(o-l)<kt&&(o-=l*kt),r=function(t,e,n,r){var i,o,a=Math.sin(t-n);return v(a)>kt?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(l,r),e=0),t.point(n=o,r=a),i=l},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var i;if(null==t)r.point(-Ct,i=n*St),r.point(0,i),r.point(Ct,i),r.point(Ct,0),r.point(Ct,-i),r.point(0,-i),r.point(-Ct,-i),r.point(-Ct,0),r.point(-Ct,i);else if(v(t[0]-e[0])>kt){var o=t[0]<e[0]?Ct:-Ct;r.point(-o,i=n*o/2),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-Ct,-Ct/2]);function er(t,e,n,r){return function(i){var o,a=i.a,l=i.b,s=a.x,u=a.y,c=0,d=1,f=l.x-s,h=l.y-u;if(o=t-s,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<d&&(d=o)}else if(f>0){if(o>d)return;o>c&&(c=o)}if(o=n-s,f||!(o<0)){if(o/=f,f<0){if(o>d)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<d&&(d=o)}if(o=e-u,h||!(o>0)){if(o/=h,h<0){if(o<c)return;o<d&&(d=o)}else if(h>0){if(o>d)return;o>c&&(c=o)}if(o=r-u,h||!(o<0)){if(o/=h,h<0){if(o>d)return;o>c&&(c=o)}else if(h>0){if(o<c)return;o<d&&(d=o)}return c>0&&(i.a={x:s+c*f,y:u+c*h}),d<1&&(i.b={x:s+d*f,y:u+d*h}),i}}}}}}var nr=1e9;function rr(e,n,r,i){return function(s){var u,c,d,f,h,p,g,m,y,v,b,_=s,x=$n(),w=er(e,n,r,i),k={point:A,lineStart:function(){k.point=M,c&&c.push(d=[]),v=!0,y=!1,g=m=NaN},lineEnd:function(){u&&(M(f,h),p&&y&&x.rejoin(),u.push(x.buffer())),k.point=A,y&&s.lineEnd()},polygonStart:function(){s=x,u=[],c=[],b=!0},polygonEnd:function(){s=_,u=t.merge(u);var n=function(t){for(var e=0,n=c.length,r=t[1],i=0;i<n;++i)for(var o,a=1,l=c[i],s=l.length,u=l[0];a<s;++a)o=l[a],u[1]<=r?o[1]>r&&It(u,o,t)>0&&++e:o[1]<=r&&It(u,o,t)<0&&--e,u=o;return 0!==e}([e,i]),r=b&&n,o=u.length;(r||o)&&(s.polygonStart(),r&&(s.lineStart(),T(null,null,1,s),s.lineEnd()),o&&Yn(u,a,n,T,s),s.polygonEnd()),u=c=d=null}};function T(t,a,s,u){var c=0,d=0;if(null==t||(c=o(t,s))!==(d=o(a,s))||l(t,a)<0^s>0)do{u.point(0===c||3===c?e:r,c>1?i:n)}while((c=(c+s+4)%4)!==d);else u.point(a[0],a[1])}function C(t,o){return e<=t&&t<=r&&n<=o&&o<=i}function A(t,e){C(t,e)&&s.point(t,e)}function M(t,e){var n=C(t=Math.max(-nr,Math.min(nr,t)),e=Math.max(-nr,Math.min(nr,e)));if(c&&d.push([t,e]),v)f=t,h=e,p=n,v=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&y)s.point(t,e);else{var r={a:{x:g,y:m},b:{x:t,y:e}};w(r)?(y||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),b=!1):n&&(s.lineStart(),s.point(t,e),b=!1)}g=t,m=e,y=n}return k};function o(t,i){return v(t[0]-e)<kt?i>0?0:3:v(t[0]-r)<kt?i>0?2:1:v(t[1]-n)<kt?i>0?1:0:i>0?3:2}function a(t,e){return l(t.x,e.x)}function l(t,e){var n=o(t,1),r=o(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}}function ir(t){var e=0,n=Ct/3,r=Ar(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Ct/180,n=t[1]*Ct/180):[e/Ct*180,n/Ct*180]},i}function or(t,e){var n=Math.sin(t),r=(n+Math.sin(e))/2,i=1+n*(2*r-n),o=Math.sqrt(i)/r;function a(t,e){var n=Math.sqrt(i-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),o-n*Math.cos(t)]}return a.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,Lt((i-(t*t+n*n)*r*r)/(2*r))]},a}t.geo.clipExtent=function(){var t,e,n,r,i,o,a={stream:function(t){return i&&(i.valid=!1),(i=o(t)).valid=!0,i},extent:function(l){return arguments.length?(o=rr(t=+l[0][0],e=+l[0][1],n=+l[1][0],r=+l[1][1]),i&&(i.valid=!1,i=null),a):[[t,e],[n,r]]}};return a.extent([[0,0],[960,500]])},(t.geo.conicEqualArea=function(){return ir(or)}).raw=or,t.geo.albers=function(){return t.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},t.geo.albersUsa=function(){var e,n,r,i,o=t.geo.albers(),a=t.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=t.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(t,n){e=[t,n]}};function u(t){var o=t[0],a=t[1];return e=null,n(o,a),e||(r(o,a),e)||i(o,a),e}return u.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?a:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:o).invert(t)},u.stream=function(t){var e=o.stream(t),n=a.stream(t),r=l.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},u.precision=function(t){return arguments.length?(o.precision(t),a.precision(t),l.precision(t),u):o.precision()},u.scale=function(t){return arguments.length?(o.scale(t),a.scale(.35*t),l.scale(t),u.translate(o.translate())):o.scale()},u.translate=function(t){if(!arguments.length)return o.translate();var e=o.scale(),c=+t[0],d=+t[1];return n=o.translate(t).clipExtent([[c-.455*e,d-.238*e],[c+.455*e,d+.238*e]]).stream(s).point,r=a.translate([c-.307*e,d+.201*e]).clipExtent([[c-.425*e+kt,d+.12*e+kt],[c-.214*e-kt,d+.234*e-kt]]).stream(s).point,i=l.translate([c-.205*e,d+.212*e]).clipExtent([[c-.214*e+kt,d+.166*e+kt],[c-.115*e-kt,d+.234*e-kt]]).stream(s).point,u},u.scale(1070)};var ar,lr,sr,ur,cr,dr,fr={point:R,lineStart:R,lineEnd:R,polygonStart:function(){lr=0,fr.lineStart=hr},polygonEnd:function(){fr.lineStart=fr.lineEnd=fr.point=R,ar+=v(lr/2)}};function hr(){var t,e,n,r;function i(t,e){lr+=r*t-n*e,n=t,r=e}fr.point=function(o,a){fr.point=i,t=n=o,e=r=a},fr.lineEnd=function(){i(t,e)}}var pr={point:function(t,e){t<sr&&(sr=t),t>cr&&(cr=t),e<ur&&(ur=e),e>dr&&(dr=e)},lineStart:R,lineEnd:R,polygonStart:R,polygonEnd:R};function gr(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var mr,yr={point:vr,lineStart:br,lineEnd:_r,polygonStart:function(){yr.lineStart=xr},polygonEnd:function(){yr.point=vr,yr.lineStart=br,yr.lineEnd=_r}};function vr(t,e){bn+=t,_n+=e,++xn}function br(){var t,e;function n(n,r){var i=n-t,o=r-e,a=Math.sqrt(i*i+o*o);wn+=a*(t+n)/2,kn+=a*(e+r)/2,Tn+=a,vr(t=n,e=r)}yr.point=function(r,i){yr.point=n,vr(t=r,e=i)}}function _r(){yr.point=vr}function xr(){var t,e,n,r;function i(t,e){var i=t-n,o=e-r,a=Math.sqrt(i*i+o*o);wn+=a*(n+t)/2,kn+=a*(r+e)/2,Tn+=a,Cn+=(a=r*t-n*e)*(n+t),An+=a*(r+e),Mn+=3*a,vr(n=t,r=e)}yr.point=function(o,a){yr.point=i,vr(t=n=o,e=r=a)},yr.lineEnd=function(){i(t,e)}}function wr(t){var e=.5,n=Math.cos(30*Et),r=16;function i(e){return(r?function(e){var n,i,a,l,s,u,c,d,f,h,p,g,m={point:y,lineStart:v,lineEnd:_,polygonStart:function(){e.polygonStart(),m.lineStart=x},polygonEnd:function(){e.polygonEnd(),m.lineStart=v}};function y(n,r){n=t(n,r),e.point(n[0],n[1])}function v(){d=NaN,m.point=b,e.lineStart()}function b(n,i){var a=Pn([n,i]),l=t(n,i);o(d,f,c,h,p,g,d=l[0],f=l[1],c=n,h=a[0],p=a[1],g=a[2],r,e),e.point(d,f)}function _(){m.point=y,e.lineEnd()}function x(){v(),m.point=w,m.lineEnd=k}function w(t,e){b(n=t,e),i=d,a=f,l=h,s=p,u=g,m.point=b}function k(){o(d,f,c,h,p,g,i,a,n,l,s,u,r,e),m.lineEnd=_,_()}return m}:function(e){return Tr(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})})(e)}function o(r,i,a,l,s,u,c,d,f,h,p,g,m,y){var b=c-r,_=d-i,x=b*b+_*_;if(x>4*e&&m--){var w=l+h,k=s+p,T=u+g,C=Math.sqrt(w*w+k*k+T*T),A=Math.asin(T/=C),M=v(v(T)-1)<kt||v(a-f)<kt?(a+f)/2:Math.atan2(k,w),S=t(M,A),E=S[0],O=S[1],P=E-r,I=O-i,D=_*P-b*I;(D*D/x>e||v((b*P+_*I)/x-.5)>.3||l*h+s*p+u*g<n)&&(o(r,i,a,l,s,u,E,O,M,w/=C,k/=C,T,m,y),y.point(E,O),o(E,O,M,w,k,T,c,d,f,h,p,g,m,y))}}return i.precision=function(t){return arguments.length?(r=(e=t*t)>0&&16,i):Math.sqrt(e)},i}function kr(t){this.stream=t}function Tr(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Cr(t){return Ar(function(){return t})()}function Ar(e){var n,r,i,o,a,l,s=wr(function(t,e){return[(t=n(t,e))[0]*u+o,a-t[1]*u]}),u=150,c=480,d=250,f=0,h=0,p=0,g=0,m=0,y=tr,b=P,_=null,x=null;function w(t){return[(t=i(t[0]*Et,t[1]*Et))[0]*u+o,a-t[1]*u]}function k(t){return(t=i.invert((t[0]-o)/u,(a-t[1])/u))&&[t[0]*Ot,t[1]*Ot]}function T(){i=Gn(r=Or(p,g,m),n);var t=n(f,h);return o=c-t[0]*u,a=d+t[1]*u,C()}function C(){return l&&(l.valid=!1,l=null),w}return w.stream=function(t){return l&&(l.valid=!1),(l=Mr(y(r,s(b(t))))).valid=!0,l},w.clipAngle=function(t){return arguments.length?(y=null==t?(_=t,tr):function(t){var e=Math.cos(t),n=e>0,r=v(e)>kt;return Qn(i,function(t){var e,l,s,u,c;return{lineStart:function(){u=s=!1,c=1},point:function(d,f){var h,p=[d,f],g=i(d,f),m=n?g?0:a(d,f):g?a(d+(d<0?Ct:-Ct),f):0;if(!e&&(u=s=g)&&t.lineStart(),g!==s&&(h=o(e,p),(zn(e,h)||zn(p,h))&&(p[0]+=kt,p[1]+=kt,g=i(p[0],p[1]))),g!==s)c=0,g?(t.lineStart(),h=o(p,e),t.point(h[0],h[1])):(h=o(e,p),t.point(h[0],h[1]),t.lineEnd()),e=h;else if(r&&e&&n^g){var y;m&l||!(y=o(p,e,!0))||(c=0,n?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!g||e&&zn(e,p)||t.point(p[0],p[1]),e=p,s=g,l=m},lineEnd:function(){s&&t.lineEnd(),e=null},clean:function(){return c|(u&&s)<<1}}},Lr(t,6*Et),n?[0,-t]:[-Ct,t-Ct]);function i(t,n){return Math.cos(t)*Math.cos(n)>e}function o(t,n,r){var i=[1,0,0],o=Dn(Pn(t),Pn(n)),a=In(o,o),l=o[0],s=a-l*l;if(!s)return!r&&t;var u=e*a/s,c=-e*l/s,d=Dn(i,o),f=Rn(i,u);Ln(f,Rn(o,c));var h=d,p=In(f,h),g=In(h,h),m=p*p-g*(In(f,f)-1);if(!(m<0)){var y=Math.sqrt(m),b=Rn(h,(-p-y)/g);if(Ln(b,f),b=Fn(b),!r)return b;var _,x=t[0],w=n[0],k=t[1],T=n[1];w<x&&(_=x,x=w,w=_);var C=w-x,A=v(C-Ct)<kt;if(!A&&T<k&&(_=k,k=T,T=_),A||C<kt?A?k+T>0^b[1]<(v(b[0]-x)<kt?k:T):k<=b[1]&&b[1]<=T:C>Ct^(x<=b[0]&&b[0]<=w)){var M=Rn(h,(-p+y)/g);return Ln(M,f),[b,Fn(M)]}}}function a(e,r){var i=n?t:Ct-t,o=0;return e<-i?o|=1:e>i&&(o|=2),r<-i?o|=4:r>i&&(o|=8),o}}((_=+t)*Et),C()):_},w.clipExtent=function(t){return arguments.length?(x=t,b=t?rr(t[0][0],t[0][1],t[1][0],t[1][1]):P,C()):x},w.scale=function(t){return arguments.length?(u=+t,T()):u},w.translate=function(t){return arguments.length?(c=+t[0],d=+t[1],T()):[c,d]},w.center=function(t){return arguments.length?(f=t[0]%360*Et,h=t[1]%360*Et,T()):[f*Ot,h*Ot]},w.rotate=function(t){return arguments.length?(p=t[0]%360*Et,g=t[1]%360*Et,m=t.length>2?t[2]%360*Et:0,T()):[p*Ot,g*Ot,m*Ot]},t.rebind(w,s,"precision"),function(){return n=e.apply(this,arguments),w.invert=n.invert&&k,T()}}function Mr(t){return Tr(t,function(e,n){t.point(e*Et,n*Et)})}function Sr(t,e){return[t,e]}function Er(t,e){return[t>Ct?t-At:t<-Ct?t+At:t,e]}function Or(t,e,n){return t?e||n?Gn(Ir(t),Dr(e,n)):Ir(t):e||n?Dr(e,n):Er}function Pr(t){return function(e,n){return[(e+=t)>Ct?e-At:e<-Ct?e+At:e,n]}}function Ir(t){var e=Pr(t);return e.invert=Pr(-t),e}function Dr(t,e){var n=Math.cos(t),r=Math.sin(t),i=Math.cos(e),o=Math.sin(e);function a(t,e){var a=Math.cos(e),l=Math.cos(t)*a,s=Math.sin(t)*a,u=Math.sin(e),c=u*n+l*r;return[Math.atan2(s*i-c*o,l*n-u*r),Lt(c*i+s*o)]}return a.invert=function(t,e){var a=Math.cos(e),l=Math.cos(t)*a,s=Math.sin(t)*a,u=Math.sin(e),c=u*i-s*o;return[Math.atan2(s*i+u*o,l*n+c*r),Lt(c*n-l*r)]},a}function Lr(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,o,a,l){var s=a*e;null!=i?(i=Rr(n,i),o=Rr(n,o),(a>0?i<o:i>o)&&(i+=a*At)):(i=t+a*At,o=t-.5*s);for(var u,c=i;a>0?c>o:c<o;c-=s)l.point((u=Fn([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],u[1])}}function Rr(t,e){var n=Pn(e);n[0]-=t,Nn(n);var r=Dt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-kt)%(2*Math.PI)}function Nr(e,n,r){var i=t.range(e,n-kt,r).concat(n);return function(t){return i.map(function(e){return[t,e]})}}function Fr(e,n,r){var i=t.range(e,n-kt,r).concat(n);return function(t){return i.map(function(e){return[e,t]})}}function zr(t){return t.source}function jr(t){return t.target}t.geo.path=function(){var e,n,r,i,o,a=4.5;function l(e){return e&&("function"==typeof a&&i.pointRadius(+a.apply(this,arguments)),o&&o.valid||(o=r(i)),t.geo.stream(e,o)),i.result()}function s(){return o=null,l}return l.area=function(e){return ar=0,t.geo.stream(e,r(fr)),ar},l.centroid=function(e){return bn=_n=xn=wn=kn=Tn=Cn=An=Mn=0,t.geo.stream(e,r(yr)),Mn?[Cn/Mn,An/Mn]:Tn?[wn/Tn,kn/Tn]:xn?[bn/xn,_n/xn]:[NaN,NaN]},l.bounds=function(e){return cr=dr=-(sr=ur=1/0),t.geo.stream(e,r(pr)),[[sr,ur],[cr,dr]]},l.projection=function(t){return arguments.length?(r=(e=t)?t.stream||(n=t,i=wr(function(t,e){return n([t*Ot,e*Ot])}),function(t){return Mr(i(t))}):P,s()):e;var n,i},l.context=function(t){return arguments.length?(i=null==(n=t)?new function(){var t=gr(4.5),e=[],n={point:r,lineStart:function(){n.point=i},lineEnd:a,polygonStart:function(){n.lineEnd=l},polygonEnd:function(){n.lineEnd=a,n.point=r},pointRadius:function(e){return t=gr(e),n},result:function(){if(e.length){var t=e.join("");return e=[],t}}};function r(n,r){e.push("M",n,",",r,t)}function i(t,r){e.push("M",t,",",r),n.point=o}function o(t,n){e.push("L",t,",",n)}function a(){n.point=r}function l(){e.push("Z")}return n}:new function(t){var e=4.5,n={point:r,lineStart:function(){n.point=i},lineEnd:a,polygonStart:function(){n.lineEnd=l},polygonEnd:function(){n.lineEnd=a,n.point=r},pointRadius:function(t){return e=t,n},result:R};function r(n,r){t.moveTo(n+e,r),t.arc(n,r,e,0,At)}function i(e,r){t.moveTo(e,r),n.point=o}function o(e,n){t.lineTo(e,n)}function a(){n.point=r}function l(){t.closePath()}return n}(t),"function"!=typeof a&&i.pointRadius(a),s()):n},l.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(i.pointRadius(+t),+t),l):a},l.projection(t.geo.albersUsa()).context(null)},t.geo.transform=function(t){return{stream:function(e){var n=new kr(e);for(var r in t)n[r]=t[r];return n}}},kr.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},t.geo.projection=Cr,t.geo.projectionMutator=Ar,(t.geo.equirectangular=function(){return Cr(Sr)}).raw=Sr.invert=Sr,t.geo.rotation=function(t){function e(e){return(e=t(e[0]*Et,e[1]*Et))[0]*=Ot,e[1]*=Ot,e}return t=Or(t[0]%360*Et,t[1]*Et,t.length>2?t[2]*Et:0),e.invert=function(e){return(e=t.invert(e[0]*Et,e[1]*Et))[0]*=Ot,e[1]*=Ot,e},e},Er.invert=Sr,t.geo.circle=function(){var t,e,n=[0,0],r=6;function i(){var t="function"==typeof n?n.apply(this,arguments):n,r=Or(-t[0]*Et,-t[1]*Et,0).invert,i=[];return e(null,null,1,{point:function(t,e){i.push(t=r(t,e)),t[0]*=Ot,t[1]*=Ot}}),{type:"Polygon",coordinates:[i]}}return i.origin=function(t){return arguments.length?(n=t,i):n},i.angle=function(n){return arguments.length?(e=Lr((t=+n)*Et,r*Et),i):t},i.precision=function(n){return arguments.length?(e=Lr(t*Et,(r=+n)*Et),i):r},i.angle(90)},t.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Et,i=t[1]*Et,o=e[1]*Et,a=Math.sin(r),l=Math.cos(r),s=Math.sin(i),u=Math.cos(i),c=Math.sin(o),d=Math.cos(o);return Math.atan2(Math.sqrt((n=d*a)*n+(n=u*c-s*d*l)*n),s*c+u*d*l)},t.geo.graticule=function(){var e,n,r,i,o,a,l,s,u,c,d,f,h=10,p=h,g=90,m=360,y=2.5;function b(){return{type:"MultiLineString",coordinates:_()}}function _(){return t.range(Math.ceil(i/g)*g,r,g).map(d).concat(t.range(Math.ceil(s/m)*m,l,m).map(f)).concat(t.range(Math.ceil(n/h)*h,e,h).filter(function(t){return v(t%g)>kt}).map(u)).concat(t.range(Math.ceil(a/p)*p,o,p).filter(function(t){return v(t%m)>kt}).map(c))}return b.lines=function(){return _().map(function(t){return{type:"LineString",coordinates:t}})},b.outline=function(){return{type:"Polygon",coordinates:[d(i).concat(f(l).slice(1),d(r).reverse().slice(1),f(s).reverse().slice(1))]}},b.extent=function(t){return arguments.length?b.majorExtent(t).minorExtent(t):b.minorExtent()},b.majorExtent=function(t){return arguments.length?(s=+t[0][1],l=+t[1][1],(i=+t[0][0])>(r=+t[1][0])&&(t=i,i=r,r=t),s>l&&(t=s,s=l,l=t),b.precision(y)):[[i,s],[r,l]]},b.minorExtent=function(t){return arguments.length?(a=+t[0][1],o=+t[1][1],(n=+t[0][0])>(e=+t[1][0])&&(t=n,n=e,e=t),a>o&&(t=a,a=o,o=t),b.precision(y)):[[n,a],[e,o]]},b.step=function(t){return arguments.length?b.majorStep(t).minorStep(t):b.minorStep()},b.majorStep=function(t){return arguments.length?(g=+t[0],m=+t[1],b):[g,m]},b.minorStep=function(t){return arguments.length?(h=+t[0],p=+t[1],b):[h,p]},b.precision=function(t){return arguments.length?(y=+t,u=Nr(a,o,90),c=Fr(n,e,y),d=Nr(s,l,90),f=Fr(i,r,y),b):y},b.majorExtent([[-180,-90+kt],[180,90-kt]]).minorExtent([[-180,-80-kt],[180,80+kt]])},t.geo.greatArc=function(){var e,n,r=zr,i=jr;function o(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||i.apply(this,arguments)]}}return o.distance=function(){return t.geo.distance(e||r.apply(this,arguments),n||i.apply(this,arguments))},o.source=function(t){return arguments.length?(r=t,e="function"==typeof t?null:t,o):r},o.target=function(t){return arguments.length?(i=t,n="function"==typeof t?null:t,o):i},o.precision=function(){return arguments.length?o:0},o},t.geo.interpolate=function(t,e){return n=t[0]*Et,r=t[1]*Et,i=e[0]*Et,o=e[1]*Et,a=Math.cos(r),l=Math.sin(r),s=Math.cos(o),u=Math.sin(o),c=a*Math.cos(n),d=a*Math.sin(n),f=s*Math.cos(i),h=s*Math.sin(i),p=2*Math.asin(Math.sqrt(Nt(o-r)+a*s*Nt(i-n))),g=1/Math.sin(p),(m=p?function(t){var e=Math.sin(t*=p)*g,n=Math.sin(p-t)*g,r=n*c+e*f,i=n*d+e*h,o=n*l+e*u;return[Math.atan2(i,r)*Ot,Math.atan2(o,Math.sqrt(r*r+i*i))*Ot]}:function(){return[n*Ot,r*Ot]}).distance=p,m;var n,r,i,o,a,l,s,u,c,d,f,h,p,g,m},t.geo.length=function(e){return mr=0,t.geo.stream(e,Vr),mr};var Vr={sphere:R,point:R,lineStart:function(){var t,e,n;function r(r,i){var o=Math.sin(i*=Et),a=Math.cos(i),l=v((r*=Et)-t),s=Math.cos(l);mr+=Math.atan2(Math.sqrt((l=a*Math.sin(l))*l+(l=n*o-e*a*s)*l),e*o+n*a*s),t=r,e=o,n=a}Vr.point=function(i,o){t=i*Et,e=Math.sin(o*=Et),n=Math.cos(o),Vr.point=r},Vr.lineEnd=function(){Vr.point=Vr.lineEnd=R}},lineEnd:R,polygonStart:R,polygonEnd:R};function Br(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),o=t(r*i);return[o*i*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*o,r*a),Math.asin(r&&n*o/r)]},n}var Hr=Br(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(t.geo.azimuthalEqualArea=function(){return Cr(Hr)}).raw=Hr;var qr=Br(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},P);function Ur(t,e){var n=Math.cos(t),r=function(t){return Math.tan(Ct/4+t/2)},i=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(r(e)/r(t)),o=n*Math.pow(r(t),i)/i;if(!i)return Yr;function a(t,e){o>0?e<-St+kt&&(e=-St+kt):e>St-kt&&(e=St-kt);var n=o/Math.pow(r(e),i);return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}return a.invert=function(t,e){var n=o-e,r=Pt(i)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/i,2*Math.atan(Math.pow(o/r,1/i))-St]},a}function Gr(t,e){var n=Math.cos(t),r=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),i=n/r+t;if(v(r)<kt)return Sr;function o(t,e){var n=i-e;return[n*Math.sin(r*t),i-n*Math.cos(r*t)]}return o.invert=function(t,e){var n=i-e;return[Math.atan2(t,n)/r,i-Pt(r)*Math.sqrt(t*t+n*n)]},o}(t.geo.azimuthalEquidistant=function(){return Cr(qr)}).raw=qr,(t.geo.conicConformal=function(){return ir(Ur)}).raw=Ur,(t.geo.conicEquidistant=function(){return ir(Gr)}).raw=Gr;var Wr=Br(function(t){return 1/t},Math.atan);function Yr(t,e){return[t,Math.log(Math.tan(Ct/4+e/2))]}function Zr(t){var e,n=Cr(t),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var l=Ct*r(),s=i();o([[s[0]-l,s[1]-l],[s[0]+l,s[1]+l]])}}else e&&(a=null);return a},n.clipExtent(null)}(t.geo.gnomonic=function(){return Cr(Wr)}).raw=Wr,Yr.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-St]},(t.geo.mercator=function(){return Zr(Yr)}).raw=Yr;var Xr=Br(function(){return 1},Math.asin);(t.geo.orthographic=function(){return Cr(Xr)}).raw=Xr;var Qr=Br(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});function Kr(t,e){return[Math.log(Math.tan(Ct/4+e/2)),-t]}function $r(t){return t[0]}function Jr(t){return t[1]}function ti(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;r>1&&It(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function ei(t,e){return t[0]-e[0]||t[1]-e[1]}(t.geo.stereographic=function(){return Cr(Qr)}).raw=Qr,Kr.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-St]},(t.geo.transverseMercator=function(){var t=Zr(Kr),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=Kr,t.geom={},t.geom.hull=function(t){var e=$r,n=Jr;if(arguments.length)return r(t);function r(t){if(t.length<3)return[];var r,i=ge(e),o=ge(n),a=t.length,l=[],s=[];for(r=0;r<a;r++)l.push([+i.call(this,t[r],r),+o.call(this,t[r],r),r]);for(l.sort(ei),r=0;r<a;r++)s.push([l[r][0],-l[r][1]]);var u=ti(l),c=ti(s),d=c[0]===u[0],f=c[c.length-1]===u[u.length-1],h=[];for(r=u.length-1;r>=0;--r)h.push(t[l[u[r]][2]]);for(r=+d;r<c.length-f;++r)h.push(t[l[c[r]][2]]);return h}return r.x=function(t){return arguments.length?(e=t,r):e},r.y=function(t){return arguments.length?(n=t,r):n},r},t.geom.polygon=function(t){return H(t,ni),t};var ni=t.geom.polygon.prototype=[];function ri(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function ii(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,l=r[0]-o,s=t[1],u=n[1],c=e[1]-s,d=r[1]-u,f=(l*(s-u)-d*(i-o))/(d*a-l*c);return[i+f*a,s+f*c]}function oi(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}ni.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)i+=(t=r)[1]*(r=this[e])[0]-t[0]*r[1];return.5*i},ni.centroid=function(t){var e,n,r=-1,i=this.length,o=0,a=0,l=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)o+=((e=l)[0]+(l=this[r])[0])*(n=e[0]*l[1]-l[0]*e[1]),a+=(e[1]+l[1])*n;return[o*t,a*t]},ni.clip=function(t){for(var e,n,r,i,o,a,l=oi(t),s=-1,u=this.length-oi(this),c=this[u-1];++s<u;){for(e=t.slice(),t.length=0,i=this[s],o=e[(r=e.length-l)-1],n=-1;++n<r;)ri(a=e[n],c,i)?(ri(o,c,i)||t.push(ii(o,a,c,i)),t.push(a)):ri(o,c,i)&&t.push(ii(o,a,c,i)),o=a;l&&t.push(t[0]),c=i}return t};var ai,li,si,ui,ci,di=[],fi=[];function hi(t){var e=di.pop()||new function(){Ei(this),this.edge=this.site=this.circle=null};return e.site=t,e}function pi(t){wi(t),si.remove(t),di.push(t),Ei(t)}function gi(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,a=t.N,l=[t];pi(t);for(var s=o;s.circle&&v(n-s.circle.x)<kt&&v(r-s.circle.cy)<kt;)o=s.P,l.unshift(s),pi(s),s=o;l.unshift(s),wi(s);for(var u=a;u.circle&&v(n-u.circle.x)<kt&&v(r-u.circle.cy)<kt;)a=u.N,l.push(u),pi(u),u=a;l.push(u),wi(u);var c,d=l.length;for(c=1;c<d;++c)Ai((u=l[c]).edge,(s=l[c-1]).site,u.site,i);(u=l[d-1]).edge=Ci((s=l[0]).site,u.site,null,i),xi(s),xi(u)}function mi(t){for(var e,n,r,i,o=t.x,a=t.y,l=si._;l;)if((r=yi(l,a)-o)>kt)l=l.L;else{if(!((i=o-vi(l,a))>kt)){r>-kt?(e=l.P,n=l):i>-kt?(e=l,n=l.N):e=n=l;break}if(!l.R){e=l;break}l=l.R}var s=hi(t);if(si.insert(e,s),e||n){if(e===n)return wi(e),n=hi(e.site),si.insert(s,n),s.edge=n.edge=Ci(e.site,s.site),xi(e),void xi(n);if(n){wi(e),wi(n);var u=e.site,c=u.x,d=u.y,f=t.x-c,h=t.y-d,p=n.site,g=p.x-c,m=p.y-d,y=2*(f*m-h*g),v=f*f+h*h,b=g*g+m*m,_={x:(m*v-h*b)/y+c,y:(f*b-g*v)/y+d};Ai(n.edge,u,p,_),s.edge=Ci(u,t,null,_),n.edge=Ci(t,p,null,_),xi(e),xi(n)}else s.edge=Ci(e.site,s.site)}}function yi(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var l=(n=a.site).x,s=n.y,u=s-e;if(!u)return l;var c=l-r,d=1/o-1/u,f=c/u;return d?(-f+Math.sqrt(f*f-2*d*(c*c/(-2*u)-s+u/2+i-o/2)))/d+r:(r+l)/2}function vi(t,e){var n=t.N;if(n)return yi(n,e);var r=t.site;return r.y===e?r.x:1/0}function bi(t){this.site=t,this.edges=[]}function _i(t,e){return e.angle-t.angle}function xi(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i.x,l=i.y,s=r.x-a,u=r.y-l,c=o.x-a,d=2*(s*(m=o.y-l)-u*c);if(!(d>=-Tt)){var f=s*s+u*u,h=c*c+m*m,p=(m*f-u*h)/d,g=(s*h-c*f)/d,m=g+l,y=fi.pop()||new function(){Ei(this),this.x=this.y=this.arc=this.site=this.cy=null};y.arc=t,y.site=i,y.x=p+a,y.y=m+Math.sqrt(p*p+g*g),y.cy=m,t.circle=y;for(var v=null,b=ci._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(!b.L){v=b.P;break}b=b.L}else{if(!b.R){v=b;break}b=b.R}ci.insert(v,y),v||(ui=y)}}}}function wi(t){var e=t.circle;e&&(e.P||(ui=e.N),ci.remove(e),fi.push(e),Ei(e),t.circle=null)}function ki(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,a=e[0][0],l=e[1][0],s=e[0][1],u=e[1][1],c=t.l,d=t.r,f=c.x,h=c.y,p=d.x,g=d.y,m=(f+p)/2,y=(h+g)/2;if(g===h){if(m<a||m>=l)return;if(f>p){if(o){if(o.y>=u)return}else o={x:m,y:s};n={x:m,y:u}}else{if(o){if(o.y<s)return}else o={x:m,y:u};n={x:m,y:s}}}else if(i=y-(r=(f-p)/(g-h))*m,r<-1||r>1)if(f>p){if(o){if(o.y>=u)return}else o={x:(s-i)/r,y:s};n={x:(u-i)/r,y:u}}else{if(o){if(o.y<s)return}else o={x:(u-i)/r,y:u};n={x:(s-i)/r,y:s}}else if(h<g){if(o){if(o.x>=l)return}else o={x:a,y:r*a+i};n={x:l,y:r*l+i}}else{if(o){if(o.x<a)return}else o={x:l,y:r*l+i};n={x:a,y:r*a+i}}return t.a=o,t.b=n,!0}function Ti(t,e){this.l=t,this.r=e,this.a=this.b=null}function Ci(t,e,n,r){var i=new Ti(t,e);return ai.push(i),n&&Ai(i,t,e,n),r&&Ai(i,e,t,r),li[t.i].edges.push(new Mi(i,t,e)),li[e.i].edges.push(new Mi(i,e,t)),i}function Ai(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function Mi(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function Si(){this._=null}function Ei(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Oi(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Pi(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Ii(t){for(;t.L;)t=t.L;return t}function Di(t,e){var n,r,i,o=t.sort(Li).pop();for(ai=[],li=new Array(t.length),si=new Si,ci=new Si;;)if(i=ui,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(li[o.i]=new bi(o),mi(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;gi(i.arc)}e&&(function(t){for(var e,n=ai,r=er(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)(!ki(e=n[i],t)||!r(e)||v(e.a.x-e.b.x)<kt&&v(e.a.y-e.b.y)<kt)&&(e.a=e.b=null,n.splice(i,1))}(e),function(t){for(var n,r,i,o,a,l,s,u,c,d,f=e[0][0],h=e[1][0],p=e[0][1],g=e[1][1],m=li,y=m.length;y--;)if((a=m[y])&&a.prepare())for(u=(s=a.edges).length,l=0;l<u;)i=(d=s[l].end()).x,o=d.y,r=(c=s[++l%u].start()).y,(v(i-(n=c.x))>kt||v(o-r)>kt)&&(s.splice(l,0,new Mi((b=a.site,_=d,x=v(i-f)<kt&&g-o>kt?{x:f,y:v(n-f)<kt?r:g}:v(o-g)<kt&&h-i>kt?{x:v(r-g)<kt?n:h,y:g}:v(i-h)<kt&&o-p>kt?{x:h,y:v(n-h)<kt?r:p}:v(o-p)<kt&&i-f>kt?{x:v(r-p)<kt?n:f,y:p}:null,w=void 0,(w=new Ti(b,null)).a=_,w.b=x,ai.push(w),w),a.site,null)),++u);var b,_,x,w}());var a={cells:li,edges:ai};return si=ci=ai=li=null,a}function Li(t,e){return e.y-t.y||e.x-t.x}bi.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(_i),e.length},Mi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Si.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Ii(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Oi(this,n),n=(t=n).U),n.C=!1,r.C=!0,Pi(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Pi(this,n),n=(t=n).U),n.C=!1,r.C=!0,Oi(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?Ii(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,i.L=t=n.R,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Oi(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Pi(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Oi(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Pi(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Oi(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Pi(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},t.geom.voronoi=function(t){var e=$r,n=Jr,r=e,i=n,o=Ri;if(t)return a(t);function a(t){var e=new Array(t.length),n=o[0][0],r=o[0][1],i=o[1][0],a=o[1][1];return Di(l(t),o).cells.forEach(function(o,l){var s=o.edges,u=o.site;(e[l]=s.length?s.map(function(t){var e=t.start();return[e.x,e.y]}):u.x>=n&&u.x<=i&&u.y>=r&&u.y<=a?[[n,a],[i,a],[i,r],[n,r]]:[]).point=t[l]}),e}function l(t){return t.map(function(t,e){return{x:Math.round(r(t,e)/kt)*kt,y:Math.round(i(t,e)/kt)*kt,i:e}})}return a.links=function(t){return Di(l(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},a.triangles=function(t){var e=[];return Di(l(t)).cells.forEach(function(n,r){for(var i,o,a,l,s=n.site,u=n.edges.sort(_i),c=-1,d=u.length,f=u[d-1].edge,h=f.l===s?f.r:f.l;++c<d;)i=h,h=(f=u[c].edge).l===s?f.r:f.l,r<i.i&&r<h.i&&((o=s).x-(l=h).x)*((a=i).y-o.y)-(o.x-a.x)*(l.y-o.y)<0&&e.push([t[r],t[i.i],t[h.i]])}),e},a.x=function(t){return arguments.length?(r=ge(e=t),a):e},a.y=function(t){return arguments.length?(i=ge(n=t),a):n},a.clipExtent=function(t){return arguments.length?(o=null==t?Ri:t,a):o===Ri?null:o},a.size=function(t){return arguments.length?a.clipExtent(t&&[[0,0],t]):o===Ri?null:o&&o[1]},a};var Ri=[[-1e6,-1e6],[1e6,1e6]];function Ni(t){return t.x}function Fi(t){return t.y}function zi(e,n){e=t.rgb(e),n=t.rgb(n);var r=e.r,i=e.g,o=e.b,a=n.r-r,l=n.g-i,s=n.b-o;return function(t){return"#"+se(Math.round(r+a*t))+se(Math.round(i+l*t))+se(Math.round(o+s*t))}}function ji(t,e){var n,r={},i={};for(n in t)n in e?r[n]=Ui(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function Vi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Bi(t,e){var n,r,i,o=Hi.lastIndex=qi.lastIndex=0,a=-1,l=[],s=[];for(t+="",e+="";(n=Hi.exec(t))&&(r=qi.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),l[a]?l[a]+=i:l[++a]=i),(n=n[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,s.push({i:a,x:Vi(n,r)})),o=qi.lastIndex;return o<e.length&&(i=e.slice(o),l[a]?l[a]+=i:l[++a]=i),l.length<2?s[0]?(e=s[0].x,function(t){return e(t)+""}):function(){return e}:(e=s.length,function(t){for(var n,r=0;r<e;++r)l[(n=s[r]).i]=n.x(t);return l.join("")})}t.geom.delaunay=function(e){return t.geom.voronoi().triangles(e)},t.geom.quadtree=function(t,e,n,r,i){var o,a=$r,l=Jr;if(o=arguments.length)return a=Ni,l=Fi,3===o&&(i=n,r=e,n=e=0),s(t);function s(t){var s,u,c,d,f,h,p,g,m,y=ge(a),b=ge(l);if(null!=e)h=e,p=n,g=r,m=i;else if(g=m=-(h=p=1/0),u=[],c=[],f=t.length,o)for(d=0;d<f;++d)(s=t[d]).x<h&&(h=s.x),s.y<p&&(p=s.y),s.x>g&&(g=s.x),s.y>m&&(m=s.y),u.push(s.x),c.push(s.y);else for(d=0;d<f;++d){var _=+y(s=t[d],d),x=+b(s,d);_<h&&(h=_),x<p&&(p=x),_>g&&(g=_),x>m&&(m=x),u.push(_),c.push(x)}var w=g-h,k=m-p;function T(t,e,n,r,i,o,a,l){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var s=t.x,u=t.y;if(null!=s)if(v(s-n)+v(u-r)<.01)C(t,e,n,r,i,o,a,l);else{var c=t.point;t.x=t.y=t.point=null,C(t,c,s,u,i,o,a,l),C(t,e,n,r,i,o,a,l)}else t.x=n,t.y=r,t.point=e}else C(t,e,n,r,i,o,a,l)}function C(t,e,n,r,i,o,a,l){var s=.5*(i+a),u=.5*(o+l),c=n>=s,d=r>=u,f=d<<1|c;t.leaf=!1,t=t.nodes[f]||(t.nodes[f]={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){T(A,t,+y(t,++f),+b(t,f),h,p,g,m)},visit:function(t){!function t(e,n,r,i,o,a){if(!e(n,r,i,o,a)){var l=.5*(r+o),s=.5*(i+a),u=n.nodes;u[0]&&t(e,u[0],r,i,l,s),u[1]&&t(e,u[1],l,i,o,s),u[2]&&t(e,u[2],r,s,l,a),u[3]&&t(e,u[3],l,s,o,a)}}(t,A,h,p,g,m)},find:function(t){return function(t,e,n,r,i,o,a){var l,s=1/0;return function t(u,c,d,f,h){if(!(c>o||d>a||f<r||h<i)){if(p=u.point){var p,g=e-u.x,m=n-u.y,y=g*g+m*m;if(y<s){var v=Math.sqrt(s=y);r=e-v,i=n-v,o=e+v,a=n+v,l=p}}for(var b=u.nodes,_=.5*(c+f),x=.5*(d+h),w=(n>=x)<<1|e>=_,k=w+4;w<k;++w)if(u=b[3&w])switch(3&w){case 0:t(u,c,d,_,x);break;case 1:t(u,_,d,f,x);break;case 2:t(u,c,x,_,h);break;case 3:t(u,_,x,f,h)}}}(t,r,i,o,a),l}(A,t[0],t[1],h,p,g,m)}}),c?i=s:a=s,d?o=u:l=u,T(t,e,n,r,i,o,a,l)}w>k?m=p+w:g=h+k;var A={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){T(A,t,+y(t,++d),+b(t,d),h,p,g,m)},visit:function(t){!function t(e,n,r,i,o,a){if(!e(n,r,i,o,a)){var l=.5*(r+o),s=.5*(i+a),u=n.nodes;u[0]&&t(e,u[0],r,i,l,s),u[1]&&t(e,u[1],l,i,o,s),u[2]&&t(e,u[2],r,s,l,a),u[3]&&t(e,u[3],l,s,o,a)}}(t,A,h,p,g,m)},find:function(t){return function(t,e,n,r,i,o,a){var l,s=1/0;return function t(u,c,d,f,h){if(!(c>o||d>a||f<r||h<i)){if(p=u.point){var p,g=e-u.x,m=n-u.y,y=g*g+m*m;if(y<s){var v=Math.sqrt(s=y);r=e-v,i=n-v,o=e+v,a=n+v,l=p}}for(var b=u.nodes,_=.5*(c+f),x=.5*(d+h),w=(n>=x)<<1|e>=_,k=w+4;w<k;++w)if(u=b[3&w])switch(3&w){case 0:t(u,c,d,_,x);break;case 1:t(u,_,d,f,x);break;case 2:t(u,c,x,_,h);break;case 3:t(u,_,x,f,h)}}}(t,r,i,o,a),l}(A,t[0],t[1],h,p,g,m)}};if(d=-1,null==e){for(;++d<f;)T(A,t[d],u[d],c[d],h,p,g,m);--d}else t.forEach(A.add);return u=c=t=s=null,A}return s.x=function(t){return arguments.length?(a=t,s):a},s.y=function(t){return arguments.length?(l=t,s):l},s.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),s):null==e?null:[[e,n],[r,i]]},s.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),s):null==e?null:[r-e,i-n]},s},t.interpolateRgb=zi,t.interpolateObject=ji,t.interpolateNumber=Vi,t.interpolateString=Bi;var Hi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qi=new RegExp(Hi.source,"g");function Ui(e,n){for(var r,i=t.interpolators.length;--i>=0&&!(r=t.interpolators[i](e,n)););return r}function Gi(t,e){var n,r=[],i=[],o=t.length,a=e.length,l=Math.min(t.length,e.length);for(n=0;n<l;++n)r.push(Ui(t[n],e[n]));for(;n<o;++n)i[n]=t[n];for(;n<a;++n)i[n]=e[n];return function(t){for(n=0;n<l;++n)i[n]=r[n](t);return i}}t.interpolate=Ui,t.interpolators=[function(t,e){var n=typeof e;return("string"===n?pe.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?zi:Bi:e instanceof Bt?zi:Array.isArray(e)?Gi:"object"===n&&isNaN(e)?ji:Vi)(t,e)}],t.interpolateArray=Gi;var Wi=function(){return P},Yi=t.map({linear:Wi,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return Ki},cubic:function(){return $i},sin:function(){return to},exp:function(){return eo},circle:function(){return no},elastic:function(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/At*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*At/e)}},back:function(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}},bounce:function(){return ro}}),Zi=t.map({in:P,out:Xi,"in-out":Qi,"out-in":function(t){return Qi(Xi(t))}});function Xi(t){return function(e){return 1-t(1-e)}}function Qi(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function Ki(t){return t*t}function $i(t){return t*t*t}function Ji(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function to(t){return 1-Math.cos(t*St)}function eo(t){return Math.pow(2,10*(t-1))}function no(t){return 1-Math.sqrt(1-t*t)}function ro(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function io(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function oo(t){var e,n,r,i=[t.a,t.b],o=[t.c,t.d],a=lo(i),l=ao(i,o),s=lo(((e=o)[0]+=(r=-l)*(n=i)[0],e[1]+=r*n[1],e))||0;i[0]*o[1]<o[0]*i[1]&&(i[0]*=-1,i[1]*=-1,a*=-1,l*=-1),this.rotate=(a?Math.atan2(i[1],i[0]):Math.atan2(-o[0],o[1]))*Ot,this.translate=[t.e,t.f],this.scale=[a,s],this.skew=s?Math.atan2(l,s)*Ot:0}function ao(t,e){return t[0]*e[0]+t[1]*e[1]}function lo(t){var e=Math.sqrt(ao(t,t));return e&&(t[0]/=e,t[1]/=e),e}t.ease=function(t){var e,r=t.indexOf("-"),i=r>=0?t.slice(0,r):t,o=r>=0?t.slice(r+1):"in";return i=Yi.get(i)||Wi,o=Zi.get(o)||P,e=o(i.apply(null,n.call(arguments,1))),function(t){return t<=0?0:t>=1?1:e(t)}},t.interpolateHcl=function(e,n){e=t.hcl(e),n=t.hcl(n);var r=e.h,i=e.c,o=e.l,a=n.h-r,l=n.c-i,s=n.l-o;return isNaN(l)&&(l=0,i=isNaN(i)?n.c:i),isNaN(a)?(a=0,r=isNaN(r)?n.h:r):a>180?a-=360:a<-180&&(a+=360),function(t){return Yt(r+a*t,i+l*t,o+s*t)+""}},t.interpolateHsl=function(e,n){e=t.hsl(e),n=t.hsl(n);var r=e.h,i=e.s,o=e.l,a=n.h-r,l=n.s-i,s=n.l-o;return isNaN(l)&&(l=0,i=isNaN(i)?n.s:i),isNaN(a)?(a=0,r=isNaN(r)?n.h:r):a>180?a-=360:a<-180&&(a+=360),function(t){return Ut(r+a*t,i+l*t,o+s*t)+""}},t.interpolateLab=function(e,n){e=t.lab(e),n=t.lab(n);var r=e.l,i=e.a,o=e.b,a=n.l-r,l=n.a-i,s=n.b-o;return function(t){return te(r+a*t,i+l*t,o+s*t)+""}},t.interpolateRound=io,t.transform=function(e){var n=i.createElementNS(t.ns.prefix.svg,"g");return(t.transform=function(t){if(null!=t){n.setAttribute("transform",t);var e=n.transform.baseVal.consolidate()}return new oo(e?e.matrix:so)})(e)},oo.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var so={a:1,b:0,c:0,d:1,e:0,f:0};function uo(t){return t.length?t.pop()+",":""}function co(e,n){var r=[],i=[];return e=t.transform(e),n=t.transform(n),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:Vi(t[0],e[0])},{i:i-2,x:Vi(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}(e.translate,n.translate,r,i),function(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(uo(n)+"rotate(",null,")")-2,x:Vi(t,e)})):e&&n.push(uo(n)+"rotate("+e+")")}(e.rotate,n.rotate,r,i),function(t,e,n,r){t!==e?r.push({i:n.push(uo(n)+"skewX(",null,")")-2,x:Vi(t,e)}):e&&n.push(uo(n)+"skewX("+e+")")}(e.skew,n.skew,r,i),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(uo(n)+"scale(",null,",",null,")");r.push({i:i-4,x:Vi(t[0],e[0])},{i:i-2,x:Vi(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(uo(n)+"scale("+e+")")}(e.scale,n.scale,r,i),e=n=null,function(t){for(var e,n=-1,o=i.length;++n<o;)r[(e=i[n]).i]=e.x(t);return r.join("")}}function fo(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function ho(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function po(t){for(var e=t.source,n=t.target,r=function(t,e){if(t===e)return t;for(var n=go(t),r=go(e),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}(e,n),i=[e];e!==r;)i.push(e=e.parent);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function go(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function mo(t){t.fixed|=2}function yo(t){t.fixed&=-7}function vo(t){t.fixed|=4,t.px=t.x,t.py=t.y}function bo(t){t.fixed&=-5}t.interpolateTransform=co,t.layout={},t.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(po(t[n]));return e}},t.layout.chord=function(){var e,n,r,i,o,a,l,s={},u=0;function c(){var s,c,f,h,p,g={},m=[],y=t.range(i),v=[];for(e=[],n=[],s=0,h=-1;++h<i;){for(c=0,p=-1;++p<i;)c+=r[h][p];m.push(c),v.push(t.range(i)),s+=c}for(o&&y.sort(function(t,e){return o(m[t],m[e])}),a&&v.forEach(function(t,e){t.sort(function(t,n){return a(r[e][t],r[e][n])})}),s=(At-u*i)/s,c=0,h=-1;++h<i;){for(f=c,p=-1;++p<i;){var b=y[h],_=v[b][p],x=r[b][_],w=c,k=c+=x*s;g[b+"-"+_]={index:b,subindex:_,startAngle:w,endAngle:k,value:x}}n[b]={index:b,startAngle:f,endAngle:c,value:m[b]},c+=u}for(h=-1;++h<i;)for(p=h-1;++p<i;){var T=g[h+"-"+p],C=g[p+"-"+h];(T.value||C.value)&&e.push(T.value<C.value?{source:C,target:T}:{source:T,target:C})}l&&d()}function d(){e.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}return s.matrix=function(t){return arguments.length?(i=(r=t)&&r.length,e=n=null,s):r},s.padding=function(t){return arguments.length?(u=t,e=n=null,s):u},s.sortGroups=function(t){return arguments.length?(o=t,e=n=null,s):o},s.sortSubgroups=function(t){return arguments.length?(a=t,e=null,s):a},s.sortChords=function(t){return arguments.length?(l=t,e&&d(),s):l},s.chords=function(){return e||c(),e},s.groups=function(){return n||c(),n},s},t.layout.force=function(){var e,n,r,i,o,a,l={},s=t.dispatch("start","tick","end"),u=[1,1],c=.9,d=_o,f=xo,h=-30,p=wo,g=.1,m=.64,y=[],v=[];function b(t){return function(e,n,r,i){if(e.point!==t){var o,a=e.cx-t.x,l=e.cy-t.y,s=i-n,u=a*a+l*l;if(s*s/m<u)return u<p&&(t.px-=a*(o=e.charge/u),t.py-=l*o),!0;e.point&&u&&u<p&&(t.px-=a*(o=e.pointCharge/u),t.py-=l*o)}return!e.charge}}function _(e){e.px=t.event.x,e.py=t.event.y,l.resume()}return l.tick=function(){if((r*=.99)<.005)return e=null,s.end({type:"end",alpha:r=0}),!0;var n,l,d,f,p,m,_,x,w,k=y.length,T=v.length;for(l=0;l<T;++l)(m=(x=(p=(d=v[l]).target).x-(f=d.source).x)*x+(w=p.y-f.y)*w)&&(w*=m=r*o[l]*((m=Math.sqrt(m))-i[l])/m,p.x-=(x*=m)*(_=f.weight+p.weight?f.weight/(f.weight+p.weight):.5),p.y-=w*_,f.x+=x*(_=1-_),f.y+=w*_);if((_=r*g)&&(x=u[0]/2,w=u[1]/2,l=-1,_))for(;++l<k;)(d=y[l]).x+=(x-d.x)*_,d.y+=(w-d.y)*_;if(h)for(function t(e,n,r){var i=0,o=0;if(e.charge=0,!e.leaf)for(var a,l=e.nodes,s=l.length,u=-1;++u<s;)null!=(a=l[u])&&(t(a,n,r),e.charge+=a.charge,i+=a.charge*a.cx,o+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=n*r[e.point.index];e.charge+=e.pointCharge=c,i+=c*e.point.x,o+=c*e.point.y}e.cx=i/e.charge,e.cy=o/e.charge}(n=t.geom.quadtree(y),r,a),l=-1;++l<k;)(d=y[l]).fixed||n.visit(b(d));for(l=-1;++l<k;)(d=y[l]).fixed?(d.x=d.px,d.y=d.py):(d.x-=(d.px-(d.px=d.x))*c,d.y-=(d.py-(d.py=d.y))*c);s.tick({type:"tick",alpha:r})},l.nodes=function(t){return arguments.length?(y=t,l):y},l.links=function(t){return arguments.length?(v=t,l):v},l.size=function(t){return arguments.length?(u=t,l):u},l.linkDistance=function(t){return arguments.length?(d="function"==typeof t?t:+t,l):d},l.distance=l.linkDistance,l.linkStrength=function(t){return arguments.length?(f="function"==typeof t?t:+t,l):f},l.friction=function(t){return arguments.length?(c=+t,l):c},l.charge=function(t){return arguments.length?(h="function"==typeof t?t:+t,l):h},l.chargeDistance=function(t){return arguments.length?(p=t*t,l):Math.sqrt(p)},l.gravity=function(t){return arguments.length?(g=+t,l):g},l.theta=function(t){return arguments.length?(m=t*t,l):Math.sqrt(m)},l.alpha=function(t){return arguments.length?(t=+t,r?t>0?r=t:(e.c=null,e.t=NaN,e=null,s.end({type:"end",alpha:r=0})):t>0&&(s.start({type:"start",alpha:r=t}),e=ke(l.tick)),l):r},l.start=function(){var t,e,n,r=y.length,s=v.length,c=u[0],p=u[1];for(t=0;t<r;++t)(n=y[t]).index=t,n.weight=0;for(t=0;t<s;++t)"number"==typeof(n=v[t]).source&&(n.source=y[n.source]),"number"==typeof n.target&&(n.target=y[n.target]),++n.source.weight,++n.target.weight;for(t=0;t<r;++t)n=y[t],isNaN(n.x)&&(n.x=g("x",c)),isNaN(n.y)&&(n.y=g("y",p)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(i=[],"function"==typeof d)for(t=0;t<s;++t)i[t]=+d.call(this,v[t],t);else for(t=0;t<s;++t)i[t]=d;if(o=[],"function"==typeof f)for(t=0;t<s;++t)o[t]=+f.call(this,v[t],t);else for(t=0;t<s;++t)o[t]=f;if(a=[],"function"==typeof h)for(t=0;t<r;++t)a[t]=+h.call(this,y[t],t);else for(t=0;t<r;++t)a[t]=h;function g(n,i){if(!e){for(e=new Array(r),u=0;u<r;++u)e[u]=[];for(u=0;u<s;++u){var o=v[u];e[o.source.index].push(o.target),e[o.target.index].push(o.source)}}for(var a,l=e[t],u=-1,c=l.length;++u<c;)if(!isNaN(a=l[u][n]))return a;return Math.random()*i}return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){if(n||(n=t.behavior.drag().origin(P).on("dragstart.force",mo).on("drag.force",_).on("dragend.force",yo)),!arguments.length)return n;this.on("mouseover.force",vo).on("mouseout.force",bo).call(n)},t.rebind(l,s,"on")};var _o=20,xo=1,wo=1/0;function ko(e,n){return t.rebind(e,n,"sort","children","value"),e.nodes=e,e.links=Eo,e}function To(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function Co(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(t=r.pop());)e(t)}function Ao(t){return t.children}function Mo(t){return t.value}function So(t,e){return e.value-t.value}function Eo(e){return t.merge(e.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}t.layout.hierarchy=function(){var t=So,e=Ao,n=Mo;function r(i){var o,a=[i],l=[];for(i.depth=0;null!=(o=a.pop());)if(l.push(o),(u=e.call(r,o,o.depth))&&(s=u.length)){for(var s,u,c;--s>=0;)a.push(c=u[s]),c.parent=o,c.depth=o.depth+1;n&&(o.value=0),o.children=u}else n&&(o.value=+n.call(r,o,o.depth)||0),delete o.children;return Co(i,function(e){var r,i;t&&(r=e.children)&&r.sort(t),n&&(i=e.parent)&&(i.value+=e.value)}),l}return r.sort=function(e){return arguments.length?(t=e,r):t},r.children=function(t){return arguments.length?(e=t,r):e},r.value=function(t){return arguments.length?(n=t,r):n},r.revalue=function(t){return n&&(To(t,function(t){t.children&&(t.value=0)}),Co(t,function(t){var e;t.children||(t.value=+n.call(r,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},r},t.layout.partition=function(){var e=t.layout.hierarchy(),n=[1,1];function r(t,r){var i=e.call(this,t,r);return function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(a=o.length)){var a,l,s,u=-1;for(r=e.value?r/e.value:0;++u<a;)t(l=o[u],n,s=l.value*r,i),n+=s}}(i[0],0,n[0],n[1]/function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,t(n[o]));return 1+r}(i[0])),i}return r.size=function(t){return arguments.length?(n=t,r):n},ko(r,e)},t.layout.pie=function(){var e=Number,n=Oo,r=0,i=At,o=0;function a(l){var s,u=l.length,c=l.map(function(t,n){return+e.call(a,t,n)}),d=+("function"==typeof r?r.apply(this,arguments):r),f=("function"==typeof i?i.apply(this,arguments):i)-d,h=Math.min(Math.abs(f)/u,+("function"==typeof o?o.apply(this,arguments):o)),p=h*(f<0?-1:1),g=t.sum(c),m=g?(f-u*p)/g:0,y=t.range(u),v=[];return null!=n&&y.sort(n===Oo?function(t,e){return c[e]-c[t]}:function(t,e){return n(l[t],l[e])}),y.forEach(function(t){v[t]={data:l[t],value:s=c[t],startAngle:d,endAngle:d+=s*m+p,padAngle:h}}),v}return a.value=function(t){return arguments.length?(e=t,a):e},a.sort=function(t){return arguments.length?(n=t,a):n},a.startAngle=function(t){return arguments.length?(r=t,a):r},a.endAngle=function(t){return arguments.length?(i=t,a):i},a.padAngle=function(t){return arguments.length?(o=t,a):o},a};var Oo={};function Po(t){return t.x}function Io(t){return t.y}function Do(t,e,n){t.y0=e,t.y=n}t.layout.stack=function(){var e=P,n=No,r=Fo,i=Do,o=Po,a=Io;function l(s,u){if(!(h=s.length))return s;var c=s.map(function(t,n){return e.call(l,t,n)}),d=c.map(function(t){return t.map(function(t,e){return[o.call(l,t,e),a.call(l,t,e)]})}),f=n.call(l,d,u);c=t.permute(c,f),d=t.permute(d,f);var h,p,g,m,y=r.call(l,d,u),v=c[0].length;for(g=0;g<v;++g)for(i.call(l,c[0][g],m=y[g],d[0][g][1]),p=1;p<h;++p)i.call(l,c[p][g],m+=d[p-1][g][1],d[p][g][1]);return s}return l.values=function(t){return arguments.length?(e=t,l):e},l.order=function(t){return arguments.length?(n="function"==typeof t?t:Lo.get(t)||No,l):n},l.offset=function(t){return arguments.length?(r="function"==typeof t?t:Ro.get(t)||Fo,l):r},l.x=function(t){return arguments.length?(o=t,l):o},l.y=function(t){return arguments.length?(a=t,l):a},l.out=function(t){return arguments.length?(i=t,l):i},l};var Lo=t.map({"inside-out":function(e){var n,r,i=e.length,o=e.map(zo),a=e.map(jo),l=t.range(i).sort(function(t,e){return o[t]-o[e]}),s=0,u=0,c=[],d=[];for(n=0;n<i;++n)r=l[n],s<u?(s+=a[r],c.push(r)):(u+=a[r],d.push(r));return d.reverse().concat(c)},reverse:function(e){return t.range(e.length).reverse()},default:No}),Ro=t.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],l=0,s=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];r>l&&(l=r),a.push(r)}for(n=0;n<o;++n)s[n]=(l-a[n])/2;return s},wiggle:function(t){var e,n,r,i,o,a,l,s,u,c=t.length,d=t[0],f=d.length,h=[];for(h[0]=s=u=0,n=1;n<f;++n){for(e=0,i=0;e<c;++e)i+=t[e][n][1];for(e=0,o=0,l=d[n][0]-d[n-1][0];e<c;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*l);r<e;++r)a+=(t[r][n][1]-t[r][n-1][1])/l;o+=a*t[e][n][1]}h[n]=s-=i?o/i*l:0,s<u&&(u=s)}for(n=0;n<f;++n)h[n]-=u;return h},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,l=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=a}for(n=0;n<o;++n)l[n]=0;return l},zero:Fo});function No(e){return t.range(e.length)}function Fo(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function zo(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function jo(t){return t.reduce(Vo,0)}function Vo(t,e){return t+e[1]}function Bo(t,e){return Ho(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Ho(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function qo(e){return[t.min(e),t.max(e)]}function Uo(t,e){return t.value-e.value}function Go(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Wo(t,e){t._pack_next=e,e._pack_prev=t}function Yo(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function Zo(t){if((e=t.children)&&(s=e.length)){var e,n,r,i,o,a,l,s,u=1/0,c=-1/0,d=1/0,f=-1/0;if(e.forEach(Xo),(n=e[0]).x=-n.r,n.y=0,b(n),s>1&&((r=e[1]).x=r.r,r.y=0,b(r),s>2))for(Ko(n,r,i=e[2]),b(i),Go(n,i),n._pack_prev=i,Go(i,r),r=n._pack_next,o=3;o<s;o++){Ko(n,r,i=e[o]);var h=0,p=1,g=1;for(a=r._pack_next;a!==r;a=a._pack_next,p++)if(Yo(a,i)){h=1;break}if(1==h)for(l=n._pack_prev;l!==a._pack_prev&&!Yo(l,i);l=l._pack_prev,g++);h?(p<g||p==g&&r.r<n.r?Wo(n,r=a):Wo(n=l,r),o--):(Go(n,i),r=i,b(i))}var m=(u+c)/2,y=(d+f)/2,v=0;for(o=0;o<s;o++)(i=e[o]).x-=m,i.y-=y,v=Math.max(v,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=v,e.forEach(Qo)}function b(t){u=Math.min(t.x-t.r,u),c=Math.max(t.x+t.r,c),d=Math.min(t.y-t.r,d),f=Math.max(t.y+t.r,f)}}function Xo(t){t._pack_next=t._pack_prev=t}function Qo(t){delete t._pack_next,delete t._pack_prev}function Ko(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,l=i*i+o*o,s=.5+((r*=r)-(a*=a))/(2*l),u=Math.sqrt(Math.max(0,2*a*(r+l)-(r-=l)*r-a*a))/(2*l);n.x=t.x+s*i+u*o,n.y=t.y+s*o-u*i}else n.x=t.x+r,n.y=t.y}function $o(t,e){return t.parent==e.parent?1:2}function Jo(t){var e=t.children;return e.length?e[0]:t.t}function ta(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function ea(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function na(t,e,n){return t.a.parent===e.parent?t.a:n}function ra(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function ia(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function oa(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function aa(t){return t.rangeExtent?t.rangeExtent():oa(t.range())}function la(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function sa(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function ua(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:ca}t.layout.histogram=function(){var e=!0,n=Number,r=qo,i=Bo;function o(o,a){for(var l,s,u=[],c=o.map(n,this),d=r.call(this,c,a),f=i.call(this,d,c,a),h=(a=-1,c.length),p=f.length-1,g=e?1:1/h;++a<p;)(l=u[a]=[]).dx=f[a+1]-(l.x=f[a]),l.y=0;if(p>0)for(a=-1;++a<h;)(s=c[a])>=d[0]&&s<=d[1]&&((l=u[t.bisect(f,s,1,p)-1]).y+=g,l.push(o[a]));return u}return o.value=function(t){return arguments.length?(n=t,o):n},o.range=function(t){return arguments.length?(r=ge(t),o):r},o.bins=function(t){return arguments.length?(i="number"==typeof t?function(e){return Ho(e,t)}:ge(t),o):i},o.frequency=function(t){return arguments.length?(e=!!t,o):e},o},t.layout.pack=function(){var e,n=t.layout.hierarchy().sort(Uo),r=0,i=[1,1];function o(t,o){var a=n.call(this,t,o),l=a[0],s=i[0],u=i[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(l.x=l.y=0,Co(l,function(t){t.r=+c(t.value)}),Co(l,Zo),r){var d=r*(e?1:Math.max(2*l.r/s,2*l.r/u))/2;Co(l,function(t){t.r+=d}),Co(l,Zo),Co(l,function(t){t.r-=d})}return function t(e,n,r,i){var o=e.children;if(e.x=n+=i*e.x,e.y=r+=i*e.y,e.r*=i,o)for(var a=-1,l=o.length;++a<l;)t(o[a],n,r,i)}(l,s/2,u/2,e?1:1/Math.max(2*l.r/s,2*l.r/u)),a}return o.size=function(t){return arguments.length?(i=t,o):i},o.radius=function(t){return arguments.length?(e=null==t||"function"==typeof t?t:+t,o):e},o.padding=function(t){return arguments.length?(r=+t,o):r},ko(o,n)},t.layout.tree=function(){var e=t.layout.hierarchy().sort(null).value(null),n=$o,r=[1,1],i=null;function o(t,o){var u=e.call(this,t,o),c=u[0],d=function(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var i,o=e.children,a=0,l=o.length;a<l;++a)r.push((o[a]=i={_:o[a],parent:e,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}(c);if(Co(d,a),d.parent.m=-d.z,To(d,l),i)To(c,s);else{var f=c,h=c,p=c;To(c,function(t){t.x<f.x&&(f=t),t.x>h.x&&(h=t),t.depth>p.depth&&(p=t)});var g=n(f,h)/2-f.x,m=r[0]/(h.x+n(h,f)/2+g),y=r[1]/(p.depth||1);To(c,function(t){t.x=(t.x+g)*m,t.y=t.depth*y})}return u}function a(t){var e=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(e.length){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(t);var o=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+n(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+n(t._,i._));t.parent.A=function(t,e,r){if(e){for(var i,o=t,a=t,l=e,s=o.parent.children[0],u=o.m,c=a.m,d=l.m,f=s.m;l=ta(l),o=Jo(o),l&&o;)s=Jo(s),(a=ta(a)).a=t,(i=l.z+d-o.z-u+n(l._,o._))>0&&(ea(na(l,t,r),t,i),u+=i,c+=i),d+=l.m,u+=o.m,f+=s.m,c+=a.m;l&&!ta(a)&&(a.t=l,a.m+=d-c),o&&!Jo(s)&&(s.t=o,s.m+=u-f,r=t)}return r}(t,i,t.parent.A||r[0])}function l(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(t){t.x*=r[0],t.y=t.depth*r[1]}return o.separation=function(t){return arguments.length?(n=t,o):n},o.size=function(t){return arguments.length?(i=null==(r=t)?s:null,o):i?null:r},o.nodeSize=function(t){return arguments.length?(i=null==(r=t)?null:s,o):i?r:null},ko(o,e)},t.layout.cluster=function(){var e=t.layout.hierarchy().sort(null).value(null),n=$o,r=[1,1],i=!1;function o(o,a){var l,s=e.call(this,o,a),u=s[0],c=0;Co(u,function(e){var r=e.children;r&&r.length?(e.x=function(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}(r),e.y=function(e){return 1+t.max(e,function(t){return t.y})}(r)):(e.x=l?c+=n(e,l):0,e.y=0,l=e)});var d=function t(e){var n=e.children;return n&&n.length?t(n[0]):e}(u),f=function t(e){var n,r=e.children;return r&&(n=r.length)?t(r[n-1]):e}(u),h=d.x-n(d,f)/2,p=f.x+n(f,d)/2;return Co(u,i?function(t){t.x=(t.x-u.x)*r[0],t.y=(u.y-t.y)*r[1]}:function(t){t.x=(t.x-h)/(p-h)*r[0],t.y=(1-(u.y?t.y/u.y:1))*r[1]}),s}return o.separation=function(t){return arguments.length?(n=t,o):n},o.size=function(t){return arguments.length?(i=null==(r=t),o):i?null:r},o.nodeSize=function(t){return arguments.length?(i=null!=(r=t),o):i?r:null},ko(o,e)},t.layout.treemap=function(){var e,n=t.layout.hierarchy(),r=Math.round,i=[1,1],o=null,a=ra,l=!1,s="squarify",u=.5*(1+Math.sqrt(5));function c(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function d(t){var e=t.children;if(e&&e.length){var n,r,i,o=a(t),l=[],u=e.slice(),f=1/0,g="slice"===s?o.dx:"dice"===s?o.dy:"slice-dice"===s?1&t.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(c(u,o.dx*o.dy/t.value),l.area=0;(i=u.length)>0;)l.push(n=u[i-1]),l.area+=n.area,"squarify"!==s||(r=h(l,g))<=f?(u.pop(),f=r):(l.area-=l.pop().area,p(l,g,o,!1),g=Math.min(o.dx,o.dy),l.length=l.area=0,f=1/0);l.length&&(p(l,g,o,!0),l.length=l.area=0),e.forEach(d)}}function f(t){var e=t.children;if(e&&e.length){var n,r=a(t),i=e.slice(),o=[];for(c(i,r.dx*r.dy/t.value),o.area=0;n=i.pop();)o.push(n),o.area+=n.area,null!=n.z&&(p(o,n.z?r.dx:r.dy,r,!i.length),o.length=o.area=0);e.forEach(f)}}function h(t,e){for(var n,r=t.area,i=0,o=1/0,a=-1,l=t.length;++a<l;)(n=t[a].area)&&(n<o&&(o=n),n>i&&(i=n));return e*=e,(r*=r)?Math.max(e*i*u/r,r/(e*o*u)):1/0}function p(t,e,n,i){var o,a=-1,l=t.length,s=n.x,u=n.y,c=e?r(t.area/e):0;if(e==n.dx){for((i||c>n.dy)&&(c=n.dy);++a<l;)(o=t[a]).x=s,o.y=u,o.dy=c,s+=o.dx=Math.min(n.x+n.dx-s,c?r(o.area/c):0);o.z=!0,o.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((i||c>n.dx)&&(c=n.dx);++a<l;)(o=t[a]).x=s,o.y=u,o.dx=c,u+=o.dy=Math.min(n.y+n.dy-u,c?r(o.area/c):0);o.z=!1,o.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function g(t){var r=e||n(t),o=r[0];return o.x=o.y=0,o.value?(o.dx=i[0],o.dy=i[1]):o.dx=o.dy=0,e&&n.revalue(o),c([o],o.dx*o.dy/o.value),(e?f:d)(o),l&&(e=r),r}return g.size=function(t){return arguments.length?(i=t,g):i},g.padding=function(t){if(!arguments.length)return o;function e(e){return ia(e,t)}var n;return a=null==(o=t)?ra:"function"==(n=typeof t)?function(e){var n=t.call(g,e,e.depth);return null==n?ra(e):ia(e,"number"==typeof n?[n,n,n,n]:n)}:"number"===n?(t=[t,t,t,t],e):e,g},g.round=function(t){return arguments.length?(r=t?Math.round:Number,g):r!=Number},g.sticky=function(t){return arguments.length?(l=t,e=null,g):l},g.ratio=function(t){return arguments.length?(u=t,g):u},g.mode=function(t){return arguments.length?(s=t+"",g):s},ko(g,n)},t.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,i;do{i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=t.random.normal.apply(t,arguments);return function(){return Math.exp(e())}},bates:function(e){var n=t.random.irwinHall(e);return function(){return n()/e}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},t.scale={};var ca={floor:P,ceil:P};function da(e,n,r,i){var o=[],a=[],l=0,s=Math.min(e.length,n.length)-1;for(e[s]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++l<=s;)o.push(r(e[l-1],e[l])),a.push(i(n[l-1],n[l]));return function(n){var r=t.bisect(e,n,1,s)-1;return a[r](o[r](n))}}function fa(e,n){return t.rebind(e,n,"range","rangeRound","interpolate","clamp")}function ha(t,e){return sa(t,ua(pa(t,e)[2])),sa(t,ua(pa(t,e)[2])),t}function pa(t,e){null==e&&(e=10);var n=oa(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function ga(e,n){return t.range.apply(t,pa(e,n))}function ma(e,n,r){var i=pa(e,n);if(r){var o=Ee.exec(r);if(o.shift(),"s"===o[8]){var a=t.formatPrefix(Math.max(v(i[0]),v(i[1])));return o[7]||(o[7]="."+va(a.scale(i[2]))),o[8]="f",r=t.format(o.join("")),function(t){return r(a.scale(t))+a.symbol}}o[7]||(o[7]="."+function(t,e){var n=va(e[2]);return t in ya?Math.abs(n-va(Math.max(v(e[0]),v(e[1]))))+ +("e"!==t):n-2*("%"===t)}(o[8],i)),r=o.join("")}else r=",."+va(i[2])+"f";return t.format(r)}t.scale.linear=function(){return function t(e,n,r,i){var o,a;function l(){var t=Math.min(e.length,n.length)>2?da:la,l=i?ho:fo;return o=t(e,n,l,r),a=t(n,e,l,Ui),s}function s(t){return o(t)}return s.invert=function(t){return a(t)},s.domain=function(t){return arguments.length?(e=t.map(Number),l()):e},s.range=function(t){return arguments.length?(n=t,l()):n},s.rangeRound=function(t){return s.range(t).interpolate(io)},s.clamp=function(t){return arguments.length?(i=t,l()):i},s.interpolate=function(t){return arguments.length?(r=t,l()):r},s.ticks=function(t){return ga(e,t)},s.tickFormat=function(t,n){return ma(e,t,n)},s.nice=function(t){return ha(e,t),l()},s.copy=function(){return t(e,n,r,i)},l()}([0,1],[0,1],Ui,!1)};var ya={s:1,g:1,p:1,r:1,e:1};function va(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}t.scale.log=function(){return function e(n,r,i,o){function a(t){return(i?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(r)}function l(t){return i?Math.pow(r,t):-Math.pow(r,-t)}function s(t){return n(a(t))}return s.invert=function(t){return l(n.invert(t))},s.domain=function(t){return arguments.length?(i=t[0]>=0,n.domain((o=t.map(Number)).map(a)),s):o},s.base=function(t){return arguments.length?(r=+t,n.domain(o.map(a)),s):r},s.nice=function(){var t=sa(o.map(a),i?Math:_a);return n.domain(t),o=t.map(l),s},s.ticks=function(){var t=oa(o),e=[],n=t[0],s=t[1],u=Math.floor(a(n)),c=Math.ceil(a(s)),d=r%1?2:r;if(isFinite(c-u)){if(i){for(;u<c;u++)for(var f=1;f<d;f++)e.push(l(u)*f);e.push(l(u))}else for(e.push(l(u));u++<c;)for(f=d-1;f>0;f--)e.push(l(u)*f);for(u=0;e[u]<n;u++);for(c=e.length;e[c-1]>s;c--);e=e.slice(u,c)}return e},s.tickFormat=function(e,n){if(!arguments.length)return ba;arguments.length<2?n=ba:"function"!=typeof n&&(n=t.format(n));var i=Math.max(1,r*e/s.ticks().length);return function(t){var e=t/l(Math.round(a(t)));return e*r<r-.5&&(e*=r),e<=i?n(t):""}},s.copy=function(){return e(n.copy(),r,i,o)},fa(s,n)}(t.scale.linear().domain([0,1]),10,!0,[1,10])};var ba=t.format(".0e"),_a={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function xa(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}t.scale.pow=function(){return function t(e,n,r){var i=xa(n),o=xa(1/n);function a(t){return e(i(t))}return a.invert=function(t){return o(e.invert(t))},a.domain=function(t){return arguments.length?(e.domain((r=t.map(Number)).map(i)),a):r},a.ticks=function(t){return ga(r,t)},a.tickFormat=function(t,e){return ma(r,t,e)},a.nice=function(t){return a.domain(ha(r,t))},a.exponent=function(t){return arguments.length?(i=xa(n=t),o=xa(1/n),e.domain(r.map(i)),a):n},a.copy=function(){return t(e.copy(),n,r)},fa(a,e)}(t.scale.linear(),1,[0,1])},t.scale.sqrt=function(){return t.scale.pow().exponent(.5)},t.scale.ordinal=function(){return function e(n,r){var i,o,a;function l(t){return o[((i.get(t)||("range"===r.t?i.set(t,n.push(t)):NaN))-1)%o.length]}function s(e,r){return t.range(n.length).map(function(t){return e+r*t})}return l.domain=function(t){if(!arguments.length)return n;n=[],i=new _;for(var e,o=-1,a=t.length;++o<a;)i.has(e=t[o])||i.set(e,n.push(e));return l[r.t].apply(l,r.a)},l.range=function(t){return arguments.length?(o=t,a=0,r={t:"range",a:arguments},l):o},l.rangePoints=function(t,e){arguments.length<2&&(e=0);var i=t[0],u=t[1],c=n.length<2?(i=(i+u)/2,0):(u-i)/(n.length-1+e);return o=s(i+c*e/2,c),a=0,r={t:"rangePoints",a:arguments},l},l.rangeRoundPoints=function(t,e){arguments.length<2&&(e=0);var i=t[0],u=t[1],c=n.length<2?(i=u=Math.round((i+u)/2),0):(u-i)/(n.length-1+e)|0;return o=s(i+Math.round(c*e/2+(u-i-(n.length-1+e)*c)/2),c),a=0,r={t:"rangeRoundPoints",a:arguments},l},l.rangeBands=function(t,e,i){arguments.length<2&&(e=0),arguments.length<3&&(i=e);var u=t[1]<t[0],c=t[u-0],d=(t[1-u]-c)/(n.length-e+2*i);return o=s(c+d*i,d),u&&o.reverse(),a=d*(1-e),r={t:"rangeBands",a:arguments},l},l.rangeRoundBands=function(t,e,i){arguments.length<2&&(e=0),arguments.length<3&&(i=e);var u=t[1]<t[0],c=t[u-0],d=t[1-u],f=Math.floor((d-c)/(n.length-e+2*i));return o=s(c+Math.round((d-c-(n.length-e)*f)/2),f),u&&o.reverse(),a=Math.round(f*(1-e)),r={t:"rangeRoundBands",a:arguments},l},l.rangeBand=function(){return a},l.rangeExtent=function(){return oa(r.a[0])},l.copy=function(){return e(n,r)},l.domain(n)}([],{t:"range",a:[[]]})},t.scale.category10=function(){return t.scale.ordinal().range(wa)},t.scale.category20=function(){return t.scale.ordinal().range(ka)},t.scale.category20b=function(){return t.scale.ordinal().range(Ta)},t.scale.category20c=function(){return t.scale.ordinal().range(Ca)};var wa=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ae),ka=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ae),Ta=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ae),Ca=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ae);function Aa(){return 0}t.scale.quantile=function(){return function e(n,r){var i;function o(){var e=0,o=r.length;for(i=[];++e<o;)i[e-1]=t.quantile(n,e/o);return a}function a(e){if(!isNaN(e=+e))return r[t.bisect(i,e)]}return a.domain=function(t){return arguments.length?(n=t.map(h).filter(p).sort(f),o()):n},a.range=function(t){return arguments.length?(r=t,o()):r},a.quantiles=function(){return i},a.invertExtent=function(t){return(t=r.indexOf(t))<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]},a.copy=function(){return e(n,r)},o()}([],[])},t.scale.quantize=function(){return function t(e,n,r){var i,o;function a(t){return r[Math.max(0,Math.min(o,Math.floor(i*(t-e))))]}function l(){return i=r.length/(n-e),o=r.length-1,a}return a.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],l()):[e,n]},a.range=function(t){return arguments.length?(r=t,l()):r},a.invertExtent=function(t){return[t=(t=r.indexOf(t))<0?NaN:t/i+e,t+1/i]},a.copy=function(){return t(e,n,r)},l()}(0,1,[0,1])},t.scale.threshold=function(){return function e(n,r){function i(e){if(e<=e)return r[t.bisect(n,e)]}return i.domain=function(t){return arguments.length?(n=t,i):n},i.range=function(t){return arguments.length?(r=t,i):r},i.invertExtent=function(t){return t=r.indexOf(t),[n[t-1],n[t]]},i.copy=function(){return e(n,r)},i}([.5],[0,1])},t.scale.identity=function(){return function t(e){function n(t){return+t}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=t.map(n),n):e},n.ticks=function(t){return ga(e,t)},n.tickFormat=function(t,n){return ma(e,t,n)},n.copy=function(){return t(e)},n}([0,1])},t.svg={},t.svg.arc=function(){var t=Sa,e=Ea,n=Aa,r=Ma,i=Oa,o=Pa,a=Ia;function l(){var l=Math.max(0,+t.apply(this,arguments)),u=Math.max(0,+e.apply(this,arguments)),c=i.apply(this,arguments)-St,d=o.apply(this,arguments)-St,f=Math.abs(d-c),h=c>d?0:1;if(u<l&&(p=u,u=l,l=p),f>=Mt)return s(u,h)+(l?s(l,1-h):"")+"Z";var p,g,m,y,v,b,_,x,w,k,T,C,A=0,M=0,S=[];if((y=(+a.apply(this,arguments)||0)/2)&&(m=r===Ma?Math.sqrt(l*l+u*u):+r.apply(this,arguments),h||(M*=-1),u&&(M=Lt(m/u*Math.sin(y))),l&&(A=Lt(m/l*Math.sin(y)))),u){v=u*Math.cos(c+M),b=u*Math.sin(c+M),_=u*Math.cos(d-M),x=u*Math.sin(d-M);var E=Math.abs(d-c-2*M)<=Ct?0:1;if(M&&Da(v,b,_,x)===h^E){var O=(c+d)/2;v=u*Math.cos(O),b=u*Math.sin(O),_=x=null}}else v=b=0;if(l){w=l*Math.cos(d-A),k=l*Math.sin(d-A),T=l*Math.cos(c+A),C=l*Math.sin(c+A);var P=Math.abs(c-d+2*A)<=Ct?0:1;if(A&&Da(w,k,T,C)===1-h^P){var I=(c+d)/2;w=l*Math.cos(I),k=l*Math.sin(I),T=C=null}}else w=k=0;if(f>kt&&(p=Math.min(Math.abs(u-l)/2,+n.apply(this,arguments)))>.001){g=l<u^h?0:1;var D=p,L=p;if(f<Ct){var R=null==T?[w,k]:null==_?[v,b]:ii([v,b],[T,C],[_,x],[w,k]),N=v-R[0],F=b-R[1],z=_-R[0],j=x-R[1],V=1/Math.sin(Math.acos((N*z+F*j)/(Math.sqrt(N*N+F*F)*Math.sqrt(z*z+j*j)))/2),B=Math.sqrt(R[0]*R[0]+R[1]*R[1]);L=Math.min(p,(l-B)/(V-1)),D=Math.min(p,(u-B)/(V+1))}if(null!=_){var H=La(null==T?[w,k]:[T,C],[v,b],u,D,h),q=La([_,x],[w,k],u,D,h);p===D?S.push("M",H[0],"A",D,",",D," 0 0,",g," ",H[1],"A",u,",",u," 0 ",1-h^Da(H[1][0],H[1][1],q[1][0],q[1][1]),",",h," ",q[1],"A",D,",",D," 0 0,",g," ",q[0]):S.push("M",H[0],"A",D,",",D," 0 1,",g," ",q[0])}else S.push("M",v,",",b);if(null!=T){var U=La([v,b],[T,C],l,-L,h),G=La([w,k],null==_?[v,b]:[_,x],l,-L,h);p===L?S.push("L",G[0],"A",L,",",L," 0 0,",g," ",G[1],"A",l,",",l," 0 ",h^Da(G[1][0],G[1][1],U[1][0],U[1][1]),",",1-h," ",U[1],"A",L,",",L," 0 0,",g," ",U[0]):S.push("L",G[0],"A",L,",",L," 0 0,",g," ",U[0])}else S.push("L",w,",",k)}else S.push("M",v,",",b),null!=_&&S.push("A",u,",",u," 0 ",E,",",h," ",_,",",x),S.push("L",w,",",k),null!=T&&S.push("A",l,",",l," 0 ",P,",",1-h," ",T,",",C);return S.push("Z"),S.join("")}function s(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return l.innerRadius=function(e){return arguments.length?(t=ge(e),l):t},l.outerRadius=function(t){return arguments.length?(e=ge(t),l):e},l.cornerRadius=function(t){return arguments.length?(n=ge(t),l):n},l.padRadius=function(t){return arguments.length?(r=t==Ma?Ma:ge(t),l):r},l.startAngle=function(t){return arguments.length?(i=ge(t),l):i},l.endAngle=function(t){return arguments.length?(o=ge(t),l):o},l.padAngle=function(t){return arguments.length?(a=ge(t),l):a},l.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-St;return[Math.cos(r)*n,Math.sin(r)*n]},l};var Ma="auto";function Sa(t){return t.innerRadius}function Ea(t){return t.outerRadius}function Oa(t){return t.startAngle}function Pa(t){return t.endAngle}function Ia(t){return t&&t.padAngle}function Da(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function La(t,e,n,r,i){var o=t[0]-e[0],a=t[1]-e[1],l=(i?r:-r)/Math.sqrt(o*o+a*a),s=l*a,u=-l*o,c=t[0]+s,d=t[1]+u,f=e[0]+s,h=e[1]+u,p=(c+f)/2,g=(d+h)/2,m=f-c,y=h-d,v=m*m+y*y,b=n-r,_=c*h-f*d,x=(y<0?-1:1)*Math.sqrt(Math.max(0,b*b*v-_*_)),w=(_*y-m*x)/v,k=(-_*m-y*x)/v,T=(_*y+m*x)/v,C=(-_*m+y*x)/v,A=w-p,M=k-g,S=T-p,E=C-g;return A*A+M*M>S*S+E*E&&(w=T,k=C),[[w-s,k-u],[w*n/b,k*n/b]]}function Ra(t){var e=$r,n=Jr,r=Wn,i=Fa,o=i.key,a=.7;function l(o){var l,s=[],u=[],c=-1,d=o.length,f=ge(e),h=ge(n);function p(){s.push("M",i(t(u),a))}for(;++c<d;)r.call(this,l=o[c],c)?u.push([+f.call(this,l,c),+h.call(this,l,c)]):u.length&&(p(),u=[]);return u.length&&p(),s.length?s.join(""):null}return l.x=function(t){return arguments.length?(e=t,l):e},l.y=function(t){return arguments.length?(n=t,l):n},l.defined=function(t){return arguments.length?(r=t,l):r},l.interpolate=function(t){return arguments.length?(o="function"==typeof t?i=t:(i=Na.get(t)||Fa).key,l):o},l.tension=function(t){return arguments.length?(a=t,l):a},l}t.svg.line=function(){return Ra(P)};var Na=t.map({linear:Fa,"linear-closed":za,step:function(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")},"step-before":ja,"step-after":Va,basis:qa,"basis-open":function(t){if(t.length<4)return Fa(t);for(var e,n=[],r=-1,i=t.length,o=[0],a=[0];++r<3;)o.push((e=t[r])[0]),a.push(e[1]);for(n.push(Ua(Ya,o)+","+Ua(Ya,a)),--r;++r<i;)e=t[r],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Za(n,o,a);return n.join("")},"basis-closed":function(t){for(var e,n,r=-1,i=t.length,o=i+4,a=[],l=[];++r<4;)a.push((n=t[r%i])[0]),l.push(n[1]);for(e=[Ua(Ya,a),",",Ua(Ya,l)],--r;++r<o;)n=t[r%i],a.shift(),a.push(n[0]),l.shift(),l.push(n[1]),Za(e,a,l);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],a=t[0][1],l=t[n][0]-o,s=t[n][1]-a,u=-1;++u<=n;)(r=t[u])[0]=e*r[0]+(1-e)*(o+(i=u/n)*l),r[1]=e*r[1]+(1-e)*(a+i*s);return qa(t)},cardinal:function(t,e){return t.length<3?Fa(t):t[0]+Ba(t,Ha(t,e))},"cardinal-open":function(t,e){return t.length<4?Fa(t):t[1]+Ba(t.slice(1,-1),Ha(t,e))},"cardinal-closed":function(t,e){return t.length<3?za(t):t[0]+Ba((t.push(t[0]),t),Ha([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?Fa(t):t[0]+Ba(t,function(t){for(var e,n,r,i,o=[],a=function(t){for(var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=Xa(i,o);++e<n;)r[e]=(a+(a=Xa(i=o,o=t[e+1])))/2;return r[e]=a,r}(t),l=-1,s=t.length-1;++l<s;)e=Xa(t[l],t[l+1]),v(e)<kt?a[l]=a[l+1]=0:(i=(n=a[l]/e)*n+(r=a[l+1]/e)*r)>9&&(i=3*e/Math.sqrt(i),a[l]=i*n,a[l+1]=i*r);for(l=-1;++l<=s;)i=(t[Math.min(s,l+1)][0]-t[Math.max(0,l-1)][0])/(6*(1+a[l]*a[l])),o.push([i||0,a[l]*i||0]);return o}(t))}});function Fa(t){return t.length>1?t.join("L"):t+"Z"}function za(t){return t.join("L")+"Z"}function ja(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function Va(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function Ba(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Fa(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],l=a,s=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],s=2),e.length>1){o=t[s],s++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-(l=e[1])[0])+","+(o[1]-l[1])+","+o[0]+","+o[1];for(var u=2;u<e.length;u++,s++)r+="S"+((o=t[s])[0]-(l=e[u])[0])+","+(o[1]-l[1])+","+o[0]+","+o[1]}if(n){var c=t[s];r+="Q"+(o[0]+2*l[0]/3)+","+(o[1]+2*l[1]/3)+","+c[0]+","+c[1]}return r}function Ha(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],l=1,s=t.length;++l<s;)n=o,o=a,r.push([i*((a=t[l])[0]-n[0]),i*(a[1]-n[1])]);return r}function qa(t){if(t.length<3)return Fa(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],l=[o,o,o,r[1]],s=[i,",",o,"L",Ua(Ya,a),",",Ua(Ya,l)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),l.shift(),l.push(r[1]),Za(s,a,l);return t.pop(),s.push("L",r),s.join("")}function Ua(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}Na.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Ga=[0,2/3,1/3,0],Wa=[0,1/3,2/3,0],Ya=[0,1/6,2/3,1/6];function Za(t,e,n){t.push("C",Ua(Ga,e),",",Ua(Ga,n),",",Ua(Wa,e),",",Ua(Wa,n),",",Ua(Ya,e),",",Ua(Ya,n))}function Xa(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Qa(t){for(var e,n,r,i=-1,o=t.length;++i<o;)r=(e=t[i])[1]-St,e[0]=(n=e[0])*Math.cos(r),e[1]=n*Math.sin(r);return t}function Ka(t){var e=$r,n=$r,r=0,i=Jr,o=Wn,a=Fa,l=a.key,s=a,u="L",c=.7;function d(l){var d,f,h,p=[],g=[],m=[],y=-1,v=l.length,b=ge(e),_=ge(r),x=e===n?function(){return f}:ge(n),w=r===i?function(){return h}:ge(i);function k(){p.push("M",a(t(m),c),u,s(t(g.reverse()),c),"Z")}for(;++y<v;)o.call(this,d=l[y],y)?(g.push([f=+b.call(this,d,y),h=+_.call(this,d,y)]),m.push([+x.call(this,d,y),+w.call(this,d,y)])):g.length&&(k(),g=[],m=[]);return g.length&&k(),p.length?p.join(""):null}return d.x=function(t){return arguments.length?(e=n=t,d):n},d.x0=function(t){return arguments.length?(e=t,d):e},d.x1=function(t){return arguments.length?(n=t,d):n},d.y=function(t){return arguments.length?(r=i=t,d):i},d.y0=function(t){return arguments.length?(r=t,d):r},d.y1=function(t){return arguments.length?(i=t,d):i},d.defined=function(t){return arguments.length?(o=t,d):o},d.interpolate=function(t){return arguments.length?(l="function"==typeof t?a=t:(a=Na.get(t)||Fa).key,s=a.reverse||a,u=a.closed?"M":"L",d):l},d.tension=function(t){return arguments.length?(c=t,d):c},d}function $a(t){return t.radius}function Ja(t){return[t.x,t.y]}function tl(){return 64}function el(){return"circle"}function nl(t){var e=Math.sqrt(t/Ct);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}t.svg.line.radial=function(){var t=Ra(Qa);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},ja.reverse=Va,Va.reverse=ja,t.svg.area=function(){return Ka(P)},t.svg.area.radial=function(){var t=Ka(Qa);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},t.svg.chord=function(){var t=zr,e=jr,n=$a,r=Oa,i=Pa;function o(n,r){var i,o,u=a(this,t,n,r),c=a(this,e,n,r);return"M"+u.p0+l(u.r,u.p1,u.a1-u.a0)+((i=u).a0==(o=c).a0&&i.a1==o.a1?s(0,0,0,u.p0):s(0,0,0,c.p0)+l(c.r,c.p1,c.a1-c.a0)+s(0,0,0,u.p0))+"Z"}function a(t,e,o,a){var l=e.call(t,o,a),s=n.call(t,l,a),u=r.call(t,l,a)-St,c=i.call(t,l,a)-St;return{r:s,a0:u,a1:c,p0:[s*Math.cos(u),s*Math.sin(u)],p1:[s*Math.cos(c),s*Math.sin(c)]}}function l(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Ct)+",1 "+e}function s(t,e,n,r){return"Q 0,0 "+r}return o.radius=function(t){return arguments.length?(n=ge(t),o):n},o.source=function(e){return arguments.length?(t=ge(e),o):t},o.target=function(t){return arguments.length?(e=ge(t),o):e},o.startAngle=function(t){return arguments.length?(r=ge(t),o):r},o.endAngle=function(t){return arguments.length?(i=ge(t),o):i},o},t.svg.diagonal=function(){var t=zr,e=jr,n=Ja;function r(r,i){var o=t.call(this,r,i),a=e.call(this,r,i),l=(o.y+a.y)/2,s=[o,{x:o.x,y:l},{x:a.x,y:l},a];return"M"+(s=s.map(n))[0]+"C"+s[1]+" "+s[2]+" "+s[3]}return r.source=function(e){return arguments.length?(t=ge(e),r):t},r.target=function(t){return arguments.length?(e=ge(t),r):e},r.projection=function(t){return arguments.length?(n=t,r):n},r},t.svg.diagonal.radial=function(){var e=t.svg.diagonal(),n=Ja,r=e.projection;return e.projection=function(t){return arguments.length?r(function(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-St;return[n*Math.cos(r),n*Math.sin(r)]}}(n=t)):n},e},t.svg.symbol=function(){var t=el,e=tl;function n(n,r){return(rl.get(t.call(this,n,r))||nl)(e.call(this,n,r))}return n.type=function(e){return arguments.length?(t=ge(e),n):t},n.size=function(t){return arguments.length?(e=ge(t),n):e},n};var rl=t.map({circle:nl,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*ol)),n=e*ol;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/il),n=e*il/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/il),n=e*il/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});t.svg.symbolTypes=rl.keys();var il=Math.sqrt(3),ol=Math.tan(30*Et);Y.transition=function(t){for(var e,n,r=ul||++fl,i=gl(t),o=[],a=cl||{time:Date.now(),ease:Ji,delay:0,duration:250},l=-1,s=this.length;++l<s;){o.push(e=[]);for(var u=this[l],c=-1,d=u.length;++c<d;)(n=u[c])&&ml(n,c,i,r,a),e.push(n)}return sl(o,i,r)},Y.interrupt=function(t){return this.each(null==t?al:ll(gl(t)))};var al=ll(gl());function ll(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function sl(t,e,n){return H(t,dl),t.namespace=e,t.id=n,t}var ul,cl,dl=[],fl=0;function hl(t,e,n,r){var i=t.id,o=t.namespace;return ct(t,"function"==typeof n?function(t,a,l){t[o][i].tween.set(e,r(n.call(t,t.__data__,a,l)))}:(n=r(n),function(t){t[o][i].tween.set(e,n)}))}function pl(t){return null==t&&(t=""),function(){this.textContent=t}}function gl(t){return null==t?"__transition__":"__transition_"+t+"__"}function ml(t,e,n,r,i){var o,a,l,s,u,c=t[n]||(t[n]={active:0,count:0}),d=c[r];function f(n){var i=c.active,f=c[i];for(var p in f&&(f.timer.c=null,f.timer.t=NaN,--c.count,delete c[i],f.event&&f.event.interrupt.call(t,t.__data__,f.index)),c)if(+p<r){var g=c[p];g.timer.c=null,g.timer.t=NaN,--c.count,delete c[p]}a.c=h,ke(function(){return a.c&&h(n||1)&&(a.c=null,a.t=NaN),1},0,o),c.active=r,d.event&&d.event.start.call(t,t.__data__,e),u=[],d.tween.forEach(function(n,r){(r=r.call(t,t.__data__,e))&&u.push(r)}),s=d.ease,l=d.duration}function h(i){for(var o=i/l,a=s(o),f=u.length;f>0;)u[--f].call(t,a);if(o>=1)return d.event&&d.event.end.call(t,t.__data__,e),--c.count?delete c[r]:delete t[n],1}d||(a=ke(function(t){var e=d.delay;if(a.t=e+o,e<=t)return f(t-e);a.c=f},0,o=i.time),d=c[r]={tween:new _,time:o,timer:a,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++c.count)}dl.call=Y.call,dl.empty=Y.empty,dl.node=Y.node,dl.size=Y.size,t.transition=function(e,n){return e&&e.transition?ul?e.transition(n):e:t.selection().transition(e)},t.transition.prototype=dl,dl.select=function(t){var e,n,r,i=this.id,o=this.namespace,a=[];t=Z(t);for(var l=-1,s=this.length;++l<s;){a.push(e=[]);for(var u=this[l],c=-1,d=u.length;++c<d;)(r=u[c])&&(n=t.call(r,r.__data__,c,l))?("__data__"in r&&(n.__data__=r.__data__),ml(n,c,o,i,r[o][i]),e.push(n)):e.push(null)}return sl(a,o,i)},dl.selectAll=function(t){var e,n,r,i,o,a=this.id,l=this.namespace,s=[];t=X(t);for(var u=-1,c=this.length;++u<c;)for(var d=this[u],f=-1,h=d.length;++f<h;)if(r=d[f]){o=r[l][a],n=t.call(r,r.__data__,f,u),s.push(e=[]);for(var p=-1,g=n.length;++p<g;)(i=n[p])&&ml(i,p,l,a,o),e.push(i)}return sl(s,l,a)},dl.filter=function(t){var e,n,r=[];"function"!=typeof t&&(t=ut(t));for(var i=0,o=this.length;i<o;i++){r.push(e=[]);for(var a=this[i],l=0,s=a.length;l<s;l++)(n=a[l])&&t.call(n,n.__data__,l,i)&&e.push(n)}return sl(r,this.namespace,this.id)},dl.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):ct(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},dl.attr=function(e,n){if(arguments.length<2){for(n in e)this.attr(n,e[n]);return this}var r="transform"==e?co:Ui,i=t.ns.qualify(e);function o(){this.removeAttribute(i)}function a(){this.removeAttributeNS(i.space,i.local)}return hl(this,"attr."+e,n,i.local?function(t){return null==t?a:(t+="",function(){var e,n=this.getAttributeNS(i.space,i.local);return n!==t&&(e=r(n,t),function(t){this.setAttributeNS(i.space,i.local,e(t))})})}:function(t){return null==t?o:(t+="",function(){var e,n=this.getAttribute(i);return n!==t&&(e=r(n,t),function(t){this.setAttribute(i,e(t))})})})},dl.attrTween=function(e,n){var r=t.ns.qualify(e);return this.tween("attr."+e,r.local?function(t,e){var i=n.call(this,t,e,this.getAttributeNS(r.space,r.local));return i&&function(t){this.setAttributeNS(r.space,r.local,i(t))}}:function(t,e){var i=n.call(this,t,e,this.getAttribute(r));return i&&function(t){this.setAttribute(r,i(t))}})},dl.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.style(n,t[n],e);return this}n=""}function i(){this.style.removeProperty(t)}return hl(this,"style."+t,e,function(e){return null==e?i:(e+="",function(){var r,i=a(this).getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=Ui(i,e),function(e){this.style.setProperty(t,r(e),n)})})})},dl.styleTween=function(t,e,n){return arguments.length<3&&(n=""),this.tween("style."+t,function(r,i){var o=e.call(this,r,i,a(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}})},dl.text=function(t){return hl(this,"text",t,pl)},dl.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},dl.ease=function(e){var n=this.id,r=this.namespace;return arguments.length<1?this.node()[r][n].ease:("function"!=typeof e&&(e=t.ease.apply(t,arguments)),ct(this,function(t){t[r][n].ease=e}))},dl.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:ct(this,"function"==typeof t?function(r,i,o){r[n][e].delay=+t.call(r,r.__data__,i,o)}:(t=+t,function(r){r[n][e].delay=t}))},dl.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:ct(this,"function"==typeof t?function(r,i,o){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,o))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},dl.each=function(e,n){var r=this.id,i=this.namespace;if(arguments.length<2){var o=cl,a=ul;try{ul=r,ct(this,function(t,n,o){cl=t[i][r],e.call(t,t.__data__,n,o)})}finally{cl=o,ul=a}}else ct(this,function(o){var a=o[i][r];(a.event||(a.event=t.dispatch("start","end","interrupt"))).on(e,n)});return this},dl.transition=function(){for(var t,e,n,r=this.id,i=++fl,o=this.namespace,a=[],l=0,s=this.length;l<s;l++){a.push(t=[]);for(var u=this[l],c=0,d=u.length;c<d;c++)(e=u[c])&&ml(e,c,o,i,{time:(n=e[o][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return sl(a,o,i)},t.svg.axis=function(){var e,n=t.scale.linear(),i=yl,o=6,a=6,l=3,s=[10],u=null;function c(r){r.each(function(){var r,c=t.select(this),d=this.__chart__||n,f=this.__chart__=n.copy(),h=null==u?f.ticks?f.ticks.apply(f,s):f.domain():u,p=null==e?f.tickFormat?f.tickFormat.apply(f,s):P:e,g=c.selectAll(".tick").data(h,f),m=g.enter().insert("g",".domain").attr("class","tick").style("opacity",kt),y=t.transition(g.exit()).style("opacity",kt).remove(),v=t.transition(g.order()).style("opacity",1),b=Math.max(o,0)+l,_=aa(f),x=c.selectAll(".domain").data([0]),w=(x.enter().append("path").attr("class","domain"),t.transition(x));m.append("line"),m.append("text");var k,T,C,A,M=m.select("line"),S=v.select("line"),E=g.select("text").text(p),O=m.select("text"),I=v.select("text"),D="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(r=bl,k="x",C="y",T="x2",A="y2",E.attr("dy",D<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+_[0]+","+D*a+"V0H"+_[1]+"V"+D*a)):(r=_l,k="y",C="x",T="y2",A="x2",E.attr("dy",".32em").style("text-anchor",D<0?"end":"start"),w.attr("d","M"+D*a+","+_[0]+"H0V"+_[1]+"H"+D*a)),M.attr(A,D*o),O.attr(C,D*b),S.attr(T,0).attr(A,D*o),I.attr(k,0).attr(C,D*b),f.rangeBand){var L=f,R=L.rangeBand()/2;d=f=function(t){return L(t)+R}}else d.rangeBand?d=f:y.call(r,f,d);m.call(r,d,f),v.call(r,f,f)})}return c.scale=function(t){return arguments.length?(n=t,c):n},c.orient=function(t){return arguments.length?(i=t in vl?t+"":yl,c):i},c.ticks=function(){return arguments.length?(s=r(arguments),c):s},c.tickValues=function(t){return arguments.length?(u=t,c):u},c.tickFormat=function(t){return arguments.length?(e=t,c):e},c.tickSize=function(t){var e=arguments.length;return e?(o=+t,a=+arguments[e-1],c):o},c.innerTickSize=function(t){return arguments.length?(o=+t,c):o},c.outerTickSize=function(t){return arguments.length?(a=+t,c):a},c.tickPadding=function(t){return arguments.length?(l=+t,c):l},c.tickSubdivide=function(){return arguments.length&&c},c};var yl="bottom",vl={top:1,right:1,bottom:1,left:1};function bl(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"})}function _l(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"})}t.svg.brush=function(){var e,n,r=V(f,"brushstart","brush","brushend"),i=null,o=null,l=[0,0],s=[0,0],u=!0,c=!0,d=wl[0];function f(e){e.each(function(){var e=t.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",m).on("touchstart.brush",m),n=e.selectAll(".background").data([0]);n.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var r=e.selectAll(".resize").data(d,P);r.exit().remove(),r.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return xl[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),r.style("display",f.empty()?"none":null);var a,l=t.transition(e),s=t.transition(n);i&&(a=aa(i),s.attr("x",a[0]).attr("width",a[1]-a[0]),p(l)),o&&(a=aa(o),s.attr("y",a[0]).attr("height",a[1]-a[0]),g(l)),h(l)})}function h(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+l[+/e$/.test(t)]+","+s[+/^s/.test(t)]+")"})}function p(t){t.select(".extent").attr("x",l[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",l[1]-l[0])}function g(t){t.select(".extent").attr("y",s[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",s[1]-s[0])}function m(){var d,m,y=this,v=t.select(t.event.target),b=r.of(y,arguments),_=t.select(y),x=v.datum(),w=!/^(n|s)$/.test(x)&&i,k=!/^(e|w)$/.test(x)&&o,T=v.classed("extent"),C=bt(y),A=t.mouse(y),M=t.select(a(y)).on("keydown.brush",function(){32==t.event.keyCode&&(T||(d=null,A[0]-=l[1],A[1]-=s[1],T=2),z())}).on("keyup.brush",function(){32==t.event.keyCode&&2==T&&(A[0]+=l[1],A[1]+=s[1],T=0,z())});if(t.event.changedTouches?M.on("touchmove.brush",O).on("touchend.brush",I):M.on("mousemove.brush",O).on("mouseup.brush",I),_.interrupt().selectAll("*").interrupt(),T)A[0]=l[0]-A[0],A[1]=s[0]-A[1];else if(x){var S=+/w$/.test(x),E=+/^n/.test(x);m=[l[1-S]-A[0],s[1-E]-A[1]],A[0]=l[S],A[1]=s[E]}else t.event.altKey&&(d=A.slice());function O(){var e=t.mouse(y),n=!1;m&&(e[0]+=m[0],e[1]+=m[1]),T||(t.event.altKey?(d||(d=[(l[0]+l[1])/2,(s[0]+s[1])/2]),A[0]=l[+(e[0]<d[0])],A[1]=s[+(e[1]<d[1])]):d=null),w&&P(e,i,0)&&(p(_),n=!0),k&&P(e,o,1)&&(g(_),n=!0),n&&(h(_),b({type:"brush",mode:T?"move":"resize"}))}function P(t,r,i){var o,a,f=aa(r),h=f[0],p=f[1],g=A[i],m=i?s:l,y=m[1]-m[0];if(T&&(h-=g,p-=y+g),o=(i?c:u)?Math.max(h,Math.min(p,t[i])):t[i],T?a=(o+=g)+y:(d&&(g=Math.max(h,Math.min(p,2*d[i]-o))),g<o?(a=o,o=g):a=g),m[0]!=o||m[1]!=a)return i?n=null:e=null,m[0]=o,m[1]=a,!0}function I(){O(),_.style("pointer-events","all").selectAll(".resize").style("display",f.empty()?"none":null),t.select("body").style("cursor",null),M.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),C(),b({type:"brushend"})}_.style("pointer-events","none").selectAll(".resize").style("display",null),t.select("body").style("cursor",v.style("cursor")),b({type:"brushstart"}),O()}return f.event=function(i){i.each(function(){var i=r.of(this,arguments),o={x:l,y:s,i:e,j:n},a=this.__chart__||o;this.__chart__=o,ul?t.select(this).transition().each("start.brush",function(){e=a.i,n=a.j,l=a.x,s=a.y,i({type:"brushstart"})}).tween("brush:brush",function(){var t=Gi(l,o.x),r=Gi(s,o.y);return e=n=null,function(e){l=o.x=t(e),s=o.y=r(e),i({type:"brush",mode:"resize"})}}).each("end.brush",function(){e=o.i,n=o.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})}):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))})},f.x=function(t){return arguments.length?(d=wl[!(i=t)<<1|!o],f):i},f.y=function(t){return arguments.length?(d=wl[!i<<1|!(o=t)],f):o},f.clamp=function(t){return arguments.length?(i&&o?(u=!!t[0],c=!!t[1]):i?u=!!t:o&&(c=!!t),f):i&&o?[u,c]:i?u:o?c:null},f.extent=function(t){var r,a,u,c,d;return arguments.length?(i&&(r=t[0],a=t[1],o&&(r=r[0],a=a[0]),e=[r,a],i.invert&&(r=i(r),a=i(a)),a<r&&(d=r,r=a,a=d),r==l[0]&&a==l[1]||(l=[r,a])),o&&(u=t[0],c=t[1],i&&(u=u[1],c=c[1]),n=[u,c],o.invert&&(u=o(u),c=o(c)),c<u&&(d=u,u=c,c=d),u==s[0]&&c==s[1]||(s=[u,c])),f):(i&&(e?(r=e[0],a=e[1]):(r=l[0],a=l[1],i.invert&&(r=i.invert(r),a=i.invert(a)),a<r&&(d=r,r=a,a=d))),o&&(n?(u=n[0],c=n[1]):(u=s[0],c=s[1],o.invert&&(u=o.invert(u),c=o.invert(c)),c<u&&(d=u,u=c,c=d))),i&&o?[[r,u],[a,c]]:i?[r,a]:o&&[u,c])},f.clear=function(){return f.empty()||(l=[0,0],s=[0,0],e=n=null),f},f.empty=function(){return!!i&&l[0]==l[1]||!!o&&s[0]==s[1]},t.rebind(f,r,"on")};var xl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},wl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],kl=Ie.format=ln.timeFormat,Tl=kl.utc,Cl=Tl("%Y-%m-%dT%H:%M:%S.%LZ");function Al(t){return t.toISOString()}function Ml(e,n,r){function i(t){return e(t)}function o(e,r){var i=(e[1]-e[0])/r,o=t.bisect(El,i);return o==El.length?[n.year,pa(e.map(function(t){return t/31536e6}),r)[2]]:o?n[i/El[o-1]<El[o]/i?o-1:o]:[Il,pa(e,r)[2]]}return i.invert=function(t){return Sl(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain(t),i):e.domain().map(Sl)},i.nice=function(t,e){var n=i.domain(),r=oa(n),a=null==t?o(r,10):"number"==typeof t&&o(r,t);function l(n){return!isNaN(n)&&!t.range(n,Sl(+n+1),e).length}return a&&(t=a[0],e=a[1]),i.domain(sa(n,e>1?{floor:function(e){for(;l(e=t.floor(e));)e=Sl(e-1);return e},ceil:function(e){for(;l(e=t.ceil(e));)e=Sl(+e+1);return e}}:t))},i.ticks=function(t,e){var n=oa(i.domain()),r=null==t?o(n,10):"number"==typeof t?o(n,t):!t.range&&[{range:t},e];return r&&(t=r[0],e=r[1]),t.range(n[0],Sl(+n[1]+1),e<1?1:e)},i.tickFormat=function(){return r},i.copy=function(){return Ml(e.copy(),n,r)},fa(i,e)}function Sl(t){return new Date(t)}kl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Al:Cl,Al.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Al.toString=Cl.toString,Ie.second=Ne(function(t){return new De(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),Ie.seconds=Ie.second.range,Ie.seconds.utc=Ie.second.utc.range,Ie.minute=Ne(function(t){return new De(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),Ie.minutes=Ie.minute.range,Ie.minutes.utc=Ie.minute.utc.range,Ie.hour=Ne(function(t){var e=t.getTimezoneOffset()/60;return new De(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),Ie.hours=Ie.hour.range,Ie.hours.utc=Ie.hour.utc.range,Ie.month=Ne(function(t){return(t=Ie.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),Ie.months=Ie.month.range,Ie.months.utc=Ie.month.utc.range;var El=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ol=[[Ie.second,1],[Ie.second,5],[Ie.second,15],[Ie.second,30],[Ie.minute,1],[Ie.minute,5],[Ie.minute,15],[Ie.minute,30],[Ie.hour,1],[Ie.hour,3],[Ie.hour,6],[Ie.hour,12],[Ie.day,1],[Ie.day,2],[Ie.week,1],[Ie.month,1],[Ie.month,3],[Ie.year,1]],Pl=kl.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Wn]]),Il={range:function(e,n,r){return t.range(Math.ceil(e/r)*r,+n,r).map(Sl)},floor:P,ceil:P};Ol.year=Ie.year,Ie.scale=function(){return Ml(t.scale.linear(),Ol,Pl)};var Dl=Ol.map(function(t){return[t[0].utc,t[1]]}),Ll=Tl.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Wn]]);function Rl(t){return JSON.parse(t.responseText)}function Nl(t){var e=i.createRange();return e.selectNode(i.body),e.createContextualFragment(t.responseText)}Dl.year=Ie.year.utc,Ie.scale.utc=function(){return Ml(t.scale.linear(),Dl,Ll)},t.text=me(function(t){return t.responseText}),t.json=function(t,e){return ye(t,"application/json",Rl,e)},t.html=function(t,e){return ye(t,"text/html",Nl,e)},t.xml=me(function(t){return t.responseXML}),"object"==typeof e&&e.exports?e.exports=t:this.d3=t}()},{}],8:[function(t,e,n){(function(r,i){!function(t,r){"object"==typeof n&&void 0!==e?e.exports=r():t.ES6Promise=r()}(this,function(){"use strict";function e(t){return"function"==typeof t}var n=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=0,a=void 0,l=void 0,s=function(t,e){g[o]=t,g[o+1]=e,2===(o+=2)&&(l?l(m):x())},u="undefined"!=typeof window?window:void 0,c=u||{},d=c.MutationObserver||c.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==r&&"[object process]"==={}.toString.call(r),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var t=setTimeout;return function(){return t(m,1)}}var g=new Array(1e3);function m(){for(var t=0;t<o;t+=2)(0,g[t])(g[t+1]),g[t]=void 0,g[t+1]=void 0;o=0}var y,v,b,_,x=void 0;function w(t,e){var n=arguments,r=this,i=new this.constructor(C);void 0===i[T]&&H(i);var o,a=r._state;return a?(o=n[a-1],s(function(){return V(a,i,o,r._result)})):N(r,i,t,e),i}function k(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(C);return I(e,t),e}f?x=function(){return r.nextTick(m)}:d?(v=0,b=new d(m),_=document.createTextNode(""),b.observe(_,{characterData:!0}),x=function(){_.data=v=++v%2}):h?((y=new MessageChannel).port1.onmessage=m,x=function(){return y.port2.postMessage(0)}):x=void 0===u&&"function"==typeof t?function(){try{var e=t("vertx");return a=e.runOnLoop||e.runOnContext,function(){a(m)}}catch(t){return p()}}():p();var T=Math.random().toString(36).substring(16);function C(){}var A=void 0,M=1,S=2,E=new z;function O(t){try{return t.then}catch(t){return E.error=t,E}}function P(t,n,r){n.constructor===t.constructor&&r===w&&n.constructor.resolve===k?function(t,e){e._state===M?L(t,e._result):e._state===S?R(t,e._result):N(e,void 0,function(e){return I(t,e)},function(e){return R(t,e)})}(t,n):r===E?R(t,E.error):void 0===r?L(t,n):e(r)?function(t,e,n){s(function(t){var r=!1,i=function(n,i,o,a){try{n.call(i,function(n){r||(r=!0,e!==n?I(t,n):L(t,n))},function(e){r||(r=!0,R(t,e))})}catch(t){return t}}(n,e);!r&&i&&(r=!0,R(t,i))},t)}(t,n,r):L(t,n)}function I(t,e){var n;t===e?R(t,new TypeError("You cannot resolve a promise with itself")):"function"==typeof(n=e)||"object"==typeof n&&null!==n?P(t,e,O(e)):L(t,e)}function D(t){t._onerror&&t._onerror(t._result),F(t)}function L(t,e){t._state===A&&(t._result=e,t._state=M,0!==t._subscribers.length&&s(F,t))}function R(t,e){t._state===A&&(t._state=S,t._result=e,s(D,t))}function N(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+M]=n,i[o+S]=r,0===o&&t._state&&s(F,t)}function F(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,i=void 0,o=t._result,a=0;a<e.length;a+=3)i=e[a+n],(r=e[a])?V(n,r,i,o):i(o);t._subscribers.length=0}}function z(){this.error=null}var j=new z;function V(t,n,r,i){var o=e(r),a=void 0,l=void 0,s=void 0,u=void 0;if(o){if((a=function(t,e){try{return t(e)}catch(t){return j.error=t,j}}(r,i))===j?(u=!0,l=a.error,a=null):s=!0,n===a)return void R(n,new TypeError("A promises callback cannot return that same promise."))}else a=i,s=!0;n._state!==A||(o&&s?I(n,a):u?R(n,l):t===M?L(n,a):t===S&&R(n,a))}var B=0;function H(t){t[T]=B++,t._state=void 0,t._result=void 0,t._subscribers=[]}function q(t,e){this._instanceConstructor=t,this.promise=new t(C),this.promise[T]||H(this.promise),n(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?L(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&L(this.promise,this._result))):R(this.promise,new Error("Array Methods must be provided an Array"))}function U(t){this[T]=B++,this._result=this._state=void 0,this._subscribers=[],C!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof U?function(t,e){try{e(function(e){I(t,e)},function(e){R(t,e)})}catch(e){R(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}function G(){var t=void 0;if(void 0!==i)t=i;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=U}return q.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===A&&n<t;n++)this._eachEntry(e[n],n)},q.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===k){var i=O(t);if(i===w&&t._state!==A)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===U){var o=new n(C);P(o,t,i),this._willSettleAt(o,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},q.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===A&&(this._remaining--,t===S?R(r,n):this._result[e]=n),0===this._remaining&&L(r,this._result)},q.prototype._willSettleAt=function(t,e){var n=this;N(t,void 0,function(t){return n._settledAt(M,e,t)},function(t){return n._settledAt(S,e,t)})},U.all=function(t){return new q(this,t).promise},U.race=function(t){var e=this;return n(t)?new e(function(n,r){for(var i=t.length,o=0;o<i;o++)e.resolve(t[o]).then(n,r)}):new e(function(t,e){return e(new TypeError("You must pass an array to race."))})},U.resolve=k,U.reject=function(t){var e=new this(C);return R(e,t),e},U._setScheduler=function(t){l=t},U._setAsap=function(t){s=t},U._asap=s,U.prototype={constructor:U,then:w,catch:function(t){return this.then(null,t)}},G(),U.polyfill=G,U.Promise=U,U})}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:24}],9:[function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,l,s,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(a(n=this._events[t]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:l=Array.prototype.slice.call(arguments,1),n.apply(this,l)}else if(o(n))for(l=Array.prototype.slice.call(arguments,1),r=(u=n.slice()).length,s=0;s<r;s++)u[s].apply(this,l);return!0},r.prototype.on=r.prototype.addListener=function(t,e){var n;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.once=function(t,e){if(!i(e))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}return r.listener=e,this.on(t,r),this},r.prototype.removeListener=function(t,e){var n,r,a,l;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(a=(n=this._events[t]).length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(l=a;l-- >0;)if(n[l]===e||n[l].listener&&n[l].listener===e){r=l;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},{}],10:[function(t,e,n){"use strict";e.exports=function(t){var e=typeof t;if("string"===e){var n=t;if(0==(t=+t)&&function(t){for(var e,n=t.length,r=0;r<n;r++)if(((e=t.charCodeAt(r))<9||e>13)&&32!==e&&133!==e&&160!==e&&5760!==e&&6158!==e&&(e<8192||e>8205)&&8232!==e&&8233!==e&&8239!==e&&8287!==e&&8288!==e&&12288!==e&&65279!==e)return!1;return!0}(n))return!1}else if("number"!==e)return!1;return t-t<1}},{}],11:[function(t,e,n){e.exports=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,l=r+r,s=i+i,u=n*a,c=r*a,d=r*l,f=i*a,h=i*l,p=i*s,g=o*a,m=o*l,y=o*s;return t[0]=1-d-p,t[1]=c+y,t[2]=f-m,t[3]=0,t[4]=c-y,t[5]=1-u-p,t[6]=h+g,t[7]=0,t[8]=f+m,t[9]=h-g,t[10]=1-u-d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],12:[function(t,e,n){(function(n){"use strict";var r,i=t("is-browser");r="function"==typeof n.matchMedia?!n.matchMedia("(hover: none)").matches:i,e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"is-browser":14}],13:[function(t,e,n){"use strict";var r=t("is-browser");e.exports=r&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){t=!1}return t}()},{"is-browser":14}],14:[function(t,e,n){e.exports=!0},{}],15:[function(t,e,n){var r={left:0,top:0};e.exports=function(t,e,n){e=e||t.currentTarget||t.srcElement,Array.isArray(n)||(n=[0,0]);var i,o=t.clientX||0,a=t.clientY||0,l=(i=e)===window||i===document||i===document.body?r:i.getBoundingClientRect();return n[0]=o-l.left,n[1]=a-l.top,n}},{}],16:[function(t,e,n){var r,i=t("./lib/build-log"),o=t("./lib/epsilon"),a=t("./lib/intersecter"),l=t("./lib/segment-chainer"),s=t("./lib/segment-selector"),u=t("./lib/geojson"),c=!1,d=o();function f(t,e,n){var i=r.segments(t),o=r.segments(e),a=n(r.combine(i,o));return r.polygon(a)}r={buildLog:function(t){return!0===t?c=i():!1===t&&(c=!1),!1!==c&&c.list},epsilon:function(t){return d.epsilon(t)},segments:function(t){var e=a(!0,d,c);return t.regions.forEach(e.addRegion),{segments:e.calculate(t.inverted),inverted:t.inverted}},combine:function(t,e){return{combined:a(!1,d,c).calculate(t.segments,t.inverted,e.segments,e.inverted),inverted1:t.inverted,inverted2:e.inverted}},selectUnion:function(t){return{segments:s.union(t.combined,c),inverted:t.inverted1||t.inverted2}},selectIntersect:function(t){return{segments:s.intersect(t.combined,c),inverted:t.inverted1&&t.inverted2}},selectDifference:function(t){return{segments:s.difference(t.combined,c),inverted:t.inverted1&&!t.inverted2}},selectDifferenceRev:function(t){return{segments:s.differenceRev(t.combined,c),inverted:!t.inverted1&&t.inverted2}},selectXor:function(t){return{segments:s.xor(t.combined,c),inverted:t.inverted1!==t.inverted2}},polygon:function(t){return{regions:l(t.segments,d,c),inverted:t.inverted}},polygonFromGeoJSON:function(t){return u.toPolygon(r,t)},polygonToGeoJSON:function(t){return u.fromPolygon(r,d,t)},union:function(t,e){return f(t,e,r.selectUnion)},intersect:function(t,e){return f(t,e,r.selectIntersect)},difference:function(t,e){return f(t,e,r.selectDifference)},differenceRev:function(t,e){return f(t,e,r.selectDifferenceRev)},xor:function(t,e){return f(t,e,r.selectXor)}},"object"==typeof window&&(window.PolyBool=r),e.exports=r},{"./lib/build-log":17,"./lib/epsilon":18,"./lib/geojson":19,"./lib/intersecter":20,"./lib/segment-chainer":22,"./lib/segment-selector":23}],17:[function(t,e,n){e.exports=function(){var t,e=0,n=!1;function r(e,n){return t.list.push({type:e,data:n?JSON.parse(JSON.stringify(n)):void 0}),t}return t={list:[],segmentId:function(){return e++},checkIntersection:function(t,e){return r("check",{seg1:t,seg2:e})},segmentChop:function(t,e){return r("div_seg",{seg:t,pt:e}),r("chop",{seg:t,pt:e})},statusRemove:function(t){return r("pop_seg",{seg:t})},segmentUpdate:function(t){return r("seg_update",{seg:t})},segmentNew:function(t,e){return r("new_seg",{seg:t,primary:e})},segmentRemove:function(t){return r("rem_seg",{seg:t})},tempStatus:function(t,e,n){return r("temp_status",{seg:t,above:e,below:n})},rewind:function(t){return r("rewind",{seg:t})},status:function(t,e,n){return r("status",{seg:t,above:e,below:n})},vert:function(e){return e===n?t:(n=e,r("vert",{x:e}))},log:function(t){return"string"!=typeof t&&(t=JSON.stringify(t,!1,"  ")),r("log",{txt:t})},reset:function(){return r("reset")},selected:function(t){return r("selected",{segs:t})},chainStart:function(t){return r("chain_start",{seg:t})},chainRemoveHead:function(t,e){return r("chain_rem_head",{index:t,pt:e})},chainRemoveTail:function(t,e){return r("chain_rem_tail",{index:t,pt:e})},chainNew:function(t,e){return r("chain_new",{pt1:t,pt2:e})},chainMatch:function(t){return r("chain_match",{index:t})},chainClose:function(t){return r("chain_close",{index:t})},chainAddHead:function(t,e){return r("chain_add_head",{index:t,pt:e})},chainAddTail:function(t,e){return r("chain_add_tail",{index:t,pt:e})},chainConnect:function(t,e){return r("chain_con",{index1:t,index2:e})},chainReverse:function(t){return r("chain_rev",{index:t})},chainJoin:function(t,e){return r("chain_join",{index1:t,index2:e})},done:function(){return r("done")}}}},{}],18:[function(t,e,n){e.exports=function(t){"number"!=typeof t&&(t=1e-10);var e={epsilon:function(e){return"number"==typeof e&&(t=e),t},pointAboveOrOnLine:function(e,n,r){var i=n[0],o=n[1];return(r[0]-i)*(e[1]-o)-(r[1]-o)*(e[0]-i)>=-t},pointBetween:function(e,n,r){var i=r[0]-n[0],o=r[1]-n[1],a=(e[0]-n[0])*i+(e[1]-n[1])*o;return!(a<t||a-(i*i+o*o)>-t)},pointsSameX:function(e,n){return Math.abs(e[0]-n[0])<t},pointsSameY:function(e,n){return Math.abs(e[1]-n[1])<t},pointsSame:function(t,n){return e.pointsSameX(t,n)&&e.pointsSameY(t,n)},pointsCompare:function(t,n){return e.pointsSameX(t,n)?e.pointsSameY(t,n)?0:t[1]<n[1]?-1:1:t[0]<n[0]?-1:1},pointsCollinear:function(e,n,r){return Math.abs((e[0]-n[0])*(n[1]-r[1])-(n[0]-r[0])*(e[1]-n[1]))<t},linesIntersect:function(e,n,r,i){var o=n[0]-e[0],a=n[1]-e[1],l=i[0]-r[0],s=i[1]-r[1],u=o*s-a*l;if(Math.abs(u)<t)return!1;var c=e[0]-r[0],d=e[1]-r[1],f=(l*d-s*c)/u,h=(o*d-a*c)/u,p={alongA:0,alongB:0,pt:[e[0]+f*o,e[1]+f*a]};return p.alongA=f<=-t?-2:f<t?-1:f-1<=-t?0:f-1<t?1:2,p.alongB=h<=-t?-2:h<t?-1:h-1<=-t?0:h-1<t?1:2,p},pointInsideRegion:function(e,n){for(var r=e[0],i=e[1],o=n[n.length-1][0],a=n[n.length-1][1],l=!1,s=0;s<n.length;s++){var u=n[s][0],c=n[s][1];c-i>t!=a-i>t&&(o-u)*(i-c)/(a-c)+u-r>t&&(l=!l),o=u,a=c}return l}};return e}},{}],19:[function(t,e,n){e.exports={toPolygon:function(t,e){function n(e){if(e.length<=0)return t.segments({inverted:!1,regions:[]});function n(e){var n=e.slice(0,e.length-1);return t.segments({inverted:!1,regions:[n]})}for(var r=n(e[0]),i=1;i<e.length;i++)r=t.selectDifference(t.combine(r,n(e[i])));return r}if("Polygon"===e.type)return t.polygon(n(e.coordinates));if("MultiPolygon"===e.type){for(var r=t.segments({inverted:!1,regions:[]}),i=0;i<e.coordinates.length;i++)r=t.selectUnion(t.combine(r,n(e.coordinates[i])));return t.polygon(r)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(t,e,n){function r(t,n){return e.pointInsideRegion([.5*(t[0][0]+t[1][0]),.5*(t[0][1]+t[1][1])],n)}function i(t){return{region:t,children:[]}}n=t.polygon(t.segments(n));var o=i(null);function a(t,e){for(var n=0;n<t.children.length;n++)if(r(e,(l=t.children[n]).region))return void a(l,e);var o=i(e);for(n=0;n<t.children.length;n++){var l;r((l=t.children[n]).region,e)&&(o.children.push(l),t.children.splice(n,1),n--)}t.children.push(o)}for(var l=0;l<n.regions.length;l++){var s=n.regions[l];s.length<3||a(o,s)}function u(t,e){for(var n=0,r=t[t.length-1][0],i=t[t.length-1][1],o=[],a=0;a<t.length;a++){var l=t[a][0],s=t[a][1];o.push([l,s]),n+=s*r-l*i,r=l,i=s}return n<0!==e&&o.reverse(),o.push([o[0][0],o[0][1]]),o}var c=[];function d(t){var e=[u(t.region,!1)];c.push(e);for(var n=0;n<t.children.length;n++)e.push(f(t.children[n]))}function f(t){for(var e=0;e<t.children.length;e++)d(t.children[e]);return u(t.region,!0)}for(l=0;l<o.children.length;l++)d(o.children[l]);return c.length<=0?{type:"Polygon",coordinates:[]}:1==c.length?{type:"Polygon",coordinates:c[0]}:{type:"MultiPolygon",coordinates:c}}}},{}],20:[function(t,e,n){var r=t("./linked-list");e.exports=function(t,e,n){function i(t,e,r){return{id:n?n.segmentId():-1,start:t,end:e,myFill:{above:r.myFill.above,below:r.myFill.below},otherFill:null}}var o=r.create();function a(t,n){o.insertBefore(t,function(r){return function(n,r,i,o,a,l){var s=e.pointsCompare(t.pt,a);return 0!==s?s:e.pointsSame(i,l)?0:n!==o?n?1:-1:e.pointAboveOrOnLine(i,o?a:l,o?l:a)?1:-1}(t.isStart,0,n,r.isStart,r.pt,r.other.pt)<0})}function l(t,e){var n=function(t,e){var n=r.node({isStart:!0,pt:t.start,seg:t,primary:e,other:null,status:null});return a(n,t.end),n}(t,e);return function(t,e,n){var i=r.node({isStart:!1,pt:e.end,seg:e,primary:n,other:t,status:null});t.other=i,a(i,t.pt)}(n,t,e),n}function s(t,e){var r=i(e,t.seg.end,t.seg);return function(t,e){n&&n.segmentChop(t.seg,e),t.other.remove(),t.seg.end=e,t.other.pt=e,a(t.other,t.pt)}(t,e),l(r,t.primary)}function u(i,a){var l=r.create();function u(t){return l.findTransition(function(n){var r,i,o,a,l,s;return a=(r=t).seg.end,(e.pointsCollinear(o=r.seg.start,l=(i=n.ev).seg.start,s=i.seg.end)?e.pointsCollinear(a,l,s)?1:e.pointAboveOrOnLine(a,l,s)?1:-1:e.pointAboveOrOnLine(o,l,s)?1:-1)>0})}function c(t,r){var i=t.seg,o=r.seg,a=i.start,l=i.end,u=o.start,c=o.end;n&&n.checkIntersection(i,o);var d=e.linesIntersect(a,l,u,c);if(!1===d){if(!e.pointsCollinear(a,l,u))return!1;if(e.pointsSame(a,c)||e.pointsSame(l,u))return!1;var f=e.pointsSame(a,u),h=e.pointsSame(l,c);if(f&&h)return r;var p=!f&&e.pointBetween(a,u,c),g=!h&&e.pointBetween(l,u,c);if(f)return g?s(r,l):s(t,c),r;p&&(h||(g?s(r,l):s(t,c)),s(r,a))}else 0===d.alongA&&(-1===d.alongB?s(t,u):0===d.alongB?s(t,d.pt):1===d.alongB&&s(t,c)),0===d.alongB&&(-1===d.alongA?s(r,a):0===d.alongA?s(r,d.pt):1===d.alongA&&s(r,l));return!1}for(var d=[];!o.isEmpty();){var f=o.getHead();if(n&&n.vert(f.pt[0]),f.isStart){n&&n.segmentNew(f.seg,f.primary);var h=u(f),p=h.before?h.before.ev:null,g=h.after?h.after.ev:null;function m(){if(p){var t=c(f,p);if(t)return t}return!!g&&c(f,g)}n&&n.tempStatus(f.seg,!!p&&p.seg,!!g&&g.seg);var y,v,b=m();if(b&&(t?(v=null===f.seg.myFill.below||f.seg.myFill.above!==f.seg.myFill.below)&&(b.seg.myFill.above=!b.seg.myFill.above):b.seg.otherFill=f.seg.myFill,n&&n.segmentUpdate(b.seg),f.other.remove(),f.remove()),o.getHead()!==f){n&&n.rewind(f.seg);continue}t?(v=null===f.seg.myFill.below||f.seg.myFill.above!==f.seg.myFill.below,f.seg.myFill.below=g?g.seg.myFill.above:i,f.seg.myFill.above=v?!f.seg.myFill.below:f.seg.myFill.below):null===f.seg.otherFill&&(f.seg.otherFill={above:y=g?f.primary===g.primary?g.seg.otherFill.above:g.seg.myFill.above:f.primary?a:i,below:y}),n&&n.status(f.seg,!!p&&p.seg,!!g&&g.seg),f.other.status=h.insert(r.node({ev:f}))}else{var _=f.status;if(null===_)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(l.exists(_.prev)&&l.exists(_.next)&&c(_.prev.ev,_.next.ev),n&&n.statusRemove(_.ev.seg),_.remove(),!f.primary){var x=f.seg.myFill;f.seg.myFill=f.seg.otherFill,f.seg.otherFill=x}d.push(f.seg)}o.getHead().remove()}return n&&n.done(),d}return t?{addRegion:function(t){for(var r,i,o,a=t[t.length-1],s=0;s<t.length;s++){var u=e.pointsCompare(r=a,a=t[s]);0!==u&&l((i=u<0?r:a,o=u<0?a:r,{id:n?n.segmentId():-1,start:i,end:o,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(t){return u(t,!1)}}:{calculate:function(t,e,n,r){return t.forEach(function(t){l(i(t.start,t.end,t),!0)}),n.forEach(function(t){l(i(t.start,t.end,t),!1)}),u(e,r)}}}},{"./linked-list":21}],21:[function(t,e,n){e.exports={create:function(){var t={root:{root:!0,next:null},exists:function(e){return null!==e&&e!==t.root},isEmpty:function(){return null===t.root.next},getHead:function(){return t.root.next},insertBefore:function(e,n){for(var r=t.root,i=t.root.next;null!==i;){if(n(i))return e.prev=i.prev,e.next=i,i.prev.next=e,void(i.prev=e);r=i,i=i.next}r.next=e,e.prev=r,e.next=null},findTransition:function(e){for(var n=t.root,r=t.root.next;null!==r&&!e(r);)n=r,r=r.next;return{before:n===t.root?null:n,after:r,insert:function(t){return t.prev=n,t.next=r,n.next=t,null!==r&&(r.prev=t),t}}}};return t},node:function(t){return t.prev=null,t.next=null,t.remove=function(){t.prev.next=t.next,t.next&&(t.next.prev=t.prev),t.prev=null,t.next=null},t}}},{}],22:[function(t,e,n){e.exports=function(t,e,n){var r=[],i=[];return t.forEach(function(t){var o=t.start,a=t.end;if(e.pointsSame(o,a))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{n&&n.chainStart(t);for(var l={index:0,matches_head:!1,matches_pt1:!1},s={index:0,matches_head:!1,matches_pt1:!1},u=l,c=0;c<r.length;c++){var d=(m=r[c])[0],f=m[m.length-1];if(e.pointsSame(d,o)){if(T(c,!0,!0))break}else if(e.pointsSame(d,a)){if(T(c,!0,!1))break}else if(e.pointsSame(f,o)){if(T(c,!1,!0))break}else if(e.pointsSame(f,a)&&T(c,!1,!1))break}if(u===l)return r.push([o,a]),void(n&&n.chainNew(o,a));if(u===s){n&&n.chainMatch(l.index);var h=l.index,p=l.matches_pt1?a:o,g=l.matches_head,m=r[h],y=g?m[0]:m[m.length-1],v=g?m[1]:m[m.length-2],b=g?m[m.length-1]:m[0],_=g?m[m.length-2]:m[1];return e.pointsCollinear(v,y,p)&&(g?(n&&n.chainRemoveHead(l.index,p),m.shift()):(n&&n.chainRemoveTail(l.index,p),m.pop()),y=v),e.pointsSame(b,p)?(r.splice(h,1),e.pointsCollinear(_,b,y)&&(g?(n&&n.chainRemoveTail(l.index,y),m.pop()):(n&&n.chainRemoveHead(l.index,y),m.shift())),n&&n.chainClose(l.index),void i.push(m)):void(g?(n&&n.chainAddHead(l.index,p),m.unshift(p)):(n&&n.chainAddTail(l.index,p),m.push(p)))}var x=l.index,w=s.index;n&&n.chainConnect(x,w);var k=r[x].length<r[w].length;l.matches_head?s.matches_head?k?(C(x),A(x,w)):(C(w),A(w,x)):A(w,x):s.matches_head?A(x,w):k?(C(x),A(w,x)):(C(w),A(x,w))}function T(t,e,n){return u.index=t,u.matches_head=e,u.matches_pt1=n,u===l?(u=s,!1):(u=null,!0)}function C(t){n&&n.chainReverse(t),r[t].reverse()}function A(t,i){var o=r[t],a=r[i],l=o[o.length-1],s=o[o.length-2],u=a[0],c=a[1];e.pointsCollinear(s,l,u)&&(n&&n.chainRemoveTail(t,l),o.pop(),l=s),e.pointsCollinear(l,u,c)&&(n&&n.chainRemoveHead(i,u),a.shift()),n&&n.chainJoin(t,i),r[t]=o.concat(a),r.splice(i,1)}}),i}},{}],23:[function(t,e,n){function r(t,e,n){var r=[];return t.forEach(function(t){var i=(t.myFill.above?8:0)+(t.myFill.below?4:0)+(t.otherFill&&t.otherFill.above?2:0)+(t.otherFill&&t.otherFill.below?1:0);0!==e[i]&&r.push({id:n?n.segmentId():-1,start:t.start,end:t.end,myFill:{above:1===e[i],below:2===e[i]},otherFill:null})}),n&&n.selected(r),r}e.exports={union:function(t,e){return r(t,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],e)},intersect:function(t,e){return r(t,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],e)},difference:function(t,e){return r(t,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],e)},differenceRev:function(t,e){return r(t,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],e)},xor:function(t,e){return r(t,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],e)}}},{}],24:[function(t,e,n){var r,i,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(t){r=a}try{i="function"==typeof clearTimeout?clearTimeout:l}catch(t){i=l}}();var u,c=[],d=!1,f=-1;function h(){d&&u&&(d=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!d){var t=s(h);d=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,d=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===l||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function g(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new g(t,e)),1!==c.length||d||s(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],25:[function(t,e,n){!function(t){var n=/^\s+/,r=/\s+$/,i=0,o=t.round,a=t.min,l=t.max,s=t.random;function u(e,s){if(e=e||"",s=s||{},e instanceof u)return e;if(!(this instanceof u))return new u(e,s);var c=function(e){var i,o,s={r:0,g:0,b:0},u=1,c=null,d=null,f=null,h=!1,p=!1;return"string"==typeof e&&(e=function(t){t=t.replace(n,"").replace(r,"").toLowerCase();var e,i=!1;if(M[t])t=M[t],i=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=V.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=V.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=V.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=V.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=V.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=V.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=V.hex8.exec(t))?{r:I(e[1]),g:I(e[2]),b:I(e[3]),a:N(e[4]),format:i?"name":"hex8"}:(e=V.hex6.exec(t))?{r:I(e[1]),g:I(e[2]),b:I(e[3]),format:i?"name":"hex"}:(e=V.hex4.exec(t))?{r:I(e[1]+""+e[1]),g:I(e[2]+""+e[2]),b:I(e[3]+""+e[3]),a:N(e[4]+""+e[4]),format:i?"name":"hex8"}:!!(e=V.hex3.exec(t))&&{r:I(e[1]+""+e[1]),g:I(e[2]+""+e[2]),b:I(e[3]+""+e[3]),format:i?"name":"hex"}}(e)),"object"==typeof e&&(B(e.r)&&B(e.g)&&B(e.b)?(i=e.g,o=e.b,s={r:255*O(e.r,255),g:255*O(i,255),b:255*O(o,255)},h=!0,p="%"===String(e.r).substr(-1)?"prgb":"rgb"):B(e.h)&&B(e.s)&&B(e.v)?(c=L(e.s),d=L(e.v),s=function(e,n,r){e=6*O(e,360),n=O(n,100),r=O(r,100);var i=t.floor(e),o=e-i,a=r*(1-n),l=r*(1-o*n),s=r*(1-(1-o)*n),u=i%6;return{r:255*[r,l,a,a,s,r][u],g:255*[s,r,r,l,a,a][u],b:255*[a,a,s,r,r,l][u]}}(e.h,c,d),h=!0,p="hsv"):B(e.h)&&B(e.s)&&B(e.l)&&(c=L(e.s),f=L(e.l),s=function(t,e,n){var r,i,o;function a(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=O(t,360),e=O(e,100),n=O(n,100),0===e)r=i=o=n;else{var l=n<.5?n*(1+e):n+e-n*e,s=2*n-l;r=a(s,l,t+1/3),i=a(s,l,t),o=a(s,l,t-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,c,f),h=!0,p="hsl"),e.hasOwnProperty("a")&&(u=e.a)),u=E(u),{ok:h,format:e.format||p,r:a(255,l(s.r,0)),g:a(255,l(s.g,0)),b:a(255,l(s.b,0)),a:u}}(e);this._originalInput=e,this._r=c.r,this._g=c.g,this._b=c.b,this._a=c.a,this._roundA=o(100*this._a)/100,this._format=s.format||c.format,this._gradientType=s.gradientType,this._r<1&&(this._r=o(this._r)),this._g<1&&(this._g=o(this._g)),this._b<1&&(this._b=o(this._b)),this._ok=c.ok,this._tc_id=i++}function c(t,e,n){t=O(t,255),e=O(e,255),n=O(n,255);var r,i,o=l(t,e,n),s=a(t,e,n),u=(o+s)/2;if(o==s)r=i=0;else{var c=o-s;switch(i=u>.5?c/(2-o-s):c/(o+s),o){case t:r=(e-n)/c+(e<n?6:0);break;case e:r=(n-t)/c+2;break;case n:r=(t-e)/c+4}r/=6}return{h:r,s:i,l:u}}function d(t,e,n){t=O(t,255),e=O(e,255),n=O(n,255);var r,i,o=l(t,e,n),s=a(t,e,n),u=o,c=o-s;if(i=0===o?0:c/o,o==s)r=0;else{switch(o){case t:r=(e-n)/c+(e<n?6:0);break;case e:r=(n-t)/c+2;break;case n:r=(t-e)/c+4}r/=6}return{h:r,s:i,v:u}}function f(t,e,n,r){var i=[D(o(t).toString(16)),D(o(e).toString(16)),D(o(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function h(t,e,n,r){return[D(R(r)),D(o(t).toString(16)),D(o(e).toString(16)),D(o(n).toString(16))].join("")}function p(t,e){e=0===e?0:e||10;var n=u(t).toHsl();return n.s-=e/100,n.s=P(n.s),u(n)}function g(t,e){e=0===e?0:e||10;var n=u(t).toHsl();return n.s+=e/100,n.s=P(n.s),u(n)}function m(t){return u(t).desaturate(100)}function y(t,e){e=0===e?0:e||10;var n=u(t).toHsl();return n.l+=e/100,n.l=P(n.l),u(n)}function v(t,e){e=0===e?0:e||10;var n=u(t).toRgb();return n.r=l(0,a(255,n.r-o(-e/100*255))),n.g=l(0,a(255,n.g-o(-e/100*255))),n.b=l(0,a(255,n.b-o(-e/100*255))),u(n)}function b(t,e){e=0===e?0:e||10;var n=u(t).toHsl();return n.l-=e/100,n.l=P(n.l),u(n)}function _(t,e){var n=u(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,u(n)}function x(t){var e=u(t).toHsl();return e.h=(e.h+180)%360,u(e)}function w(t){var e=u(t).toHsl(),n=e.h;return[u(t),u({h:(n+120)%360,s:e.s,l:e.l}),u({h:(n+240)%360,s:e.s,l:e.l})]}function k(t){var e=u(t).toHsl(),n=e.h;return[u(t),u({h:(n+90)%360,s:e.s,l:e.l}),u({h:(n+180)%360,s:e.s,l:e.l}),u({h:(n+270)%360,s:e.s,l:e.l})]}function T(t){var e=u(t).toHsl(),n=e.h;return[u(t),u({h:(n+72)%360,s:e.s,l:e.l}),u({h:(n+216)%360,s:e.s,l:e.l})]}function C(t,e,n){e=e||6,n=n||30;var r=u(t).toHsl(),i=360/n,o=[u(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(u(r));return o}function A(t,e){e=e||6;for(var n=u(t).toHsv(),r=n.h,i=n.s,o=n.v,a=[],l=1/e;e--;)a.push(u({h:r,s:i,v:o})),o=(o+l)%1;return a}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var e,n,r,i=this.toRgb();return n=i.g/255,r=i.b/255,.2126*((e=i.r/255)<=.03928?e/12.92:t.pow((e+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:t.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:t.pow((r+.055)/1.055,2.4))},setAlpha:function(t){return this._a=E(t),this._roundA=o(100*this._a)/100,this},toHsv:function(){var t=d(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=d(this._r,this._g,this._b),e=o(360*t.h),n=o(100*t.s),r=o(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=c(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=c(this._r,this._g,this._b),e=o(360*t.h),n=o(100*t.s),r=o(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return f(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,n,r,i){var a=[D(o(t).toString(16)),D(o(e).toString(16)),D(o(n).toString(16)),D(R(r))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o(100*O(this._r,255))+"%",g:o(100*O(this._g,255))+"%",b:o(100*O(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+o(100*O(this._r,255))+"%, "+o(100*O(this._g,255))+"%, "+o(100*O(this._b,255))+"%)":"rgba("+o(100*O(this._r,255))+"%, "+o(100*O(this._g,255))+"%, "+o(100*O(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(S[f(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+h(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=u(t);n="#"+h(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1;return!e&&this._a<1&&this._a>=0&&("hex"===t||"hex6"===t||"hex3"===t||"hex4"===t||"hex8"===t||"name"===t)?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return u(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(y,arguments)},brighten:function(){return this._applyModification(v,arguments)},darken:function(){return this._applyModification(b,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(g,arguments)},greyscale:function(){return this._applyModification(m,arguments)},spin:function(){return this._applyModification(_,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(C,arguments)},complement:function(){return this._applyCombination(x,arguments)},monochromatic:function(){return this._applyCombination(A,arguments)},splitcomplement:function(){return this._applyCombination(T,arguments)},triad:function(){return this._applyCombination(w,arguments)},tetrad:function(){return this._applyCombination(k,arguments)}},u.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]="a"===r?t[r]:L(t[r]));t=n}return u(t,e)},u.equals=function(t,e){return!(!t||!e)&&u(t).toRgbString()==u(e).toRgbString()},u.random=function(){return u.fromRatio({r:s(),g:s(),b:s()})},u.mix=function(t,e,n){n=0===n?0:n||50;var r=u(t).toRgb(),i=u(e).toRgb(),o=n/100;return u({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},u.readability=function(e,n){var r=u(e),i=u(n);return(t.max(r.getLuminance(),i.getLuminance())+.05)/(t.min(r.getLuminance(),i.getLuminance())+.05)},u.isReadable=function(t,e,n){var r,i,o,a,l,s=u.readability(t,e);switch(i=!1,(o=n,a=((o=o||{level:"AA",size:"small"}).level||"AA").toUpperCase(),l=(o.size||"small").toLowerCase(),"AA"!==a&&"AAA"!==a&&(a="AA"),"small"!==l&&"large"!==l&&(l="small"),r={level:a,size:l}).level+r.size){case"AAsmall":case"AAAlarge":i=s>=4.5;break;case"AAlarge":i=s>=3;break;case"AAAsmall":i=s>=7}return i},u.mostReadable=function(t,e,n){var r,i,o,a,l=null,s=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var c=0;c<e.length;c++)(r=u.readability(t,e[c]))>s&&(s=r,l=u(e[c]));return u.isReadable(t,l,{level:o,size:a})||!i?l:(n.includeFallbackColors=!1,u.mostReadable(t,["#fff","#000"],n))};var M=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},S=u.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(M);function E(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function O(e,n){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(e)&&(e="100%");var r=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(e);return e=a(n,l(0,parseFloat(e))),r&&(e=parseInt(e*n,10)/100),t.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function P(t){return a(1,l(0,t))}function I(t){return parseInt(t,16)}function D(t){return 1==t.length?"0"+t:""+t}function L(t){return t<=1&&(t=100*t+"%"),t}function R(e){return t.round(255*parseFloat(e)).toString(16)}function N(t){return I(t)/255}var F,z,j,V=(z="[\\s|\\(]+("+(F="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+F+")[,|\\s]+("+F+")\\s*\\)?",j="[\\s|\\(]+("+F+")[,|\\s]+("+F+")[,|\\s]+("+F+")[,|\\s]+("+F+")\\s*\\)?",{CSS_UNIT:new RegExp(F),rgb:new RegExp("rgb"+z),rgba:new RegExp("rgba"+j),hsl:new RegExp("hsl"+z),hsla:new RegExp("hsla"+j),hsv:new RegExp("hsv"+z),hsva:new RegExp("hsva"+j),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function B(t){return!!V.CSS_UNIT.exec(t)}void 0!==e&&e.exports?e.exports=u:window.tinycolor=u}(Math)},{}],26:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../plots/cartesian/axes"),o=t("./common_defaults"),a=t("./attributes");e.exports=function(t,e,n,l,s){function u(n,i){return r.coerce(t,e,a,n,i)}l=l||{};var c=u("visible",!(s=s||{}).itemIsNotPlainObject),d=u("clicktoshow");if(!c&&!d)return e;o(t,e,n,u);for(var f=e.showarrow,h=["x","y"],p=[-10,-30],g={_fullLayout:n},m=0;m<2;m++){var y=h[m],v=i.coerceRef(t,e,g,y,"","paper");if(i.coercePosition(e,g,u,v,y,.5),f){var b="a"+y,_=i.coerceRef(t,e,g,b,"pixel");"pixel"!==_&&_!==v&&(_=e[b]="pixel"),i.coercePosition(e,g,u,_,b,"pixel"===_?p[m]:.4)}u(y+"anchor"),u(y+"shift")}if(r.noneOrAll(t,e,["x","y"]),f&&r.noneOrAll(t,e,["ax","ay"]),d){var x=u("xclick"),w=u("yclick");e._xclick=void 0===x?e.x:i.cleanPosition(x,g,e.xref),e._yclick=void 0===w?e.y:i.cleanPosition(w,g,e.yref)}return e}},{"../../lib":163,"../../plots/cartesian/axes":205,"./attributes":28,"./common_defaults":31}],27:[function(t,e,n){"use strict";e.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},{}],28:[function(t,e,n){"use strict";var r=t("./arrow_paths"),i=t("../../plots/font_attributes"),o=t("../../plots/cartesian/constants");e.exports={_isLinkedToArray:"annotation",visible:{valType:"boolean",dflt:!0,editType:"calcIfAutorange+arraydraw"},text:{valType:"string",editType:"calcIfAutorange+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calcIfAutorange+arraydraw"},font:i({editType:"calcIfAutorange+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calcIfAutorange+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calcIfAutorange+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calcIfAutorange+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calcIfAutorange+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calcIfAutorange+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:r.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:r.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calcIfAutorange+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calcIfAutorange+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calcIfAutorange+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calcIfAutorange+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calcIfAutorange+arraydraw"},ax:{valType:"any",editType:"calcIfAutorange+arraydraw"},ay:{valType:"any",editType:"calcIfAutorange+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",o.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calcIfAutorange+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calcIfAutorange+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calcIfAutorange+arraydraw"},yref:{valType:"enumerated",values:["paper",o.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calcIfAutorange+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calcIfAutorange+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calcIfAutorange+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:i({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}}},{"../../plots/cartesian/constants":210,"../../plots/font_attributes":231,"./arrow_paths":27}],29:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../plots/cartesian/axes"),o=t("./draw").draw;function a(t){r.filterVisible(t._fullLayout.annotations).forEach(function(e){var n,r,o,a,l=i.getFromId(t,e.xref),s=i.getFromId(t,e.yref),u=3*e.arrowsize*e.arrowwidth||0,c=3*e.startarrowsize*e.arrowwidth||0;l&&l.autorange&&(n=u+e.xshift,r=u-e.xshift,o=c+e.xshift,a=c-e.xshift,e.axref===e.xref?(i.expand(l,[l.r2c(e.x)],{ppadplus:n,ppadminus:r}),i.expand(l,[l.r2c(e.ax)],{ppadplus:Math.max(e._xpadplus,o),ppadminus:Math.max(e._xpadminus,a)})):(o=e.ax?o+e.ax:o,a=e.ax?a-e.ax:a,i.expand(l,[l.r2c(e.x)],{ppadplus:Math.max(e._xpadplus,n,o),ppadminus:Math.max(e._xpadminus,r,a)}))),s&&s.autorange&&(n=u-e.yshift,r=u+e.yshift,o=c-e.yshift,a=c+e.yshift,e.ayref===e.yref?(i.expand(s,[s.r2c(e.y)],{ppadplus:n,ppadminus:r}),i.expand(s,[s.r2c(e.ay)],{ppadplus:Math.max(e._ypadplus,o),ppadminus:Math.max(e._ypadminus,a)})):(o=e.ay?o+e.ay:o,a=e.ay?a-e.ay:a,i.expand(s,[s.r2c(e.y)],{ppadplus:Math.max(e._ypadplus,n,o),ppadminus:Math.max(e._ypadminus,r,a)})))})}e.exports=function(t){var e=r.filterVisible(t._fullLayout.annotations);if(e.length&&t._fullData.length){var n={};for(var l in e.forEach(function(t){n[t.xref]=1,n[t.yref]=1}),n){var s=i.getFromId(t,l);if(s&&s.autorange)return r.syncOrAsync([o,a],t)}}}},{"../../lib":163,"../../plots/cartesian/axes":205,"./draw":34}],30:[function(t,e,n){"use strict";var r=t("../../registry");function i(t,e){var n,r,i,a,l,s,u,c=t._fullLayout.annotations,d=[],f=[],h=[],p=(e||[]).length;for(n=0;n<c.length;n++)if(a=(i=c[n]).clicktoshow){for(r=0;r<p;r++)if(u=(l=e[r]).yaxis,(s=l.xaxis)._id===i.xref&&u._id===i.yref&&s.d2r(l.x)===o(i._xclick,s)&&u.d2r(l.y)===o(i._yclick,u)){(i.visible?"onout"===a?f:h:d).push(n);break}r===p&&i.visible&&"onout"===a&&f.push(n)}return{on:d,off:f,explicitOff:h}}function o(t,e){return"log"===e.type?e.l2r(t):e.d2r(t)}e.exports={hasClickToShow:function(t,e){var n=i(t,e);return n.on.length>0||n.explicitOff.length>0},onClick:function(t,e){var n,o=i(t,e),a=o.on,l=o.off.concat(o.explicitOff),s={};if(a.length||l.length){for(n=0;n<a.length;n++)s["annotations["+a[n]+"].visible"]=!0;for(n=0;n<l.length;n++)s["annotations["+l[n]+"].visible"]=!1;return r.call("update",t,{},s)}}}},{"../../registry":245}],31:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../color");e.exports=function(t,e,n,o){o("opacity");var a=o("bgcolor"),l=o("bordercolor"),s=i.opacity(l);o("borderpad");var u=o("borderwidth"),c=o("showarrow");if(o("text",c?" ":n._dfltTitle.annotation),o("textangle"),r.coerceFont(o,"font",n.font),o("width"),o("align"),o("height")&&o("valign"),c){var d,f,h=o("arrowside");-1!==h.indexOf("end")&&(d=o("arrowhead"),f=o("arrowsize")),-1!==h.indexOf("start")&&(o("startarrowhead",d),o("startarrowsize",f)),o("arrowcolor",s?e.bordercolor:i.defaultLine),o("arrowwidth",2*(s&&u||1)),o("standoff"),o("startstandoff")}var p=o("hovertext"),g=n.hoverlabel||{};if(p){var m=o("hoverlabel.bgcolor",g.bgcolor||(i.opacity(a)?i.rgb(a):i.defaultLine)),y=o("hoverlabel.bordercolor",g.bordercolor||i.contrast(m));r.coerceFont(o,"hoverlabel.font",{family:g.font.family,size:g.font.size,color:g.font.color||y})}o("captureevents",!!p)}},{"../../lib":163,"../color":43}],32:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("../../lib/to_log_range");e.exports=function(t,e,n,o){e=e||{};var a="log"===n&&"linear"===e.type;if(a||"linear"===n&&"log"===e.type)for(var l,s,u=t._fullLayout.annotations,c=e._id.charAt(0),d=0;d<u.length;d++)s="annotations["+d+"].",(l=u[d])[c+"ref"]===e._id&&f(c),l["a"+c+"ref"]===e._id&&f("a"+c);function f(t){var n=l[t],u=null;u=a?i(n,e.range):Math.pow(10,n),r(u)||(u=null),o(s+t,u)}}},{"../../lib/to_log_range":186,"fast-isnumeric":10}],33:[function(t,e,n){"use strict";var r=t("../../plots/array_container_defaults"),i=t("./annotation_defaults");e.exports=function(t,e){r(t,e,{name:"annotations",handleItemDefaults:i})}},{"../../plots/array_container_defaults":201,"./annotation_defaults":26}],34:[function(t,e,n){"use strict";var r=t("d3"),i=t("../../registry"),o=t("../../plots/plots"),a=t("../../lib"),l=t("../../plots/cartesian/axes"),s=t("../color"),u=t("../drawing"),c=t("../fx"),d=t("../../lib/svg_text_utils"),f=t("../../lib/setcursor"),h=t("../dragelement"),p=t("./draw_arrow_head");function g(t,e){var n=t._fullLayout.annotations[e]||{};m(t,n,e,!1,l.getFromId(t,n.xref),l.getFromId(t,n.yref))}function m(t,e,n,o,l,g){var m,y,v=t._fullLayout,b=t._fullLayout._size,_=t._context.edits;o?(m="annotation-"+o,y=o+".annotations["+n+"]"):(m="annotation",y="annotations["+n+"]"),v._infolayer.selectAll("."+m+'[data-index="'+n+'"]').remove();var x="clip"+v._uid+"_ann"+n;if(e._input&&!1!==e.visible){var w={x:{},y:{}},k=+e.textangle||0,T=v._infolayer.append("g").classed(m,!0).attr("data-index",String(n)).style("opacity",e.opacity),C=T.append("g").classed("annotation-text-g",!0),A=_[e.showarrow?"annotationTail":"annotationPosition"],M=e.captureevents||_.annotationText||A,S=C.append("g").style("pointer-events",M?"all":null).call(f,"pointer").on("click",function(){t._dragging=!1;var i={index:n,annotation:e._input,fullAnnotation:e,event:r.event};o&&(i.subplotId=o),t.emit("plotly_clickannotation",i)});e.hovertext&&S.on("mouseover",function(){var n=e.hoverlabel,r=n.font,i=this.getBoundingClientRect(),o=t.getBoundingClientRect();c.loneHover({x0:i.left-o.left,x1:i.right-o.left,y:(i.top+i.bottom)/2-o.top,text:e.hovertext,color:n.bgcolor,borderColor:n.bordercolor,fontFamily:r.family,fontSize:r.size,fontColor:r.color},{container:v._hoverlayer.node(),outerContainer:v._paper.node(),gd:t})}).on("mouseout",function(){c.loneUnhover(v._hoverlayer.node())});var E=e.borderwidth,O=E+e.borderpad,P=S.append("rect").attr("class","bg").style("stroke-width",E+"px").call(s.stroke,e.bordercolor).call(s.fill,e.bgcolor),I=e.width||e.height,D=v._topclips.selectAll("#"+x).data(I?[0]:[]);D.enter().append("clipPath").classed("annclip",!0).attr("id",x).append("rect"),D.exit().remove();var L=e.font,R=S.append("text").classed("annotation-text",!0).text(e.text);_.annotationText?R.call(d.makeEditable,{delegate:S,gd:t}).call(N).on("edit",function(n){e.text=n,this.call(N);var r={};r[y+".text"]=e.text,l&&l.autorange&&(r[l._name+".autorange"]=!0),g&&g.autorange&&(r[g._name+".autorange"]=!0),i.call("relayout",t,r)}):R.call(N)}else r.selectAll("#"+x).remove();function N(n){return n.call(u.font,L).attr({"text-anchor":{left:"start",right:"end"}[e.align]||"middle"}),d.convertToTspans(n,t,F),n}function F(){var n=R.selectAll("a");1===n.size()&&n.text()===R.text()&&S.insert("a",":first-child").attr({"xlink:xlink:href":n.attr("xlink:href"),"xlink:xlink:show":n.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(P.node());var r=S.select(".annotation-text-math-group"),c=!r.empty(),m=u.bBox((c?r:R).node()),M=m.width,L=m.height,N=e.width||M,F=e.height||L,z=Math.round(N+2*O),j=Math.round(F+2*O);function V(t,e){return"auto"===e&&(e=t<1/3?"left":t>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[e]}e._w=N,e._h=F;for(var B=!1,H=["x","y"],q=0;q<H.length;q++){var U,G,W,Y,Z,X=H[q],Q=e[X+"ref"]||X,K=e["a"+X+"ref"],$={x:l,y:g}[X],J=(k+("x"===X?0:-90))*Math.PI/180,tt=z*Math.cos(J),et=j*Math.sin(J),nt=Math.abs(tt)+Math.abs(et),rt=e[X+"anchor"],it=e[X+"shift"]*("x"===X?1:-1),ot=w[X];if($){var at=$.r2fraction(e[X]);if((t._dragging||!$.autorange)&&(at<0||at>1)&&(K===Q?((at=$.r2fraction(e["a"+X]))<0||at>1)&&(B=!0):B=!0,B))continue;U=$._offset+$.r2p(e[X]),Y=.5}else U="x"===X?b.l+b.w*(W=e[X]):b.t+b.h*(W=1-e[X]),Y=e.showarrow?.5:W;if(e.showarrow){ot.head=U;var lt=e["a"+X];Z=tt*V(.5,e.xanchor)-et*V(.5,e.yanchor),K===Q?(ot.tail=$._offset+$.r2p(lt),G=Z):(ot.tail=U+lt,G=Z+lt),ot.text=ot.tail+Z;var st=v["x"===X?"width":"height"];if("paper"===Q&&(ot.head=a.constrain(ot.head,1,st-1)),"pixel"===K){var ut=-Math.max(ot.tail-3,ot.text),ct=Math.min(ot.tail+3,ot.text)-st;ut>0?(ot.tail+=ut,ot.text+=ut):ct>0&&(ot.tail-=ct,ot.text-=ct)}ot.tail+=it,ot.head+=it}else G=Z=nt*V(Y,rt),ot.text=U+Z;ot.text+=it,Z+=it,e["_"+X+"padplus"]=nt/2+(G+=it),e["_"+X+"padminus"]=nt/2-G,e["_"+X+"size"]=nt,e["_"+X+"shift"]=Z}if(B)S.remove();else{var dt=0,ft=0;"left"!==e.align&&(dt=(N-M)*("center"===e.align?.5:1)),"top"!==e.valign&&(ft=(F-L)*("middle"===e.valign?.5:1)),c?r.select("svg").attr({x:O+dt-1,y:O+ft}).call(u.setClipUrl,I?x:null):R.call(d.positionText,O+dt-m.left,O+ft-m.top).call(u.setClipUrl,I?x:null),D.select("rect").call(u.setRect,O,O,N,F),P.call(u.setRect,E/2,E/2,z-E,j-E),S.call(u.setTranslate,Math.round(w.x.text-z/2),Math.round(w.y.text-j/2)),C.attr({transform:"rotate("+k+","+w.x.text+","+w.y.text+")"});var ht,pt,gt=function(n,r){T.selectAll(".annotation-arrow-g").remove();var c=w.x.head,d=w.y.head,f=w.x.tail+n,m=w.y.tail+r,v=w.x.text+n,x=w.y.text+r,A=a.rotationXYMatrix(k,v,x),M=a.apply2DTransform(A),E=a.apply2DTransform2(A),O=+P.attr("width"),I=+P.attr("height"),D=v-.5*O,L=D+O,R=x-.5*I,N=R+I,F=[[D,R,D,N],[D,N,L,N],[L,N,L,R],[L,R,D,R]].map(E);if(!F.reduce(function(t,e){return t^!!a.segmentsIntersect(c,d,c+1e6,d+1e6,e[0],e[1],e[2],e[3])},!1)){F.forEach(function(t){var e=a.segmentsIntersect(f,m,c,d,t[0],t[1],t[2],t[3]);e&&(f=e.x,m=e.y)});var z=e.arrowwidth,j=e.arrowcolor,V=e.arrowside,B=T.append("g").style({opacity:s.opacity(j)}).classed("annotation-arrow-g",!0),H=B.append("path").attr("d","M"+f+","+m+"L"+c+","+d).style("stroke-width",z+"px").call(s.stroke,s.rgb(j));if(p(H,V,e),_.annotationPosition&&H.node().parentNode&&!o){var q=c,U=d;if(e.standoff){var G=Math.sqrt(Math.pow(c-f,2)+Math.pow(d-m,2));q+=e.standoff*(f-c)/G,U+=e.standoff*(m-d)/G}var W,Y,Z,X=B.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(f-q)+","+(m-U),transform:"translate("+q+","+U+")"}).style("stroke-width",z+6+"px").call(s.stroke,"rgba(0,0,0,0)").call(s.fill,"rgba(0,0,0,0)");h.init({element:X.node(),gd:t,prepFn:function(){var t=u.getTranslate(S);Y=t.x,Z=t.y,W={},l&&l.autorange&&(W[l._name+".autorange"]=!0),g&&g.autorange&&(W[g._name+".autorange"]=!0)},moveFn:function(t,n){var r=M(Y,Z),i=r[0]+t,o=r[1]+n;S.call(u.setTranslate,i,o),W[y+".x"]=l?l.p2r(l.r2p(e.x)+t):e.x+t/b.w,W[y+".y"]=g?g.p2r(g.r2p(e.y)+n):e.y-n/b.h,e.axref===e.xref&&(W[y+".ax"]=l.p2r(l.r2p(e.ax)+t)),e.ayref===e.yref&&(W[y+".ay"]=g.p2r(g.r2p(e.ay)+n)),B.attr("transform","translate("+t+","+n+")"),C.attr({transform:"rotate("+k+","+i+","+o+")"})},doneFn:function(){i.call("relayout",t,W);var e=document.querySelector(".js-notes-box-panel");e&&e.redraw(e.selectedObj)}})}}};e.showarrow&&gt(0,0),A&&h.init({element:S.node(),gd:t,prepFn:function(){pt=C.attr("transform"),ht={}},moveFn:function(t,n){var r="pointer";if(e.showarrow)ht[y+".ax"]=e.axref===e.xref?l.p2r(l.r2p(e.ax)+t):e.ax+t,ht[y+".ay"]=e.ayref===e.yref?g.p2r(g.r2p(e.ay)+n):e.ay+n,gt(t,n);else{if(o)return;if(l)ht[y+".x"]=l.p2r(l.r2p(e.x)+t);else{var i=e._xsize/b.w;ht[y+".x"]=h.align(e.x+(e._xshift-e.xshift)/b.w-i/2+t/b.w,i,0,1,e.xanchor)}if(g)ht[y+".y"]=g.p2r(g.r2p(e.y)+n);else{var a=e._ysize/b.h;ht[y+".y"]=h.align(e.y-(e._yshift+e.yshift)/b.h-a/2-n/b.h,a,0,1,e.yanchor)}l&&g||(r=h.getCursor(l?.5:ht[y+".x"],g?.5:ht[y+".y"],e.xanchor,e.yanchor))}C.attr({transform:"translate("+t+","+n+")"+pt}),f(S,r)},doneFn:function(){f(S),i.call("relayout",t,ht);var e=document.querySelector(".js-notes-box-panel");e&&e.redraw(e.selectedObj)}})}}}e.exports={draw:function(t){var e=t._fullLayout;e._infolayer.selectAll(".annotation").remove();for(var n=0;n<e.annotations.length;n++)e.annotations[n].visible&&g(t,n);return o.previousPromises(t)},drawOne:g,drawRaw:m}},{"../../lib":163,"../../lib/setcursor":182,"../../lib/svg_text_utils":184,"../../plots/cartesian/axes":205,"../../plots/plots":237,"../../registry":245,"../color":43,"../dragelement":65,"../drawing":68,"../fx":85,"./draw_arrow_head":35,d3:7}],35:[function(t,e,n){"use strict";var r=t("d3"),i=t("../color"),o=t("./arrow_paths");e.exports=function(t,e,n){var a,l,s,u,c=t.node(),d=o[n.arrowhead||0],f=o[n.startarrowhead||0],h=(n.arrowwidth||1)*(n.arrowsize||1),p=(n.arrowwidth||1)*(n.startarrowsize||1),g=e.indexOf("start")>=0,m=e.indexOf("end")>=0,y=d.backoff*h+n.standoff,v=f.backoff*p+n.startstandoff;if("line"===c.nodeName){a={x:+t.attr("x1"),y:+t.attr("y1")},l={x:+t.attr("x2"),y:+t.attr("y2")};var b=a.x-l.x,_=a.y-l.y;if(u=(s=Math.atan2(_,b))+Math.PI,y&&v&&y+v>Math.sqrt(b*b+_*_))return void P();if(y){if(y*y>b*b+_*_)return void P();var x=y*Math.cos(s),w=y*Math.sin(s);l.x+=x,l.y+=w,t.attr({x2:l.x,y2:l.y})}if(v){if(v*v>b*b+_*_)return void P();var k=v*Math.cos(s),T=v*Math.sin(s);a.x-=k,a.y-=T,t.attr({x1:a.x,y1:a.y})}}else if("path"===c.nodeName){var C=c.getTotalLength(),A="";if(C<y+v)return void P();var M=c.getPointAtLength(0),S=c.getPointAtLength(.1);s=Math.atan2(M.y-S.y,M.x-S.x),a=c.getPointAtLength(Math.min(v,C)),A="0px,"+v+"px,";var E=c.getPointAtLength(C),O=c.getPointAtLength(C-.1);u=Math.atan2(E.y-O.y,E.x-O.x),l=c.getPointAtLength(Math.max(0,C-y)),t.style("stroke-dasharray",A+=C-(A?v+y:y)+"px,"+C+"px")}function P(){t.style("stroke-dasharray","0px,100px")}function I(e,o,a,l){e.path&&(e.noRotate&&(a=0),r.select(c.parentNode).append("path").attr({class:t.attr("class"),d:e.path,transform:"translate("+o.x+","+o.y+")"+(a?"rotate("+180*a/Math.PI+")":"")+"scale("+l+")"}).style({fill:i.rgb(n.arrowcolor),"stroke-width":0}))}g&&I(f,a,s,p),m&&I(d,l,u,h)}},{"../color":43,"./arrow_paths":27,d3:7}],36:[function(t,e,n){"use strict";var r=t("./draw"),i=t("./click");e.exports={moduleType:"component",name:"annotations",layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),includeBasePlot:t("../../plots/cartesian/include_components")("annotations"),calcAutorange:t("./calc_autorange"),draw:r.draw,drawOne:r.drawOne,drawRaw:r.drawRaw,hasClickToShow:i.hasClickToShow,onClick:i.onClick,convertCoords:t("./convert_coords")}},{"../../plots/cartesian/include_components":215,"./attributes":28,"./calc_autorange":29,"./click":30,"./convert_coords":32,"./defaults":33,"./draw":34}],37:[function(t,e,n){"use strict";var r=t("../annotations/attributes"),i=t("../../plot_api/edit_types").overrideAll;e.exports=i({_isLinkedToArray:"annotation",visible:r.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:r.xanchor,xshift:r.xshift,yanchor:r.yanchor,yshift:r.yshift,text:r.text,textangle:r.textangle,font:r.font,width:r.width,height:r.height,opacity:r.opacity,align:r.align,valign:r.valign,bgcolor:r.bgcolor,bordercolor:r.bordercolor,borderpad:r.borderpad,borderwidth:r.borderwidth,showarrow:r.showarrow,arrowcolor:r.arrowcolor,arrowhead:r.arrowhead,startarrowhead:r.startarrowhead,arrowside:r.arrowside,arrowsize:r.arrowsize,startarrowsize:r.startarrowsize,arrowwidth:r.arrowwidth,standoff:r.standoff,startstandoff:r.startstandoff,hovertext:r.hovertext,hoverlabel:r.hoverlabel,captureevents:r.captureevents},"calc","from-root")},{"../../plot_api/edit_types":190,"../annotations/attributes":28}],38:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../plots/cartesian/axes");function o(t,e){var n=e.fullSceneLayout.domain,o=e.fullLayout._size,a={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};t._xa={},r.extendFlat(t._xa,a),i.setConvert(t._xa),t._xa._offset=o.l+n.x[0]*o.w,t._xa.l2p=function(){return.5*(1+t._pdata[0]/t._pdata[3])*o.w*(n.x[1]-n.x[0])},t._ya={},r.extendFlat(t._ya,a),i.setConvert(t._ya),t._ya._offset=o.t+(1-n.y[1])*o.h,t._ya.l2p=function(){return.5*(1-t._pdata[1]/t._pdata[3])*o.h*(n.y[1]-n.y[0])}}e.exports=function(t){for(var e=t.fullSceneLayout.annotations,n=0;n<e.length;n++)o(e[n],t);t.fullLayout._infolayer.selectAll(".annotation-"+t.id).remove()}},{"../../lib":163,"../../plots/cartesian/axes":205}],39:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../plots/cartesian/axes"),o=t("../../plots/array_container_defaults"),a=t("../annotations/common_defaults"),l=t("./attributes");function s(t,e,n,o,s){function u(n,i){return r.coerce(t,e,l,n,i)}function c(t){var r=t+"axis",o={_fullLayout:{}};return o._fullLayout[r]=n[r],i.coercePosition(e,o,u,t,t,.5)}return u("visible",!s.itemIsNotPlainObject)?(a(t,e,o.fullLayout,u),c("x"),c("y"),c("z"),r.noneOrAll(t,e,["x","y","z"]),e.xref="x",e.yref="y",e.zref="z",u("xanchor"),u("yanchor"),u("xshift"),u("yshift"),e.showarrow&&(e.axref="pixel",e.ayref="pixel",u("ax",-10),u("ay",-30),r.noneOrAll(t,e,["ax","ay"])),e):e}e.exports=function(t,e,n){o(t,e,{name:"annotations",handleItemDefaults:s,fullLayout:n.fullLayout})}},{"../../lib":163,"../../plots/array_container_defaults":201,"../../plots/cartesian/axes":205,"../annotations/common_defaults":31,"./attributes":37}],40:[function(t,e,n){"use strict";var r=t("../annotations/draw").drawRaw,i=t("../../plots/gl3d/project"),o=["x","y","z"];e.exports=function(t){for(var e=t.fullSceneLayout,n=t.dataScale,a=e.annotations,l=0;l<a.length;l++){for(var s=a[l],u=!1,c=0;c<3;c++){var d=o[c],f=e[d+"axis"].r2fraction(s[d]);if(f<0||f>1){u=!0;break}}u?t.fullLayout._infolayer.select(".annotation-"+t.id+'[data-index="'+l+'"]').remove():(s._pdata=i(t.glplot.cameraParams,[e.xaxis.r2l(s.x)*n[0],e.yaxis.r2l(s.y)*n[1],e.zaxis.r2l(s.z)*n[2]]),r(t.graphDiv,s,l,t.id,s._xa,s._ya))}}},{"../../plots/gl3d/project":234,"../annotations/draw":34}],41:[function(t,e,n){"use strict";var r=t("../../registry"),i=t("../../lib");e.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:t("./attributes")}}},layoutAttributes:t("./attributes"),handleDefaults:t("./defaults"),includeBasePlot:function(t,e){var n=r.subplotsRegistry.gl3d;if(n)for(var o=n.attrRegex,a=Object.keys(t),l=0;l<a.length;l++){var s=a[l];o.test(s)&&(t[s].annotations||[]).length&&(i.pushUnique(e._basePlotModules,n),i.pushUnique(e._subplots.gl3d,s))}},convert:t("./convert"),draw:t("./draw")}},{"../../lib":163,"../../registry":245,"./attributes":37,"./convert":38,"./defaults":39,"./draw":40}],42:[function(t,e,n){"use strict";n.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],n.defaultLine="#444",n.lightLine="#eee",n.background="#fff",n.borderLine="#BEC8D9",n.lightFraction=1e3/11},{}],43:[function(t,e,n){"use strict";var r=t("tinycolor2"),i=t("fast-isnumeric"),o=e.exports={},a=t("./attributes");o.defaults=a.defaults;var l=o.defaultLine=a.defaultLine;o.lightLine=a.lightLine;var s=o.background=a.background;function u(t){if(i(t)||"string"!=typeof t)return t;var e=t.trim();if("rgb"!==e.substr(0,3))return t;var n=e.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return t;var r=n[1].trim().split(/\s*[\s,]\s*/),o="a"===e.charAt(3)&&4===r.length;if(!o&&3!==r.length)return t;for(var a=0;a<r.length;a++){if(!r[a].length)return t;if(r[a]=Number(r[a]),!(r[a]>=0))return t;if(3===a)r[a]>1&&(r[a]=1);else if(r[a]>=1)return t}var l=Math.round(255*r[0])+", "+Math.round(255*r[1])+", "+Math.round(255*r[2]);return o?"rgba("+l+", "+r[3]+")":"rgb("+l+")"}o.tinyRGB=function(t){var e=t.toRgb();return"rgb("+Math.round(e.r)+", "+Math.round(e.g)+", "+Math.round(e.b)+")"},o.rgb=function(t){return o.tinyRGB(r(t))},o.opacity=function(t){return t?r(t).getAlpha():0},o.addOpacity=function(t,e){var n=r(t).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+e+")"},o.combine=function(t,e){var n=r(t).toRgb();if(1===n.a)return r(t).toRgbString();var i=r(e||s).toRgb(),o=1===i.a?i:{r:255*(1-i.a)+i.r*i.a,g:255*(1-i.a)+i.g*i.a,b:255*(1-i.a)+i.b*i.a};return r({r:o.r*(1-n.a)+n.r*n.a,g:o.g*(1-n.a)+n.g*n.a,b:o.b*(1-n.a)+n.b*n.a}).toRgbString()},o.contrast=function(t,e,n){var i=r(t);return 1!==i.getAlpha()&&(i=r(o.combine(t,s))),(i.isDark()?e?i.lighten(e):s:n?i.darken(n):l).toString()},o.stroke=function(t,e){var n=r(e);t.style({stroke:o.tinyRGB(n),"stroke-opacity":n.getAlpha()})},o.fill=function(t,e){var n=r(e);t.style({fill:o.tinyRGB(n),"fill-opacity":n.getAlpha()})},o.clean=function(t){if(t&&"object"==typeof t){var e,n,r,i,a=Object.keys(t);for(e=0;e<a.length;e++)if(i=t[r=a[e]],"color"===r.substr(r.length-5))if(Array.isArray(i))for(n=0;n<i.length;n++)i[n]=u(i[n]);else t[r]=u(i);else if("colorscale"===r.substr(r.length-10)&&Array.isArray(i))for(n=0;n<i.length;n++)Array.isArray(i[n])&&(i[n][1]=u(i[n][1]));else if(Array.isArray(i)){var l=i[0];if(!Array.isArray(l)&&l&&"object"==typeof l)for(n=0;n<i.length;n++)o.clean(i[n])}else i&&"object"==typeof i&&o.clean(i)}}},{"./attributes":42,"fast-isnumeric":10,tinycolor2:25}],44:[function(t,e,n){"use strict";var r=t("../../plots/cartesian/layout_attributes"),i=t("../../plots/font_attributes"),o=t("../../lib/extend").extendFlat,a=t("../../plot_api/edit_types").overrideAll;e.exports=a({thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",dflt:1.02,min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",dflt:.5,min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle"},ypad:{valType:"number",min:0,dflt:10},outlinecolor:r.linecolor,outlinewidth:r.linewidth,bordercolor:r.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:r.tickmode,nticks:r.nticks,tick0:r.tick0,dtick:r.dtick,tickvals:r.tickvals,ticktext:r.ticktext,ticks:o({},r.ticks,{dflt:""}),ticklen:r.ticklen,tickwidth:r.tickwidth,tickcolor:r.tickcolor,showticklabels:r.showticklabels,tickfont:i({}),tickangle:r.tickangle,tickformat:r.tickformat,tickformatstops:r.tickformatstops,tickprefix:r.tickprefix,showtickprefix:r.showtickprefix,ticksuffix:r.ticksuffix,showticksuffix:r.showticksuffix,separatethousands:r.separatethousands,exponentformat:r.exponentformat,showexponent:r.showexponent,title:{valType:"string"},titlefont:i({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}},"colorbars","from-root")},{"../../lib/extend":157,"../../plot_api/edit_types":190,"../../plots/cartesian/layout_attributes":217,"../../plots/font_attributes":231}],45:[function(t,e,n){"use strict";e.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},{}],46:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../plots/cartesian/tick_value_defaults"),o=t("../../plots/cartesian/tick_mark_defaults"),a=t("../../plots/cartesian/tick_label_defaults"),l=t("./attributes");e.exports=function(t,e,n){var s=e.colorbar={},u=t.colorbar||{};function c(t,e){return r.coerce(u,s,l,t,e)}c("thickness","fraction"===c("thicknessmode")?30/(n.width-n.margin.l-n.margin.r):30),c("len","fraction"===c("lenmode")?1:n.height-n.margin.t-n.margin.b),c("x"),c("xanchor"),c("xpad"),c("y"),c("yanchor"),c("ypad"),r.noneOrAll(u,s,["x","y"]),c("outlinecolor"),c("outlinewidth"),c("bordercolor"),c("borderwidth"),c("bgcolor"),i(u,s,c,"linear");var d={outerTicks:!1,font:n.font};a(u,s,c,"linear",d),o(u,s,c,"linear",d),c("title",n._dfltTitle.colorbar),r.coerceFont(c,"titlefont",n.font),c("titleside")}},{"../../lib":163,"../../plots/cartesian/tick_label_defaults":224,"../../plots/cartesian/tick_mark_defaults":225,"../../plots/cartesian/tick_value_defaults":226,"./attributes":44}],47:[function(t,e,n){"use strict";var r=t("d3"),i=t("tinycolor2"),o=t("../../plots/plots"),a=t("../../registry"),l=t("../../plots/cartesian/axes"),s=t("../dragelement"),u=t("../../lib"),c=t("../../lib/extend").extendFlat,d=t("../../lib/setcursor"),f=t("../drawing"),h=t("../color"),p=t("../titles"),g=t("../../lib/svg_text_utils"),m=t("../../constants/alignment").LINE_SPACING,y=t("../../plots/cartesian/axis_defaults"),v=t("../../plots/cartesian/position_defaults"),b=t("../../plots/cartesian/layout_attributes"),_=t("./attributes"),x=t("./constants").cn;e.exports=function(t,e){var n={};function w(){var _=t._fullLayout,T=_._size;if("function"==typeof n.fillcolor||"function"==typeof n.line.color){var C,A,M=r.extent(("function"==typeof n.fillcolor?n.fillcolor:n.line.color).domain()),S=[],E=[],O="function"==typeof n.line.color?n.line.color:function(){return n.line.color},P="function"==typeof n.fillcolor?n.fillcolor:function(){return n.fillcolor},I=n.levels.end+n.levels.size/100,D=n.levels.size,L=1.001*M[0]-.001*M[1],R=1.001*M[1]-.001*M[0];for(A=0;A<1e5&&(C=n.levels.start+A*D,!(D>0?C>=I:C<=I));A++)C>L&&C<R&&S.push(C);if("function"==typeof n.fillcolor)if(n.filllevels)for(I=n.filllevels.end+n.filllevels.size/100,D=n.filllevels.size,A=0;A<1e5&&(C=n.filllevels.start+A*D,!(D>0?C>=I:C<=I));A++)C>M[0]&&C<M[1]&&E.push(C);else(E=S.map(function(t){return t-n.levels.size/2})).push(E[E.length-1]+n.levels.size);else n.fillcolor&&"string"==typeof n.fillcolor&&(E=[0]);n.levels.size<0&&(S.reverse(),E.reverse());var N,F=_.height-_.margin.t-_.margin.b,z=Math.round(n.thickness*("fraction"===n.thicknessmode?_.width-_.margin.l-_.margin.r:1)),j=z/T.w,V=Math.round(n.len*("fraction"===n.lenmode?F:1)),B=V/T.h,H=n.xpad/T.w,q=(n.borderwidth+n.outlinewidth)/2,U=n.ypad/T.h,G=Math.round(n.x*T.w+n.xpad),W=n.x-j*({middle:.5,right:1}[n.xanchor]||0),Y=n.y+B*(({top:-.5,bottom:.5}[n.yanchor]||0)-.5),Z=Math.round(T.h*(1-Y)),X=Z-V,Q={type:"linear",range:M,tickmode:n.tickmode,nticks:n.nticks,tick0:n.tick0,dtick:n.dtick,tickvals:n.tickvals,ticktext:n.ticktext,ticks:n.ticks,ticklen:n.ticklen,tickwidth:n.tickwidth,tickcolor:n.tickcolor,showticklabels:n.showticklabels,tickfont:n.tickfont,tickangle:n.tickangle,tickformat:n.tickformat,exponentformat:n.exponentformat,separatethousands:n.separatethousands,showexponent:n.showexponent,showtickprefix:n.showtickprefix,tickprefix:n.tickprefix,showticksuffix:n.showticksuffix,ticksuffix:n.ticksuffix,title:n.title,titlefont:n.titlefont,showline:!0,anchor:"free",position:1},K={type:"linear",_id:"y"+e},$={letter:"y",font:_.font,noHover:!0,calendar:_.calendar};if(y(Q,K,dt,$,_),v(Q,K,dt,$),K.position=n.x+H+j,w.axis=K,-1!==["top","bottom"].indexOf(n.titleside)&&(K.titleside=n.titleside,K.titlex=n.x+H,K.titley=Y+("top"===n.titleside?B-U:U)),n.line.color&&"auto"===n.tickmode){K.tickmode="linear",K.tick0=n.levels.start;var J=n.levels.size,tt=u.constrain((Z-X)/50,4,15)+1,et=(M[1]-M[0])/((n.nticks||tt)*J);if(et>1){var nt=Math.pow(10,Math.floor(Math.log(et)/Math.LN10));J*=nt*u.roundUp(et/nt,[2,5,10]),(Math.abs(n.levels.start)/n.levels.size+1e-6)%1<2e-6&&(K.tick0=0)}K.dtick=J}K.domain=[Y+U,Y+B-U],K.setScale();var rt=u.ensureSingle(_._infolayer,"g",e,function(t){t.classed(x.colorbar,!0).each(function(){var t=r.select(this);t.append("rect").classed(x.cbbg,!0),t.append("g").classed(x.cbfills,!0),t.append("g").classed(x.cblines,!0),t.append("g").classed(x.cbaxis,!0).classed(x.crisp,!0),t.append("g").classed(x.cbtitleunshift,!0).append("g").classed(x.cbtitle,!0),t.append("rect").classed(x.cboutline,!0),t.select(".cbtitle").datum(0)})});rt.attr("transform","translate("+Math.round(T.l)+","+Math.round(T.t)+")");var it=rt.select(".cbtitleunshift").attr("transform","translate(-"+Math.round(T.l)+",-"+Math.round(T.t)+")");K._axislayer=rt.select(".cbaxis");var ot=0;if(-1!==["top","bottom"].indexOf(n.titleside)){var at=K.titlefont.size;ft(K._id+"title",{attributes:{x:T.l+(n.x+H)*T.w,y:"top"===n.titleside?(1-(Y+B-U))*T.h+T.t+3+.75*at:(1-(Y+U))*T.h+T.t-3-.25*at,"text-anchor":"start"}})}var lt,st,ut,ct=u.syncOrAsync([o.previousPromises,function(){if(-1!==["top","bottom"].indexOf(n.titleside)){var e=rt.select(".cbtitle"),o=e.select("text"),a=[-n.outlinewidth/2,n.outlinewidth/2],s=e.select(".h"+K._id+"title-math-group").node(),c=15.6;if(o.node()&&(c=parseInt(o.node().style.fontSize,10)*m),s?(ot=f.bBox(s).height)>c&&(a[1]-=(ot-c)/2):o.node()&&!o.classed(x.jsPlaceholder)&&(ot=f.bBox(o.node()).height),ot){if(ot+=5,"top"===n.titleside)K.domain[1]-=ot/T.h,a[1]*=-1;else{K.domain[0]+=ot/T.h;var d=g.lineCount(o);a[1]+=(1-d)*c}e.attr("transform","translate("+a+")"),K.setScale()}}rt.selectAll(".cbfills,.cblines").attr("transform","translate(0,"+Math.round(T.h*(1-K.domain[1]))+")"),K._axislayer.attr("transform","translate(0,"+Math.round(-T.t)+")");var h=rt.select(".cbfills").selectAll("rect.cbfill").data(E);h.enter().append("rect").classed(x.cbfill,!0).style("stroke","none"),h.exit().remove(),h.each(function(t,e){var n=[0===e?M[0]:(E[e]+E[e-1])/2,e===E.length-1?M[1]:(E[e]+E[e+1])/2].map(K.c2p).map(Math.round);e!==E.length-1&&(n[1]+=n[1]>n[0]?1:-1);var o=P(t).replace("e-",""),a=i(o).toHexString();r.select(this).attr({x:G,width:Math.max(z,2),y:r.min(n),height:Math.max(r.max(n)-r.min(n),2),fill:a})});var p=rt.select(".cblines").selectAll("path.cbline").data(n.line.color&&n.line.width?S:[]);return p.enter().append("path").classed(x.cbline,!0),p.exit().remove(),p.each(function(t){r.select(this).attr("d","M"+G+","+(Math.round(K.c2p(t))+n.line.width/2%1)+"h"+z).call(f.lineGroupStyle,n.line.width,O(t),n.line.dash)}),K._axislayer.selectAll("g."+K._id+"tick,path").remove(),K._pos=G+z+(n.outlinewidth||0)/2-("outside"===n.ticks?1:0),K.side="right",u.syncOrAsync([function(){return l.doTicksSingle(t,K,!0)},function(){if(-1===["top","bottom"].indexOf(n.titleside)){var e=K.titlefont.size,i=K._offset+K._length/2,o=T.l+(K.position||0)*T.w+("right"===K.side?10+e*(K.showticklabels?1:.5):-10-e*(K.showticklabels?.5:0));ft("h"+K._id+"title",{avoid:{selection:r.select(t).selectAll("g."+K._id+"tick"),side:n.titleside,offsetLeft:T.l,offsetTop:0,maxShift:_.width},attributes:{x:o,y:i,"text-anchor":"middle"},transform:{rotate:"-90",offset:0}})}}])},o.previousPromises,function(){var r=z+n.outlinewidth/2+f.bBox(K._axislayer.node()).width;if((N=it.select("text")).node()&&!N.classed(x.jsPlaceholder)){var i,a=it.select(".h"+K._id+"title-math-group").node();i=a&&-1!==["top","bottom"].indexOf(n.titleside)?f.bBox(a).width:f.bBox(it.node()).right-G-T.l,r=Math.max(r,i)}var l=2*n.xpad+r+n.borderwidth+n.outlinewidth/2,s=Z-X;rt.select(".cbbg").attr({x:G-n.xpad-(n.borderwidth+n.outlinewidth)/2,y:X-q,width:Math.max(l,2),height:Math.max(s+2*q,2)}).call(h.fill,n.bgcolor).call(h.stroke,n.bordercolor).style({"stroke-width":n.borderwidth}),rt.selectAll(".cboutline").attr({x:G,y:X+n.ypad+("top"===n.titleside?ot:0),width:Math.max(z,2),height:Math.max(s-2*n.ypad-ot,2)}).call(h.stroke,n.outlinecolor).style({fill:"None","stroke-width":n.outlinewidth}),rt.attr("transform","translate("+(T.l-({center:.5,right:1}[n.xanchor]||0)*l)+","+T.t+")"),o.autoMargin(t,e,{x:n.x,y:n.y,l:l*({right:1,center:.5}[n.xanchor]||0),r:l*({left:1,center:.5}[n.xanchor]||0),t:s*({bottom:1,middle:.5}[n.yanchor]||0),b:s*({top:1,middle:.5}[n.yanchor]||0)})}],t);return ct&&ct.then&&(t._promises||[]).push(ct),t._context.edits.colorbarPosition&&s.init({element:rt.node(),gd:t,prepFn:function(){lt=rt.attr("transform"),d(rt)},moveFn:function(t,e){rt.attr("transform",lt+" translate("+t+","+e+")"),st=s.align(W+t/T.w,j,0,1,n.xanchor),ut=s.align(Y-e/T.h,B,0,1,n.yanchor);var r=s.getCursor(st,ut,n.xanchor,n.yanchor);d(rt,r)},doneFn:function(){d(rt),void 0!==st&&void 0!==ut&&a.call("restyle",t,{"colorbar.x":st,"colorbar.y":ut},k().index)}}),ct}function dt(t,e){return u.coerce(Q,K,b,t,e)}function ft(e,n){var r,i=k();r=a.traceIs(i,"markerColorscale")?"marker.colorbar.title":"colorbar.title";var o={propContainer:K,propName:r,traceIndex:i.index,placeholder:_._dfltTitle.colorbar,containerGroup:rt.select(".cbtitle")},l="h"===e.charAt(0)?e.substr(1):"h"+e;rt.selectAll("."+l+",."+l+"-math-group").remove(),p.draw(t,e,c(o,n||{}))}_._infolayer.selectAll("g."+e).remove()}function k(){var n,r,i=e.substr(2);for(n=0;n<t._fullData.length;n++)if((r=t._fullData[n]).uid===i)return r}return Object.keys(_).forEach(function(t){n[t]=null}),n.fillcolor=null,n.line={color:null,width:null,dash:null},n.levels={start:null,end:null,size:null},n.filllevels=null,Object.keys(n).forEach(function(t){w[t]=function(e){return arguments.length?(n[t]=u.isPlainObject(n[t])?u.extendFlat(n[t],e):e,w):n[t]}}),w.options=function(t){return Object.keys(t).forEach(function(e){"function"==typeof w[e]&&w[e](t[e])}),w},w._opts=n,w}},{"../../constants/alignment":143,"../../lib":163,"../../lib/extend":157,"../../lib/setcursor":182,"../../lib/svg_text_utils":184,"../../plots/cartesian/axes":205,"../../plots/cartesian/axis_defaults":207,"../../plots/cartesian/layout_attributes":217,"../../plots/cartesian/position_defaults":220,"../../plots/plots":237,"../../registry":245,"../color":43,"../dragelement":65,"../drawing":68,"../titles":136,"./attributes":44,"./constants":45,d3:7,tinycolor2:25}],48:[function(t,e,n){"use strict";var r=t("../../lib");e.exports=function(t){return r.isPlainObject(t.colorbar)}},{"../../lib":163}],49:[function(t,e,n){"use strict";e.exports={zauto:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{zmin:void 0,zmax:void 0}},zmin:{valType:"number",dflt:null,editType:"plot",impliedEdits:{zauto:!1}},zmax:{valType:"number",dflt:null,editType:"plot",impliedEdits:{zauto:!1}},colorscale:{valType:"colorscale",editType:"calc",impliedEdits:{autocolorscale:!1}},autocolorscale:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{colorscale:void 0}},reversescale:{valType:"boolean",dflt:!1,editType:"calc"},showscale:{valType:"boolean",dflt:!0,editType:"calc"}}},{}],50:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("./scales"),o=t("./flip_scale");e.exports=function(t,e,n,a){var l=t,s=t._input,u=t._fullInput,c=t.updateStyle;function d(e,r,i){void 0===i&&(i=r),c?c(t._input,n?n+"."+e:e,r):s[e]=r,l[e]=i,u&&t!==t._fullInput&&(c?c(t._fullInput,n?n+"."+e:e,i):u[e]=i)}n&&(l=r.nestedProperty(l,n).get(),s=r.nestedProperty(s,n).get(),u=r.nestedProperty(u,n).get()||{});var f=a+"auto",h=a+"min",p=a+"max",g=l[f],m=l[h],y=l[p],v=l.colorscale;!1===g&&void 0!==m||(m=r.aggNums(Math.min,null,e)),!1===g&&void 0!==y||(y=r.aggNums(Math.max,null,e)),m===y&&(m-=.5,y+=.5),d(h,m),d(p,y),d(f,!1!==g||void 0===m&&void 0===y),l.autocolorscale&&(d("colorscale",v=m*y<0?i.RdBu:m>=0?i.Reds:i.Blues,l.reversescale?o(v):v),s.autocolorscale||d("autocolorscale",!1))}},{"../../lib":163,"./flip_scale":55,"./scales":62}],51:[function(t,e,n){"use strict";var r=t("./attributes"),i=t("../../lib/extend").extendFlat;t("./scales.js"),e.exports=function(t,e,n){return{color:{valType:"color",arrayOk:!0,editType:e||"style"},colorscale:i({},r.colorscale,{}),cauto:i({},r.zauto,{impliedEdits:{cmin:void 0,cmax:void 0}}),cmax:i({},r.zmax,{editType:e||r.zmax.editType,impliedEdits:{cauto:!1}}),cmin:i({},r.zmin,{editType:e||r.zmin.editType,impliedEdits:{cauto:!1}}),autocolorscale:i({},r.autocolorscale,{dflt:!1===n?n:r.autocolorscale.dflt}),reversescale:i({},r.reversescale,{})}}},{"../../lib/extend":157,"./attributes":49,"./scales.js":62}],52:[function(t,e,n){"use strict";var r=t("./scales");e.exports=r.RdBu},{"./scales":62}],53:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("../../lib"),o=t("../colorbar/has_colorbar"),a=t("../colorbar/defaults"),l=t("./is_valid_scale"),s=t("./flip_scale");e.exports=function(t,e,n,u,c){var d,f=c.prefix,h=c.cLetter,p=f.slice(0,f.length-1),g=f?i.nestedProperty(t,p).get()||{}:t,m=f?i.nestedProperty(e,p).get()||{}:e,y=g[h+"min"],v=g[h+"max"],b=g.colorscale;u(f+h+"auto",!(r(y)&&r(v)&&y<v)),u(f+h+"min"),u(f+h+"max"),void 0!==b&&(d=!l(b)),u(f+"autocolorscale",d);var _,x=u(f+"colorscale");u(f+"reversescale")&&(m.colorscale=s(x)),"marker.line."!==f&&(f&&(_=o(g)),u(f+"showscale",_)&&a(g,m,n))}},{"../../lib":163,"../colorbar/defaults":46,"../colorbar/has_colorbar":48,"./flip_scale":55,"./is_valid_scale":59,"fast-isnumeric":10}],54:[function(t,e,n){"use strict";e.exports=function(t,e,n){for(var r=t.length,i=new Array(r),o=new Array(r),a=0;a<r;a++){var l=t[a];i[a]=e+l[0]*(n-e),o[a]=l[1]}return{domain:i,range:o}}},{}],55:[function(t,e,n){"use strict";e.exports=function(t){for(var e,n=t.length,r=new Array(n),i=n-1,o=0;i>=0;i--,o++)r[o]=[1-(e=t[i])[0],e[1]];return r}},{}],56:[function(t,e,n){"use strict";var r=t("./scales"),i=t("./default_scale"),o=t("./is_valid_scale_array");e.exports=function(t,e){if(e||(e=i),!t)return e;function n(){try{t=r[t]||JSON.parse(t)}catch(n){t=e}}return"string"==typeof t&&(n(),"string"==typeof t&&n()),o(t)?t:e}},{"./default_scale":52,"./is_valid_scale_array":60,"./scales":62}],57:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("../../lib"),o=t("./is_valid_scale");e.exports=function(t,e){var n=e?i.nestedProperty(t,e).get()||{}:t,a=n.color,l=!1;if(i.isArrayOrTypedArray(a))for(var s=0;s<a.length;s++)if(r(a[s])){l=!0;break}return i.isPlainObject(n)&&(l||!0===n.showscale||r(n.cmin)&&r(n.cmax)||o(n.colorscale)||i.isPlainObject(n.colorbar))}},{"../../lib":163,"./is_valid_scale":59,"fast-isnumeric":10}],58:[function(t,e,n){"use strict";n.scales=t("./scales"),n.defaultScale=t("./default_scale"),n.attributes=t("./attributes"),n.handleDefaults=t("./defaults"),n.calc=t("./calc"),n.hasColorscale=t("./has_colorscale"),n.isValidScale=t("./is_valid_scale"),n.getScale=t("./get_scale"),n.flipScale=t("./flip_scale"),n.extractScale=t("./extract_scale"),n.makeColorScaleFunc=t("./make_color_scale_func")},{"./attributes":49,"./calc":50,"./default_scale":52,"./defaults":53,"./extract_scale":54,"./flip_scale":55,"./get_scale":56,"./has_colorscale":57,"./is_valid_scale":59,"./make_color_scale_func":61,"./scales":62}],59:[function(t,e,n){"use strict";var r=t("./scales"),i=t("./is_valid_scale_array");e.exports=function(t){return void 0!==r[t]||i(t)}},{"./is_valid_scale_array":60,"./scales":62}],60:[function(t,e,n){"use strict";var r=t("tinycolor2");e.exports=function(t){var e=0;if(!Array.isArray(t)||t.length<2)return!1;if(!t[0]||!t[t.length-1])return!1;if(0!=+t[0][0]||1!=+t[t.length-1][0])return!1;for(var n=0;n<t.length;n++){var i=t[n];if(2!==i.length||+i[0]<e||!r(i[1]).isValid())return!1;e=+i[0]}return!0}},{tinycolor2:25}],61:[function(t,e,n){"use strict";var r=t("d3"),i=t("tinycolor2"),o=t("fast-isnumeric"),a=t("../color");function l(t){return i({r:t[0],g:t[1],b:t[2],a:t[3]}).toRgbString()}e.exports=function(t,e){e=e||{};for(var n=t.domain,s=t.range,u=s.length,c=new Array(u),d=0;d<u;d++){var f=i(s[d]).toRgb();c[d]=[f.r,f.g,f.b,f.a]}var h,p=r.scale.linear().domain(n).range(c).clamp(!0),g=e.noNumericCheck,m=e.returnArray;return(h=g&&m?p:g?function(t){return l(p(t))}:m?function(t){return o(t)?p(t):i(t).isValid()?t:a.defaultLine}:function(t){return o(t)?l(p(t)):i(t).isValid()?t:a.defaultLine}).domain=p.domain,h.range=function(){return s},h}},{"../color":43,d3:7,"fast-isnumeric":10,tinycolor2:25}],62:[function(t,e,n){"use strict";e.exports={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]}},{}],63:[function(t,e,n){"use strict";e.exports=function(t,e,n,r,i){var o=(t-n)/(r-n),a=o+e/(r-n),l=(o+a)/2;return"left"===i||"bottom"===i?o:"center"===i||"middle"===i?l:"right"===i||"top"===i?a:o<2/3-l?o:a>4/3-l?a:l}},{}],64:[function(t,e,n){"use strict";var r=t("../../lib"),i=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];e.exports=function(t,e,n,o){return t="left"===n?0:"center"===n?1:"right"===n?2:r.constrain(Math.floor(3*t),0,2),e="bottom"===o?0:"middle"===o?1:"top"===o?2:r.constrain(Math.floor(3*e),0,2),i[e][t]}},{"../../lib":163}],65:[function(t,e,n){"use strict";var r=t("mouse-event-offset"),i=t("has-hover"),o=t("has-passive-events"),a=t("../../registry"),l=t("../../lib"),s=t("../../plots/cartesian/constants"),u=t("../../constants/interactions"),c=e.exports={};c.align=t("./align"),c.getCursor=t("./cursor");var d=t("./unhover");function f(){var t=document.createElement("div");t.className="dragcover";var e=t.style;return e.position="fixed",e.left=0,e.right=0,e.top=0,e.bottom=0,e.zIndex=999999999,e.background="none",document.body.appendChild(t),t}function h(t){return r(t.changedTouches?t.changedTouches[0]:t,document.body)}c.unhover=d.wrapped,c.unhoverRaw=d.raw,c.init=function(t){var e,n,r,d,p,g,m,y,v=t.gd,b=1,_=u.DBLCLICKDELAY,x=t.element;v._mouseDownTime||(v._mouseDownTime=0),x.style.pointerEvents="all",x.onmousedown=k,o?(x._ontouchstart&&x.removeEventListener("touchstart",x._ontouchstart),x._ontouchstart=k,x.addEventListener("touchstart",k,{passive:!1})):x.ontouchstart=k;var w=t.clampFn||function(t,e,n){return Math.abs(t)<n&&(t=0),Math.abs(e)<n&&(e=0),[t,e]};function k(o){o.preventDefault(),v._dragged=!1,v._dragging=!0;var a=h(o);e=a[0],n=a[1],m=o.target,g=o,y=2===o.buttons||o.ctrlKey,(r=(new Date).getTime())-v._mouseDownTime<_?b+=1:(b=1,v._mouseDownTime=r),t.prepFn&&t.prepFn(o,e,n),i&&!y?(p=f()).style.cursor=window.getComputedStyle(x).cursor:i||(p=document,d=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(x).cursor),document.addEventListener("mousemove",T),document.addEventListener("mouseup",C),document.addEventListener("touchmove",T),document.addEventListener("touchend",C)}function T(r){r.preventDefault();var i=h(r),o=w(i[0]-e,i[1]-n,t.minDrag||s.MINDRAG),a=o[0],l=o[1];(a||l)&&(v._dragged=!0,c.unhover(v)),v._dragged&&t.moveFn&&!y&&t.moveFn(a,l)}function C(e){if(document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",C),document.removeEventListener("touchmove",T),document.removeEventListener("touchend",C),e.preventDefault(),i?l.removeElement(p):d&&(p.documentElement.style.cursor=d,d=null),v._dragging){if(v._dragging=!1,(new Date).getTime()-v._mouseDownTime>_&&(b=Math.max(b-1,1)),v._dragged)t.doneFn&&t.doneFn();else if(t.clickFn&&t.clickFn(b,g),!y){var n;try{n=new MouseEvent("click",e)}catch(t){var r=h(e);(n=document.createEvent("MouseEvents")).initMouseEvent("click",e.bubbles,e.cancelable,e.view,e.detail,e.screenX,e.screenY,r[0],r[1],e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget)}m.dispatchEvent(n)}!function(t){t._dragging=!1,t._replotPending&&a.call("plot",t)}(v),v._dragged=!1}else v._dragged=!1}},c.coverSlip=f},{"../../constants/interactions":144,"../../lib":163,"../../plots/cartesian/constants":210,"../../registry":245,"./align":63,"./cursor":64,"./unhover":66,"has-hover":12,"has-passive-events":13,"mouse-event-offset":15}],66:[function(t,e,n){"use strict";var r=t("../../lib/events"),i=t("../../lib/throttle"),o=t("../../lib/get_graph_div"),a=t("../fx/constants"),l=e.exports={};l.wrapped=function(t,e,n){(t=o(t))._fullLayout&&i.clear(t._fullLayout._uid+a.HOVERID),l.raw(t,e,n)},l.raw=function(t,e){var n=t._fullLayout,i=t._hoverdata;e||(e={}),e.target&&!1===r.triggerHandler(t,"plotly_beforehover",e)||(n._hoverlayer.selectAll("g").remove(),n._hoverlayer.selectAll("line").remove(),n._hoverlayer.selectAll("circle").remove(),t._hoverdata=void 0,e.target&&i&&t.emit("plotly_unhover",{event:e,points:i}))}},{"../../lib/events":156,"../../lib/get_graph_div":161,"../../lib/throttle":185,"../fx/constants":80}],67:[function(t,e,n){"use strict";n.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"}},{}],68:[function(t,e,n){"use strict";var r=t("d3"),i=t("fast-isnumeric"),o=t("tinycolor2"),a=t("../../registry"),l=t("../color"),s=t("../colorscale"),u=t("../../lib"),c=t("../../lib/svg_text_utils"),d=t("../../constants/xmlns_namespaces"),f=t("../../constants/alignment").LINE_SPACING,h=t("../../constants/interactions").DESELECTDIM,p=t("../../traces/scatter/subtypes"),g=t("../../traces/scatter/make_bubble_size_func"),m=e.exports={};m.font=function(t,e,n,r){u.isPlainObject(e)&&(r=e.color,n=e.size,e=e.family),e&&t.style("font-family",e),n+1&&t.style("font-size",n+"px"),r&&t.call(l.fill,r)},m.setPosition=function(t,e,n){t.attr("x",e).attr("y",n)},m.setSize=function(t,e,n){t.attr("width",e).attr("height",n)},m.setRect=function(t,e,n,r,i){t.call(m.setPosition,e,n).call(m.setSize,r,i)},m.translatePoint=function(t,e,n,r){var o=n.c2p(t.x),a=r.c2p(t.y);return!!(i(o)&&i(a)&&e.node())&&("text"===e.node().nodeName?e.attr("x",o).attr("y",a):e.attr("transform","translate("+o+","+a+")"),!0)},m.translatePoints=function(t,e,n){t.each(function(t){var i=r.select(this);m.translatePoint(t,i,e,n)})},m.hideOutsideRangePoint=function(t,e,n,r,i,o){e.attr("display",n.isPtWithinRange(t,i)&&r.isPtWithinRange(t,o)?null:"none")},m.hideOutsideRangePoints=function(t,e){if(e._hasClipOnAxisFalse){var n=e.xaxis,i=e.yaxis;t.each(function(e){var o=e[0].trace,a=o.xcalendar,l=o.ycalendar;t.selectAll("bar"===o.type?".bartext":".point,.textpoint").each(function(t){m.hideOutsideRangePoint(t,r.select(this),n,i,a,l)})})}},m.crispRound=function(t,e,n){return e&&i(e)?t._context.staticPlot?e:e<1?1:Math.round(e):n||0},m.singleLineStyle=function(t,e,n,r,i){e.style("fill","none");var o=(((t||[])[0]||{}).trace||{}).line||{},a=n||o.width||0,s=i||o.dash||"";l.stroke(e,r||o.color),m.dashLine(e,s,a)},m.lineGroupStyle=function(t,e,n,i){t.style("fill","none").each(function(t){var o=(((t||[])[0]||{}).trace||{}).line||{},a=e||o.width||0,s=i||o.dash||"";r.select(this).call(l.stroke,n||o.color).call(m.dashLine,s,a)})},m.dashLine=function(t,e,n){e=m.dashStyle(e,n=+n||0),t.style({"stroke-dasharray":e,"stroke-width":n+"px"})},m.dashStyle=function(t,e){e=+e||1;var n=Math.max(e,3);return"solid"===t?t="":"dot"===t?t=n+"px,"+n+"px":"dash"===t?t=3*n+"px,"+3*n+"px":"longdash"===t?t=5*n+"px,"+5*n+"px":"dashdot"===t?t=3*n+"px,"+n+"px,"+n+"px,"+n+"px":"longdashdot"===t&&(t=5*n+"px,"+2*n+"px,"+n+"px,"+2*n+"px"),t},m.singleFillStyle=function(t){var e=(((r.select(t.node()).data()[0]||[])[0]||{}).trace||{}).fillcolor;e&&t.call(l.fill,e)},m.fillGroupStyle=function(t){t.style("stroke-width",0).each(function(e){var n=r.select(this);try{n.call(l.fill,e[0].trace.fillcolor)}catch(e){u.error(e,t),n.remove()}})};var y=t("./symbol_defs");m.symbolNames=[],m.symbolFuncs=[],m.symbolNeedLines={},m.symbolNoDot={},m.symbolNoFill={},m.symbolList=[],Object.keys(y).forEach(function(t){var e=y[t];m.symbolList=m.symbolList.concat([e.n,t,e.n+100,t+"-open"]),m.symbolNames[e.n]=t,m.symbolFuncs[e.n]=e.f,e.needLine&&(m.symbolNeedLines[e.n]=!0),e.noDot?m.symbolNoDot[e.n]=!0:m.symbolList=m.symbolList.concat([e.n+200,t+"-dot",e.n+300,t+"-open-dot"]),e.noFill&&(m.symbolNoFill[e.n]=!0)});var v=m.symbolNames.length,b="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";function _(t,e){return m.symbolFuncs[t%100](e)+(t>=200?b:"")}m.symbolNumber=function(t){if("string"==typeof t){var e=0;t.indexOf("-open")>0&&(e=100,t=t.replace("-open","")),t.indexOf("-dot")>0&&(e+=200,t=t.replace("-dot","")),(t=m.symbolNames.indexOf(t))>=0&&(t+=e)}return t%100>=v||t>=400?0:Math.floor(Math.max(t,0))};var x={x1:1,x2:0,y1:0,y2:0},w={x1:0,x2:0,y1:1,y2:0};m.gradient=function(t,e,n,i,a,s){var c=e._fullLayout._defs.select(".gradients").selectAll("#"+n).data([i+a+s],u.identity);c.exit().remove(),c.enter().append("radial"===i?"radialGradient":"linearGradient").each(function(){var t=r.select(this);"horizontal"===i?t.attr(x):"vertical"===i&&t.attr(w),t.attr("id",n);var e=o(a),u=o(s);t.append("stop").attr({offset:"0%","stop-color":l.tinyRGB(u),"stop-opacity":u.getAlpha()}),t.append("stop").attr({offset:"100%","stop-color":l.tinyRGB(e),"stop-opacity":e.getAlpha()})}),t.style({fill:"url(#"+n+")","fill-opacity":null})},m.initGradients=function(t){u.ensureSingle(t._fullLayout._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove()},m.pointStyle=function(t,e,n){if(t.size()){var i=m.makePointStyleFns(e);t.each(function(t){m.singlePointStyle(t,r.select(this),e,i,n)})}},m.singlePointStyle=function(t,e,n,r,i){var o=n.marker,a=o.line;if(e.style("opacity",r.selectedOpacityFn?r.selectedOpacityFn(t):void 0===t.mo?o.opacity:t.mo),r.ms2mrc){var s;s="various"===t.ms||"various"===o.size?3:r.ms2mrc(t.ms),t.mrc=s,r.selectedSizeFn&&(s=t.mrc=r.selectedSizeFn(t));var c=m.symbolNumber(t.mx||o.symbol)||0;t.om=c%200>=100,e.attr("d",_(c,s))}var d,f,h,p=!1;if(t.so?(h=a.outlierwidth,f=a.outliercolor,d=o.outliercolor):(h=(t.mlw+1||a.width+1||(t.trace?t.trace.marker.line.width:0)+1)-1,f="mlc"in t?t.mlcc=r.lineScale(t.mlc):u.isArrayOrTypedArray(a.color)?l.defaultLine:a.color,u.isArrayOrTypedArray(o.color)&&(d=l.defaultLine,p=!0),d="mc"in t?t.mcc=r.markerScale(t.mc):o.color||"rgba(0,0,0,0)",r.selectedColorFn&&(d=r.selectedColorFn(t))),t.om)e.call(l.stroke,d).style({"stroke-width":(h||1)+"px",fill:"none"});else{e.style("stroke-width",h+"px");var g=o.gradient,y=t.mgt;if(y?p=!0:y=g&&g.type,y&&"none"!==y){var v=t.mgc;v?p=!0:v=g.color;var b="g"+i._fullLayout._uid+"-"+n.uid;p&&(b+="-"+t.i),e.call(m.gradient,i,b,y,d,v)}else e.call(l.fill,d);h&&e.call(l.stroke,f)}},m.makePointStyleFns=function(t){var e={},n=t.marker;return e.markerScale=m.tryColorscale(n,""),e.lineScale=m.tryColorscale(n,"line"),a.traceIs(t,"symbols")&&(e.ms2mrc=p.isBubble(t)?g(t):function(){return(n.size||6)/2}),t.selectedpoints&&u.extendFlat(e,m.makeSelectedPointStyleFns(t)),e},m.makeSelectedPointStyleFns=function(t){var e={},n=t.marker||{},r=(t.selected||{}).marker||{},i=(t.unselected||{}).marker||{},o=r.opacity,l=i.opacity,s=void 0!==o,c=void 0!==l;(u.isArrayOrTypedArray(n.opacity)||s||c)&&(e.selectedOpacityFn=function(t){var e=void 0===t.mo?n.opacity:t.mo;return t.selected?s?o:e:c?l:h*e});var d=n.color,f=r.color,p=i.color;(f||p)&&(e.selectedColorFn=function(t){var e=t.mcc||d;return t.selected?f||e:p||e});var g=n.size,m=r.size,y=i.size,v=void 0!==m,b=void 0!==y;return a.traceIs(t,"symbols")&&(v||b)&&(e.selectedSizeFn=function(t){var e=t.mrc||g/2;return t.selected?v?m/2:e:b?y/2:e}),e},m.makeSelectedTextStyleFns=function(t){var e={},n=(t.textfont||{}).color,r=((t.selected||{}).textfont||{}).color,i=((t.unselected||{}).textfont||{}).color;return e.selectedTextColorFn=function(t){var e=t.tc||n;return t.selected?r||e:i||(r?e:l.addOpacity(e,h))},e},m.selectedPointStyle=function(t,e){if(t.size()&&e.selectedpoints){var n=m.makeSelectedPointStyleFns(e),i=e.marker||{},o=[];n.selectedOpacityFn&&o.push(function(t,e){t.style("opacity",n.selectedOpacityFn(e))}),n.selectedColorFn&&o.push(function(t,e){l.fill(t,n.selectedColorFn(e))}),n.selectedSizeFn&&o.push(function(t,e){var r=e.mx||i.symbol||0,o=n.selectedSizeFn(e);t.attr("d",_(m.symbolNumber(r),o)),e.mrc2=o}),o.length&&t.each(function(t){for(var e=r.select(this),n=0;n<o.length;n++)o[n](e,t)})}},m.tryColorscale=function(t,e){var n=e?u.nestedProperty(t,e).get():t,r=n.colorscale;return r&&u.isArrayOrTypedArray(n.color)?s.makeColorScaleFunc(s.extractScale(r,n.cmin,n.cmax)):u.identity};var k={start:1,end:-1,middle:0,bottom:1,top:-1};function T(t,e,n,i){var o=r.select(t.node().parentNode),a=-1!==e.indexOf("top")?"top":-1!==e.indexOf("bottom")?"bottom":"middle",l=-1!==e.indexOf("left")?"end":-1!==e.indexOf("right")?"start":"middle",s=i?i/.8+1:0,u=(c.lineCount(t)-1)*f+1,d=k[l]*s,h=.75*n+k[a]*s+(k[a]-1)*u*n/2;t.attr("text-anchor",l),o.attr("transform","translate("+d+","+h+")")}function C(t,e){var n=t.ts||e.textfont.size;return i(n)&&n>0?n:0}m.textPointStyle=function(t,e,n){if(t.size()){var i;if(e.selectedpoints){var o=m.makeSelectedTextStyleFns(e);i=o.selectedTextColorFn}t.each(function(t){var o=r.select(this),a=u.extractOption(t,e,"tx","text");if(a){var l=t.tp||e.textposition,s=C(t,e),d=i?i(t):t.tc||e.textfont.color;o.call(m.font,t.tf||e.textfont.family,s,d).text(a).call(c.convertToTspans,n).call(T,l,s,t.mrc)}else o.remove()})}},m.selectedTextStyle=function(t,e){if(t.size()&&e.selectedpoints){var n=m.makeSelectedTextStyleFns(e);t.each(function(t){var i=r.select(this),o=n.selectedTextColorFn(t),a=t.tp||e.textposition,s=C(t,e);l.fill(i,o),T(i,a,s,t.mrc2||t.mrc)})}};var A=.5;function M(t,e,n,i){var o=t[0]-e[0],a=t[1]-e[1],l=n[0]-e[0],s=n[1]-e[1],u=Math.pow(o*o+a*a,A/2),c=Math.pow(l*l+s*s,A/2),d=(c*c*o-u*u*l)*i,f=(c*c*a-u*u*s)*i,h=3*c*(u+c),p=3*u*(u+c);return[[r.round(e[0]+(h&&d/h),2),r.round(e[1]+(h&&f/h),2)],[r.round(e[0]-(p&&d/p),2),r.round(e[1]-(p&&f/p),2)]]}m.smoothopen=function(t,e){if(t.length<3)return"M"+t.join("L");var n,r="M"+t[0],i=[];for(n=1;n<t.length-1;n++)i.push(M(t[n-1],t[n],t[n+1],e));for(r+="Q"+i[0][0]+" "+t[1],n=2;n<t.length-1;n++)r+="C"+i[n-2][1]+" "+i[n-1][0]+" "+t[n];return r+"Q"+i[t.length-3][1]+" "+t[t.length-1]},m.smoothclosed=function(t,e){if(t.length<3)return"M"+t.join("L")+"Z";var n,r="M"+t[0],i=t.length-1,o=[M(t[i],t[0],t[1],e)];for(n=1;n<i;n++)o.push(M(t[n-1],t[n],t[n+1],e));for(o.push(M(t[i-1],t[i],t[0],e)),n=1;n<=i;n++)r+="C"+o[n-1][1]+" "+o[n][0]+" "+t[n];return r+"C"+o[i][1]+" "+o[0][0]+" "+t[0]+"Z"};var S={hv:function(t,e){return"H"+r.round(e[0],2)+"V"+r.round(e[1],2)},vh:function(t,e){return"V"+r.round(e[1],2)+"H"+r.round(e[0],2)},hvh:function(t,e){return"H"+r.round((t[0]+e[0])/2,2)+"V"+r.round(e[1],2)+"H"+r.round(e[0],2)},vhv:function(t,e){return"V"+r.round((t[1]+e[1])/2,2)+"H"+r.round(e[0],2)+"V"+r.round(e[1],2)}},E=function(t,e){return"L"+r.round(e[0],2)+","+r.round(e[1],2)};m.steps=function(t){var e=S[t]||E;return function(t){for(var n="M"+r.round(t[0][0],2)+","+r.round(t[0][1],2),i=1;i<t.length;i++)n+=e(t[i-1],t[i]);return n}},m.makeTester=function(){var t=u.ensureSingleById(r.select("body"),"svg","js-plotly-tester",function(t){t.attr(d.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),e=u.ensureSingle(t,"path","js-reference-point",function(t){t.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});m.tester=t,m.testref=e},m.savedBBoxes={};var O=0;function P(t){var e=t.getAttribute("data-unformatted");if(null!==e)return e+t.getAttribute("data-math")+t.getAttribute("text-anchor")+t.getAttribute("style")}m.bBox=function(t,e,n){var i,o,a;if(n||(n=P(t)),n){if(i=m.savedBBoxes[n])return u.extendFlat({},i)}else if(1===t.childNodes.length){var l=t.childNodes[0];if(n=P(l)){var s=+l.getAttribute("x")||0,d=+l.getAttribute("y")||0,f=l.getAttribute("transform");if(!f){var h=m.bBox(l,!1,n);return s&&(h.left+=s,h.right+=s),d&&(h.top+=d,h.bottom+=d),h}if(i=m.savedBBoxes[n+="~"+s+"~"+d+"~"+f])return u.extendFlat({},i)}}e?o=t:(a=m.tester.node(),o=t.cloneNode(!0),a.appendChild(o)),r.select(o).attr("transform",null).call(c.positionText,0,0);var p=o.getBoundingClientRect(),g=m.testref.node().getBoundingClientRect();e||a.removeChild(o);var y={height:p.height,width:p.width,left:p.left-g.left,top:p.top-g.top,right:p.right-g.left,bottom:p.bottom-g.top};return O>=1e4&&(m.savedBBoxes={},O=0),n&&(m.savedBBoxes[n]=y),O++,u.extendFlat({},y)},m.setClipUrl=function(t,e){if(e){if(void 0===m.baseUrl){var n=r.select("base");m.baseUrl=n.size()&&n.attr("href")?window.location.href.split("#")[0]:""}t.attr("clip-path","url("+m.baseUrl+"#"+e+")")}else t.attr("clip-path",null)},m.getTranslate=function(t){var e=(t[t.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(t,e,n){return[e,n].join(" ")}).split(" ");return{x:+e[0]||0,y:+e[1]||0}},m.setTranslate=function(t,e,n){var r=t.attr?"attr":"setAttribute",i=t[t.attr?"attr":"getAttribute"]("transform")||"";return e=e||0,n=n||0,i=i.replace(/(\btranslate\(.*?\);?)/,"").trim(),i=(i+=" translate("+e+", "+n+")").trim(),t[r]("transform",i),i},m.getScale=function(t){var e=(t[t.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(t,e,n){return[e,n].join(" ")}).split(" ");return{x:+e[0]||1,y:+e[1]||1}},m.setScale=function(t,e,n){var r=t.attr?"attr":"setAttribute",i=t[t.attr?"attr":"getAttribute"]("transform")||"";return e=e||1,n=n||1,i=i.replace(/(\bscale\(.*?\);?)/,"").trim(),i=(i+=" scale("+e+", "+n+")").trim(),t[r]("transform",i),i};var I=/\s*sc.*/;m.setPointGroupScale=function(t,e,n){if(e=e||1,n=n||1,t){var r=1===e&&1===n?"":" scale("+e+","+n+")";t.each(function(){var t=(this.getAttribute("transform")||"").replace(I,"");t=(t+=r).trim(),this.setAttribute("transform",t)})}};var D=/translate\([^)]*\)\s*$/;m.setTextPointsScale=function(t,e,n){t&&t.each(function(){var t,i=r.select(this),o=i.select("text");if(o.node()){var a=parseFloat(o.attr("x")||0),l=parseFloat(o.attr("y")||0),s=(i.attr("transform")||"").match(D);t=1===e&&1===n?[]:["translate("+a+","+l+")","scale("+e+","+n+")","translate("+-a+","+-l+")"],s&&t.push(s),i.attr("transform",t.join(" "))}})}},{"../../constants/alignment":143,"../../constants/interactions":144,"../../constants/xmlns_namespaces":147,"../../lib":163,"../../lib/svg_text_utils":184,"../../registry":245,"../../traces/scatter/make_bubble_size_func":298,"../../traces/scatter/subtypes":303,"../color":43,"../colorscale":58,"./symbol_defs":69,d3:7,"fast-isnumeric":10,tinycolor2:25}],69:[function(t,e,n){"use strict";var r=t("d3");e.exports={circle:{n:0,f:function(t){var e=r.round(t,2);return"M"+e+",0A"+e+","+e+" 0 1,1 0,-"+e+"A"+e+","+e+" 0 0,1 "+e+",0Z"}},square:{n:1,f:function(t){var e=r.round(t,2);return"M"+e+","+e+"H-"+e+"V-"+e+"H"+e+"Z"}},diamond:{n:2,f:function(t){var e=r.round(1.3*t,2);return"M"+e+",0L0,"+e+"L-"+e+",0L0,-"+e+"Z"}},cross:{n:3,f:function(t){var e=r.round(.4*t,2),n=r.round(1.2*t,2);return"M"+n+","+e+"H"+e+"V"+n+"H-"+e+"V"+e+"H-"+n+"V-"+e+"H-"+e+"V-"+n+"H"+e+"V-"+e+"H"+n+"Z"}},x:{n:4,f:function(t){var e=r.round(.8*t/Math.sqrt(2),2),n="l"+e+","+e,i="l"+e+",-"+e,o="l-"+e+",-"+e,a="l-"+e+","+e;return"M0,"+e+n+i+o+i+o+a+o+a+n+a+n+"Z"}},"triangle-up":{n:5,f:function(t){var e=r.round(2*t/Math.sqrt(3),2);return"M-"+e+","+r.round(t/2,2)+"H"+e+"L0,-"+r.round(t,2)+"Z"}},"triangle-down":{n:6,f:function(t){var e=r.round(2*t/Math.sqrt(3),2);return"M-"+e+",-"+r.round(t/2,2)+"H"+e+"L0,"+r.round(t,2)+"Z"}},"triangle-left":{n:7,f:function(t){var e=r.round(2*t/Math.sqrt(3),2);return"M"+r.round(t/2,2)+",-"+e+"V"+e+"L-"+r.round(t,2)+",0Z"}},"triangle-right":{n:8,f:function(t){var e=r.round(2*t/Math.sqrt(3),2);return"M-"+r.round(t/2,2)+",-"+e+"V"+e+"L"+r.round(t,2)+",0Z"}},"triangle-ne":{n:9,f:function(t){var e=r.round(.6*t,2),n=r.round(1.2*t,2);return"M-"+n+",-"+e+"H"+e+"V"+n+"Z"}},"triangle-se":{n:10,f:function(t){var e=r.round(.6*t,2),n=r.round(1.2*t,2);return"M"+e+",-"+n+"V"+e+"H-"+n+"Z"}},"triangle-sw":{n:11,f:function(t){var e=r.round(.6*t,2),n=r.round(1.2*t,2);return"M"+n+","+e+"H-"+e+"V-"+n+"Z"}},"triangle-nw":{n:12,f:function(t){var e=r.round(.6*t,2),n=r.round(1.2*t,2);return"M-"+e+","+n+"V-"+e+"H"+n+"Z"}},pentagon:{n:13,f:function(t){var e=r.round(.951*t,2),n=r.round(.588*t,2),i=r.round(-t,2),o=r.round(-.309*t,2);return"M"+e+","+o+"L"+n+","+r.round(.809*t,2)+"H-"+n+"L-"+e+","+o+"L0,"+i+"Z"}},hexagon:{n:14,f:function(t){var e=r.round(t,2),n=r.round(t/2,2),i=r.round(t*Math.sqrt(3)/2,2);return"M"+i+",-"+n+"V"+n+"L0,"+e+"L-"+i+","+n+"V-"+n+"L0,-"+e+"Z"}},hexagon2:{n:15,f:function(t){var e=r.round(t,2),n=r.round(t/2,2),i=r.round(t*Math.sqrt(3)/2,2);return"M-"+n+","+i+"H"+n+"L"+e+",0L"+n+",-"+i+"H-"+n+"L-"+e+",0Z"}},octagon:{n:16,f:function(t){var e=r.round(.924*t,2),n=r.round(.383*t,2);return"M-"+n+",-"+e+"H"+n+"L"+e+",-"+n+"V"+n+"L"+n+","+e+"H-"+n+"L-"+e+","+n+"V-"+n+"Z"}},star:{n:17,f:function(t){var e=1.4*t,n=r.round(.225*e,2),i=r.round(.951*e,2),o=r.round(.363*e,2),a=r.round(.588*e,2),l=r.round(-e,2),s=r.round(-.309*e,2),u=r.round(.118*e,2),c=r.round(.809*e,2);return"M"+n+","+s+"H"+i+"L"+o+","+u+"L"+a+","+c+"L0,"+r.round(.382*e,2)+"L-"+a+","+c+"L-"+o+","+u+"L-"+i+","+s+"H-"+n+"L0,"+l+"Z"}},hexagram:{n:18,f:function(t){var e=r.round(.66*t,2),n=r.round(.38*t,2),i=r.round(.76*t,2);return"M-"+i+",0l-"+n+",-"+e+"h"+i+"l"+n+",-"+e+"l"+n+","+e+"h"+i+"l-"+n+","+e+"l"+n+","+e+"h-"+i+"l-"+n+","+e+"l-"+n+",-"+e+"h-"+i+"Z"}},"star-triangle-up":{n:19,f:function(t){var e=r.round(t*Math.sqrt(3)*.8,2),n=r.round(.8*t,2),i=r.round(1.6*t,2),o=r.round(4*t,2),a="A "+o+","+o+" 0 0 1 ";return"M-"+e+","+n+a+e+","+n+a+"0,-"+i+a+"-"+e+","+n+"Z"}},"star-triangle-down":{n:20,f:function(t){var e=r.round(t*Math.sqrt(3)*.8,2),n=r.round(.8*t,2),i=r.round(1.6*t,2),o=r.round(4*t,2),a="A "+o+","+o+" 0 0 1 ";return"M"+e+",-"+n+a+"-"+e+",-"+n+a+"0,"+i+a+e+",-"+n+"Z"}},"star-square":{n:21,f:function(t){var e=r.round(1.1*t,2),n=r.round(2*t,2),i="A "+n+","+n+" 0 0 1 ";return"M-"+e+",-"+e+i+"-"+e+","+e+i+e+","+e+i+e+",-"+e+i+"-"+e+",-"+e+"Z"}},"star-diamond":{n:22,f:function(t){var e=r.round(1.4*t,2),n=r.round(1.9*t,2),i="A "+n+","+n+" 0 0 1 ";return"M-"+e+",0"+i+"0,"+e+i+e+",0"+i+"0,-"+e+i+"-"+e+",0Z"}},"diamond-tall":{n:23,f:function(t){var e=r.round(.7*t,2),n=r.round(1.4*t,2);return"M0,"+n+"L"+e+",0L0,-"+n+"L-"+e+",0Z"}},"diamond-wide":{n:24,f:function(t){var e=r.round(1.4*t,2),n=r.round(.7*t,2);return"M0,"+n+"L"+e+",0L0,-"+n+"L-"+e+",0Z"}},hourglass:{n:25,f:function(t){var e=r.round(t,2);return"M"+e+","+e+"H-"+e+"L"+e+",-"+e+"H-"+e+"Z"},noDot:!0},bowtie:{n:26,f:function(t){var e=r.round(t,2);return"M"+e+","+e+"V-"+e+"L-"+e+","+e+"V-"+e+"Z"},noDot:!0},"circle-cross":{n:27,f:function(t){var e=r.round(t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e+"M"+e+",0A"+e+","+e+" 0 1,1 0,-"+e+"A"+e+","+e+" 0 0,1 "+e+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(t){var e=r.round(t,2),n=r.round(t/Math.sqrt(2),2);return"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n+"M"+e+",0A"+e+","+e+" 0 1,1 0,-"+e+"A"+e+","+e+" 0 0,1 "+e+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(t){var e=r.round(t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e+"M"+e+","+e+"H-"+e+"V-"+e+"H"+e+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(t){var e=r.round(t,2);return"M"+e+","+e+"L-"+e+",-"+e+"M"+e+",-"+e+"L-"+e+","+e+"M"+e+","+e+"H-"+e+"V-"+e+"H"+e+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(t){var e=r.round(1.3*t,2);return"M"+e+",0L0,"+e+"L-"+e+",0L0,-"+e+"ZM0,-"+e+"V"+e+"M-"+e+",0H"+e},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(t){var e=r.round(1.3*t,2),n=r.round(.65*t,2);return"M"+e+",0L0,"+e+"L-"+e+",0L0,-"+e+"ZM-"+n+",-"+n+"L"+n+","+n+"M-"+n+","+n+"L"+n+",-"+n},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(t){var e=r.round(1.4*t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(t){var e=r.round(t,2);return"M"+e+","+e+"L-"+e+",-"+e+"M"+e+",-"+e+"L-"+e+","+e},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(t){var e=r.round(1.2*t,2),n=r.round(.85*t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e+"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(t){var e=r.round(t/2,2),n=r.round(t,2);return"M"+e+","+n+"V-"+n+"m-"+n+",0V"+n+"M"+n+","+e+"H-"+n+"m0,-"+n+"H"+n},needLine:!0,noFill:!0},"y-up":{n:37,f:function(t){var e=r.round(1.2*t,2),n=r.round(1.6*t,2),i=r.round(.8*t,2);return"M-"+e+","+i+"L0,0M"+e+","+i+"L0,0M0,-"+n+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(t){var e=r.round(1.2*t,2),n=r.round(1.6*t,2),i=r.round(.8*t,2);return"M-"+e+",-"+i+"L0,0M"+e+",-"+i+"L0,0M0,"+n+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(t){var e=r.round(1.2*t,2),n=r.round(1.6*t,2),i=r.round(.8*t,2);return"M"+i+","+e+"L0,0M"+i+",-"+e+"L0,0M-"+n+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(t){var e=r.round(1.2*t,2),n=r.round(1.6*t,2),i=r.round(.8*t,2);return"M-"+i+","+e+"L0,0M-"+i+",-"+e+"L0,0M"+n+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(t){var e=r.round(1.4*t,2);return"M"+e+",0H-"+e},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(t){var e=r.round(1.4*t,2);return"M0,"+e+"V-"+e},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(t){var e=r.round(t,2);return"M"+e+",-"+e+"L-"+e+","+e},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(t){var e=r.round(t,2);return"M"+e+","+e+"L-"+e+",-"+e},needLine:!0,noDot:!0,noFill:!0}}},{d3:7}],70:[function(t,e,n){"use strict";e.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},{}],71:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("../../registry"),o=t("../../plots/cartesian/axes"),a=t("./compute_error");function l(t,e,n,i){var l=e["error_"+i]||{},s=[];if(l.visible&&-1!==["linear","log"].indexOf(n.type)){for(var u=a(l),c=0;c<t.length;c++){var d=t[c],f=d[i];if(r(n.c2l(f))){var h=u(f,c);if(r(h[0])&&r(h[1])){var p=d[i+"s"]=f-h[0],g=d[i+"h"]=f+h[1];s.push(p,g)}}}o.expand(n,s,{padded:!0})}}e.exports=function(t){for(var e=t.calcdata,n=0;n<e.length;n++){var r=e[n],a=r[0].trace;if(i.traceIs(a,"errorBarsOK")){var s=o.getFromId(t,a.xaxis),u=o.getFromId(t,a.yaxis);l(r,a,s,"x"),l(r,a,u,"y")}}}},{"../../plots/cartesian/axes":205,"../../registry":245,"./compute_error":72,"fast-isnumeric":10}],72:[function(t,e,n){"use strict";function r(t,e){return"percent"===t?function(t){return Math.abs(t*e/100)}:"constant"===t?function(){return Math.abs(e)}:"sqrt"===t?function(t){return Math.sqrt(Math.abs(t))}:void 0}e.exports=function(t){var e=t.type,n=t.symmetric;if("data"===e){var i=t.array||[];if(n)return function(t,e){var n=+i[e];return[n,n]};var o=t.arrayminus||[];return function(t,e){var n=+i[e],r=+o[e];return isNaN(n)&&isNaN(r)?[NaN,NaN]:[r||0,n||0]}}var a=r(e,t.value),l=r(e,t.valueminus);return n||void 0===t.valueminus?function(t){var e=a(t);return[e,e]}:function(t){return[l(t),a(t)]}}},{}],73:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("../../registry"),o=t("../../lib"),a=t("./attributes");e.exports=function(t,e,n,l){var s="error_"+l.axis,u=e[s]={},c=t[s]||{};function d(t,e){return o.coerce(c,u,a,t,e)}if(!1!==d("visible",void 0!==c.array||void 0!==c.value||"sqrt"===c.type)){var f=d("type","array"in c?"data":"percent"),h=!0;"sqrt"!==f&&(h=d("symmetric",!(("data"===f?"arrayminus":"valueminus")in c))),"data"===f?(d("array"),d("traceref"),h||(d("arrayminus"),d("tracerefminus"))):"percent"!==f&&"constant"!==f||(d("value"),h||d("valueminus"));var p="copy_"+l.inherit+"style";l.inherit&&(e["error_"+l.inherit]||{}).visible&&d(p,!(c.color||r(c.thickness)||r(c.width))),l.inherit&&u[p]||(d("color",n),d("thickness"),d("width",i.traceIs(e,"gl3d")?0:4))}}},{"../../lib":163,"../../registry":245,"./attributes":70,"fast-isnumeric":10}],74:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../plot_api/edit_types").overrideAll,o=t("./attributes"),a={error_x:r.extendFlat({},o),error_y:r.extendFlat({},o)};delete a.error_x.copy_zstyle,delete a.error_y.copy_zstyle,delete a.error_y.copy_ystyle;var l={error_x:r.extendFlat({},o),error_y:r.extendFlat({},o),error_z:r.extendFlat({},o)};delete l.error_x.copy_ystyle,delete l.error_y.copy_ystyle,delete l.error_z.copy_ystyle,delete l.error_z.copy_zstyle,e.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:a,bar:a,histogram:a,scatter3d:i(l,"calc","nested"),scattergl:i(a,"calc","nested")}},supplyDefaults:t("./defaults"),calc:t("./calc"),makeComputeError:t("./compute_error"),plot:t("./plot"),style:t("./style"),hoverInfo:function(t,e,n){(e.error_y||{}).visible&&(n.yerr=t.yh-t.y,e.error_y.symmetric||(n.yerrneg=t.y-t.ys)),(e.error_x||{}).visible&&(n.xerr=t.xh-t.x,e.error_x.symmetric||(n.xerrneg=t.x-t.xs))}}},{"../../lib":163,"../../plot_api/edit_types":190,"./attributes":70,"./calc":71,"./compute_error":72,"./defaults":73,"./plot":75,"./style":76}],75:[function(t,e,n){"use strict";var r=t("d3"),i=t("fast-isnumeric"),o=t("../drawing"),a=t("../../traces/scatter/subtypes");e.exports=function(t,e,n){var l=e.xaxis,s=e.yaxis,u=n&&n.duration>0;t.each(function(t){var c,d=t[0].trace,f=d.error_x||{},h=d.error_y||{};d.ids&&(c=function(t){return t.id});var p=a.hasMarkers(d)&&d.marker.maxdisplayed>0;h.visible||f.visible||(t=[]);var g=r.select(this).selectAll("g.errorbar").data(t,c);if(g.exit().remove(),t.length){f.visible||g.selectAll("path.xerror").remove(),h.visible||g.selectAll("path.yerror").remove(),g.style("opacity",1);var m=g.enter().append("g").classed("errorbar",!0);u&&m.style("opacity",0).transition().duration(n.duration).style("opacity",1),o.setClipUrl(g,e.layerClipId),g.each(function(t){var e=r.select(this),o=function(t,e,n){var r={x:e.c2p(t.x),y:n.c2p(t.y)};return void 0!==t.yh&&(r.yh=n.c2p(t.yh),r.ys=n.c2p(t.ys),i(r.ys)||(r.noYS=!0,r.ys=n.c2p(t.ys,!0))),void 0!==t.xh&&(r.xh=e.c2p(t.xh),r.xs=e.c2p(t.xs),i(r.xs)||(r.noXS=!0,r.xs=e.c2p(t.xs,!0))),r}(t,l,s);if(!p||t.vis){var a,c=e.select("path.yerror");if(h.visible&&i(o.x)&&i(o.yh)&&i(o.ys)){var d=h.width;a="M"+(o.x-d)+","+o.yh+"h"+2*d+"m-"+d+",0V"+o.ys,o.noYS||(a+="m-"+d+",0h"+2*d),c.size()?u&&(c=c.transition().duration(n.duration).ease(n.easing)):c=e.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0),c.attr("d",a)}else c.remove();var g=e.select("path.xerror");if(f.visible&&i(o.y)&&i(o.xh)&&i(o.xs)){var m=(f.copy_ystyle?h:f).width;a="M"+o.xh+","+(o.y-m)+"v"+2*m+"m0,-"+m+"H"+o.xs,o.noXS||(a+="m0,-"+m+"v"+2*m),g.size()?u&&(g=g.transition().duration(n.duration).ease(n.easing)):g=e.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0),g.attr("d",a)}else g.remove()}})}})}},{"../../traces/scatter/subtypes":303,"../drawing":68,d3:7,"fast-isnumeric":10}],76:[function(t,e,n){"use strict";var r=t("d3"),i=t("../color");e.exports=function(t){t.each(function(t){var e=t[0].trace,n=e.error_y||{},o=e.error_x||{},a=r.select(this);a.selectAll("path.yerror").style("stroke-width",n.thickness+"px").call(i.stroke,n.color),o.copy_ystyle&&(o=n),a.selectAll("path.xerror").style("stroke-width",o.thickness+"px").call(i.stroke,o.color)})}},{"../color":43,d3:7}],77:[function(t,e,n){"use strict";var r=t("../../plots/font_attributes");e.exports={hoverlabel:{bgcolor:{valType:"color",arrayOk:!0,editType:"none"},bordercolor:{valType:"color",arrayOk:!0,editType:"none"},font:r({arrayOk:!0,editType:"none"}),namelength:{valType:"integer",min:-1,arrayOk:!0,editType:"none"},editType:"calc"}}},{"../../plots/font_attributes":231}],78:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../registry");function o(t,e,n,i){i=i||r.identity,Array.isArray(t)&&(e[0][n]=i(t))}e.exports=function(t){var e=t.calcdata,n=t._fullLayout;function a(t){return function(e){return r.coerceHoverinfo({hoverinfo:e},{_module:t._module},n)}}for(var l=0;l<e.length;l++){var s=e[l],u=s[0].trace;if(!i.traceIs(u,"pie")){var c=i.traceIs(u,"2dMap")?o:r.fillArray;c(u.hoverinfo,s,"hi",a(u)),u.hoverlabel&&(c(u.hoverlabel.bgcolor,s,"hbg"),c(u.hoverlabel.bordercolor,s,"hbc"),c(u.hoverlabel.font.size,s,"hts"),c(u.hoverlabel.font.color,s,"htc"),c(u.hoverlabel.font.family,s,"htf"),c(u.hoverlabel.namelength,s,"hnl"))}}}},{"../../lib":163,"../../registry":245}],79:[function(t,e,n){"use strict";var r=t("../../registry"),i=t("./hover").hover;e.exports=function(t,e,n){var o=r.getComponentMethod("annotations","onClick")(t,t._hoverdata);function a(){t.emit("plotly_click",{points:t._hoverdata,event:e})}void 0!==n&&i(t,e,n,!0),t._hoverdata&&e&&e.target&&(o&&o.then?o.then(a):a(),e.stopImmediatePropagation&&e.stopImmediatePropagation())}},{"../../registry":245,"./hover":83}],80:[function(t,e,n){"use strict";e.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},{}],81:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("./attributes"),o=t("./hoverlabel_defaults");e.exports=function(t,e,n,a){o(t,e,function(n,o){return r.coerce(t,e,i,n,o)},a.hoverlabel)}},{"../../lib":163,"./attributes":77,"./hoverlabel_defaults":84}],82:[function(t,e,n){"use strict";var r=t("../../lib");n.getSubplot=function(t){return t.subplot||t.xaxis+t.yaxis||t.geo},n.isTraceInSubplots=function(t,e){if("splom"===t.type){for(var r=t.xaxes||[],i=t.yaxes||[],o=0;o<r.length;o++)for(var a=0;a<i.length;a++)if(-1!==e.indexOf(r[o]+i[a]))return!0;return!1}return-1!==e.indexOf(n.getSubplot(t))},n.flat=function(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)n[r]=e;return n},n.p2c=function(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)n[r]=t[r].p2c(e);return n},n.getDistanceFunction=function(t,e,r,i){return"closest"===t?i||n.quadrature(e,r):"x"===t?e:r},n.getClosest=function(t,e,n){if(!1!==n.index)n.index>=0&&n.index<t.length?n.distance=0:n.index=!1;else for(var r=0;r<t.length;r++){var i=e(t[r]);i<=n.distance&&(n.index=r,n.distance=i)}return n},n.inbox=function(t,e,n){return t*e<0||0===t?n:1/0},n.quadrature=function(t,e){return function(n){var r=t(n),i=e(n);return Math.sqrt(r*r+i*i)}},n.makeEventData=function(t,e,r){var i="index"in t?t.index:t.pointNumber,o={data:e._input,fullData:e,curveNumber:e.index,pointNumber:i};if(e._indexToPoints){var a=e._indexToPoints[i];1===a.length?o.pointIndex=a[0]:o.pointIndices=a}else o.pointIndex=i;return e._module.eventData?o=e._module.eventData(o,t,e,r,i):("xVal"in t?o.x=t.xVal:"x"in t&&(o.x=t.x),"yVal"in t?o.y=t.yVal:"y"in t&&(o.y=t.y),t.xa&&(o.xaxis=t.xa),t.ya&&(o.yaxis=t.ya),void 0!==t.zLabelVal&&(o.z=t.zLabelVal)),n.appendArrayPointValue(o,e,i),o},n.appendArrayPointValue=function(t,e,n){var i=e._arrayAttrs;if(i)for(var l=0;l<i.length;l++){var s=i[l],u=o(s);if(void 0===t[u]){var c=a(r.nestedProperty(e,s).get(),n);void 0!==c&&(t[u]=c)}}},n.appendArrayMultiPointValues=function(t,e,n){var i=e._arrayAttrs;if(i)for(var l=0;l<i.length;l++){var s=i[l],u=o(s);if(void 0===t[u]){for(var c=r.nestedProperty(e,s).get(),d=new Array(n.length),f=0;f<n.length;f++)d[f]=a(c,n[f]);t[u]=d}}};var i={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color"};function o(t){return i[t]||t}function a(t,e){return Array.isArray(e)?Array.isArray(t)&&Array.isArray(t[e[0]])?t[e[0]][e[1]]:void 0:t[e]}},{"../../lib":163}],83:[function(t,e,n){"use strict";var r=t("d3"),i=t("fast-isnumeric"),o=t("tinycolor2"),a=t("../../lib"),l=t("../../lib/events"),s=t("../../lib/svg_text_utils"),u=t("../../lib/override_cursor"),c=t("../drawing"),d=t("../color"),f=t("../dragelement"),h=t("../../plots/cartesian/axes"),p=t("../../registry"),g=t("./helpers"),m=t("./constants"),y=m.YANGLE,v=Math.PI*y/180,b=1/Math.sin(v),_=Math.cos(v),x=Math.sin(v),w=m.HOVERARROWSIZE,k=m.HOVERTEXTPAD;function T(t,e,n){var i=e.hovermode,o=e.rotateLabels,l=e.bgColor,u=e.container,f=e.outerContainer,h=e.commonLabelOpts||{},p=e.fontFamily||m.HOVERFONT,g=e.fontSize||m.HOVERFONTSIZE,v=t[0],b=v.xa,_=v.ya,x="y"===i?"yLabel":"xLabel",T=v[x],C=(String(T)||"").split(" ")[0],A=f.node().getBoundingClientRect(),M=A.top,S=A.width,E=A.height,O=void 0!==T&&v.distance<=e.hoverdistance&&("x"===i||"y"===i);if(O){var P,I,D=!0;for(P=0;P<t.length;P++){D&&void 0===t[P].zLabel&&(D=!1),I=t[P].hoverinfo||t[P].trace.hoverinfo;var L=Array.isArray(I)?I:I.split("+");if(-1===L.indexOf("all")&&-1===L.indexOf(i)){O=!1;break}}D&&(O=!1)}var R=u.selectAll("g.axistext").data(O?[0]:[]);R.enter().append("g").classed("axistext",!0),R.exit().remove(),R.each(function(){var e=r.select(this),o=a.ensureSingle(e,"path","",function(t){t.style({"stroke-width":"1px"})}),l=a.ensureSingle(e,"text","",function(t){t.attr("data-notex",1)}),u=h.bgcolor||d.defaultLine,f=h.bordercolor||d.contrast(u);o.style({fill:u,stroke:f}),l.text(T).call(c.font,h.font.family||p,h.font.size||g,h.font.color||d.background).call(s.positionText,0,0).call(s.convertToTspans,n),e.attr("transform","");var m=l.node().getBoundingClientRect();if("x"===i){l.attr("text-anchor","middle").call(s.positionText,0,"top"===b.side?M-m.bottom-w-k:M-m.top+w+k);var y="top"===b.side?"-":"";o.attr("d","M0,0L"+w+","+y+w+"H"+(k+m.width/2)+"v"+y+(2*k+m.height)+"H-"+(k+m.width/2)+"V"+y+w+"H-"+w+"Z"),e.attr("transform","translate("+(b._offset+(v.x0+v.x1)/2)+","+(_._offset+("top"===b.side?0:_._length))+")")}else{l.attr("text-anchor","right"===_.side?"start":"end").call(s.positionText,("right"===_.side?1:-1)*(k+w),M-m.top-m.height/2);var A="right"===_.side?"":"-";o.attr("d","M0,0L"+A+w+","+w+"V"+(k+m.height/2)+"h"+A+(2*k+m.width)+"V-"+(k+m.height/2)+"H"+A+w+"V-"+w+"Z"),e.attr("transform","translate("+(b._offset+("right"===_.side?b._length:0))+","+(_._offset+(v.y0+v.y1)/2)+")")}t=t.filter(function(t){return void 0!==t.zLabelVal||(t[x]||"").split(" ")[0]===C})});var N=u.selectAll("g.hovertext").data(t,function(t){return[t.trace.index,t.index,t.x0,t.y0,t.name,t.attr,t.xa,t.ya||""].join(",")});return N.enter().append("g").classed("hovertext",!0).each(function(){var t=r.select(this);t.append("rect").call(d.fill,d.addOpacity(l,.8)),t.append("text").classed("name",!0),t.append("path").style("stroke-width","1px"),t.append("text").classed("nums",!0).call(c.font,p,g)}),N.exit().remove(),N.each(function(t){var e=r.select(this).attr("transform",""),a="",u="",f=d.opacity(t.color)?t.color:d.defaultLine,h=d.combine(f,l),m=t.borderColor||d.contrast(h);if(void 0!==t.nameOverride&&(t.name=t.nameOverride),t.name){a=s.plainText(t.name||"");var v=Math.round(t.nameLength);v>-1&&a.length>v&&(a=v>3?a.substr(0,v-3)+"...":a.substr(0,v))}void 0!==t.zLabel?(void 0!==t.xLabel&&(u+="x: "+t.xLabel+"<br>"),void 0!==t.yLabel&&(u+="y: "+t.yLabel+"<br>"),u+=(u?"z: ":"")+t.zLabel):O&&t[i+"Label"]===T?u=t[("x"===i?"y":"x")+"Label"]||"":void 0===t.xLabel?void 0!==t.yLabel&&(u=t.yLabel):u=void 0===t.yLabel?t.xLabel:"("+t.xLabel+", "+t.yLabel+")",t.text&&!Array.isArray(t.text)&&(u+=(u?"<br>":"")+t.text),void 0!==t.extraText&&(u+=(u?"<br>":"")+t.extraText),""===u&&(""===a&&e.remove(),u=a);var b=e.select("text.nums").call(c.font,t.fontFamily||p,t.fontSize||g,t.fontColor||m).text(u).attr("data-notex",1).call(s.positionText,0,0).call(s.convertToTspans,n),_=e.select("text.name"),x=0;a&&a!==u?(_.call(c.font,t.fontFamily||p,t.fontSize||g,h).text(a).attr("data-notex",1).call(s.positionText,0,0).call(s.convertToTspans,n),x=_.node().getBoundingClientRect().width+2*k):(_.remove(),e.select("rect").remove()),e.select("path").style({fill:h,stroke:m});var C,A,P=b.node().getBoundingClientRect(),I=t.xa._offset+(t.x0+t.x1)/2,D=t.ya._offset+(t.y0+t.y1)/2,L=Math.abs(t.x1-t.x0),R=Math.abs(t.y1-t.y0),N=P.width+w+k+x;t.ty0=M-P.top,t.bx=P.width+2*k,t.by=P.height+2*k,t.anchor="start",t.txwidth=P.width,t.tx2width=x,t.offset=0,o?(t.pos=I,C=D+R/2+N<=E,A=D-R/2-N>=0,"top"!==t.idealAlign&&C||!A?C?(D+=R/2,t.anchor="start"):t.anchor="middle":(D-=R/2,t.anchor="end")):(t.pos=D,C=I+L/2+N<=S,A=I-L/2-N>=0,"left"!==t.idealAlign&&C||!A?C?(I+=L/2,t.anchor="start"):t.anchor="middle":(I-=L/2,t.anchor="end")),b.attr("text-anchor",t.anchor),x&&_.attr("text-anchor",t.anchor),e.attr("transform","translate("+I+","+D+")"+(o?"rotate("+y+")":""))}),N}function C(t,e){t.each(function(t){var n=r.select(this);if(t.del)n.remove();else{var i="end"===t.anchor?-1:1,o=n.select("text.nums"),a={start:1,end:-1,middle:0}[t.anchor],l=a*(w+k),u=l+a*(t.txwidth+k),d=0,f=t.offset;"middle"===t.anchor&&(l-=t.tx2width/2,u+=t.txwidth/2+k),e&&(f*=-x,d=t.offset*_),n.select("path").attr("d","middle"===t.anchor?"M-"+(t.bx/2+t.tx2width/2)+","+(f-t.by/2)+"h"+t.bx+"v"+t.by+"h-"+t.bx+"Z":"M0,0L"+(i*w+d)+","+(w+f)+"v"+(t.by/2-w)+"h"+i*t.bx+"v-"+t.by+"H"+(i*w+d)+"V"+(f-w)+"Z"),o.call(s.positionText,l+d,f+t.ty0-t.by/2+k),t.tx2width&&(n.select("text.name").call(s.positionText,u+a*k+d,f+t.ty0-t.by/2+k),n.select("rect").call(c.setRect,u+(a-1)*t.tx2width/2+d,f-t.by/2-1,t.tx2width,t.by+2))}})}function A(t,e){var n=t.index,r=t.trace||{},i=t.cd[0],o=t.cd[n]||{},l=Array.isArray(n)?function(t,e){return a.castOption(i,n,t)||a.extractOption({},r,"",e)}:function(t,e){return a.extractOption(o,r,t,e)};function s(e,n,r){var i=l(n,r);i&&(t[e]=i)}if(s("hoverinfo","hi","hoverinfo"),s("color","hbg","hoverlabel.bgcolor"),s("borderColor","hbc","hoverlabel.bordercolor"),s("fontFamily","htf","hoverlabel.font.family"),s("fontSize","hts","hoverlabel.font.size"),s("fontColor","htc","hoverlabel.font.color"),s("nameLength","hnl","hoverlabel.namelength"),t.posref="y"===e?t.xa._offset+(t.x0+t.x1)/2:t.ya._offset+(t.y0+t.y1)/2,t.x0=a.constrain(t.x0,0,t.xa._length),t.x1=a.constrain(t.x1,0,t.xa._length),t.y0=a.constrain(t.y0,0,t.ya._length),t.y1=a.constrain(t.y1,0,t.ya._length),void 0!==t.xLabelVal&&(t.xLabel="xLabel"in t?t.xLabel:h.hoverLabelText(t.xa,t.xLabelVal),t.xVal=t.xa.c2d(t.xLabelVal)),void 0!==t.yLabelVal&&(t.yLabel="yLabel"in t?t.yLabel:h.hoverLabelText(t.ya,t.yLabelVal),t.yVal=t.ya.c2d(t.yLabelVal)),void 0!==t.zLabelVal&&void 0===t.zLabel&&(t.zLabel=String(t.zLabelVal)),!(isNaN(t.xerr)||"log"===t.xa.type&&t.xerr<=0)){var u=h.tickText(t.xa,t.xa.c2l(t.xerr),"hover").text;t.xLabel+=void 0!==t.xerrneg?" +"+u+" / -"+h.tickText(t.xa,t.xa.c2l(t.xerrneg),"hover").text:" \xb1 "+u,"x"===e&&(t.distance+=1)}if(!(isNaN(t.yerr)||"log"===t.ya.type&&t.yerr<=0)){var c=h.tickText(t.ya,t.ya.c2l(t.yerr),"hover").text;t.yLabel+=void 0!==t.yerrneg?" +"+c+" / -"+h.tickText(t.ya,t.ya.c2l(t.yerrneg),"hover").text:" \xb1 "+c,"y"===e&&(t.distance+=1)}var d=t.hoverinfo||t.trace.hoverinfo;return"all"!==d&&(-1===(d=Array.isArray(d)?d:d.split("+")).indexOf("x")&&(t.xLabel=void 0),-1===d.indexOf("y")&&(t.yLabel=void 0),-1===d.indexOf("z")&&(t.zLabel=void 0),-1===d.indexOf("text")&&(t.text=void 0),-1===d.indexOf("name")&&(t.name=void 0)),t}function M(t,e){var n,r,i=e.container,a=e.fullLayout,l=e.event,s=!!t.hLinePoint,u=!!t.vLinePoint;if(i.selectAll(".spikeline").remove(),u||s){var f=d.combine(a.plot_bgcolor,a.paper_bgcolor);if(s){var h,p,g=t.hLinePoint;n=g&&g.xa,"cursor"===(r=g&&g.ya).spikesnap?(h=l.pointerX,p=l.pointerY):(h=n._offset+g.x,p=r._offset+g.y);var m,y,v=o.readability(g.color,f)<1.5?d.contrast(f):g.color,b=r.spikemode,_=r.spikethickness,x=r.spikecolor||v,w=r._boundingBox,k=(w.left+w.right)/2<h?w.right:w.left;-1===b.indexOf("toaxis")&&-1===b.indexOf("across")||(-1!==b.indexOf("toaxis")&&(m=k,y=h),-1!==b.indexOf("across")&&(m=r._counterSpan[0],y=r._counterSpan[1]),i.insert("line",":first-child").attr({x1:m,x2:y,y1:p,y2:p,"stroke-width":_,stroke:x,"stroke-dasharray":c.dashStyle(r.spikedash,_)}).classed("spikeline",!0).classed("crisp",!0),i.insert("line",":first-child").attr({x1:m,x2:y,y1:p,y2:p,"stroke-width":_+2,stroke:f}).classed("spikeline",!0).classed("crisp",!0)),-1!==b.indexOf("marker")&&i.insert("circle",":first-child").attr({cx:k+("right"!==r.side?_:-_),cy:p,r:_,fill:x}).classed("spikeline",!0)}if(u){var T,C,A=t.vLinePoint;n=A&&A.xa,r=A&&A.ya,"cursor"===n.spikesnap?(T=l.pointerX,C=l.pointerY):(T=n._offset+A.x,C=r._offset+A.y);var M,S,E=o.readability(A.color,f)<1.5?d.contrast(f):A.color,O=n.spikemode,P=n.spikethickness,I=n.spikecolor||E,D=n._boundingBox,L=(D.top+D.bottom)/2<C?D.bottom:D.top;-1===O.indexOf("toaxis")&&-1===O.indexOf("across")||(-1!==O.indexOf("toaxis")&&(M=L,S=C),-1!==O.indexOf("across")&&(M=n._counterSpan[0],S=n._counterSpan[1]),i.insert("line",":first-child").attr({x1:T,x2:T,y1:M,y2:S,"stroke-width":P,stroke:I,"stroke-dasharray":c.dashStyle(n.spikedash,P)}).classed("spikeline",!0).classed("crisp",!0),i.insert("line",":first-child").attr({x1:T,x2:T,y1:M,y2:S,"stroke-width":P+2,stroke:f}).classed("spikeline",!0).classed("crisp",!0)),-1!==O.indexOf("marker")&&i.insert("circle",":first-child").attr({cx:T,cy:L-("top"!==n.side?P:-P),r:P,fill:I}).classed("spikeline",!0)}}}function S(t,e){return!e||e.vLinePoint!==t._spikepoints.vLinePoint||e.hLinePoint!==t._spikepoints.hLinePoint}n.hover=function(t,e,n,o){t=a.getGraphDiv(t),a.throttle(t._fullLayout._uid+m.HOVERID,m.HOVERMINTIME,function(){!function(t,e,n,o){n||(n="xy");var s=Array.isArray(n)?n:[n],c=t._fullLayout,m=c._plots||[],y=m[n],v=c._has("cartesian");if(y){var _=y.overlays.map(function(t){return t.id});s=s.concat(_)}for(var x=s.length,w=new Array(x),k=new Array(x),E=!1,O=0;O<x;O++){var P=s[O],I=m[P];if(I)E=!0,w[O]=h.getFromId(t,I.xaxis._id),k[O]=h.getFromId(t,I.yaxis._id);else{var D=c[P]._subplot;w[O]=D.xaxis,k[O]=D.yaxis}}var L=e.hovermode||c.hovermode;if(L&&!E&&(L="closest"),-1===["x","y","closest"].indexOf(L)||!t.calcdata||t.querySelector(".zoombox")||t._dragging)return f.unhoverRaw(t,e);var R,N,F,z,j,V,B,H,q,U,G,W,Y,Z=-1===c.hoverdistance?1/0:c.hoverdistance,X=-1===c.spikedistance?1/0:c.spikedistance,Q=[],K=[],$={hLinePoint:null,vLinePoint:null};if(Array.isArray(e))for(L="array",F=0;F<e.length;F++)"skip"!==(j=t.calcdata[e[F].curveNumber||0])[0].trace.hoverinfo&&K.push(j);else{for(z=0;z<t.calcdata.length;z++)"skip"!==(V=(j=t.calcdata[z])[0].trace).hoverinfo&&g.isTraceInSubplots(V,s)&&K.push(j);var J,tt;if(e.target){if(!1===l.triggerHandler(t,"plotly_beforehover",e))return;var et=e.target.getBoundingClientRect();if(tt=e.clientY-et.top,(J=e.clientX-et.left)<0||J>w[0]._length||tt<0||tt>k[0]._length)return f.unhoverRaw(t,e)}else J="xpx"in e?e.xpx:w[0]._length/2,tt="ypx"in e?e.ypx:k[0]._length/2;if(e.pointerX=J+w[0]._offset,e.pointerY=tt+k[0]._offset,R="xval"in e?g.flat(s,e.xval):g.p2c(w,J),N="yval"in e?g.flat(s,e.yval):g.p2c(k,tt),!i(R[0])||!i(N[0]))return a.warn("Fx.hover failed",e,t),f.unhoverRaw(t,e)}var nt=1/0;for(z=0;z<K.length;z++)if((j=K[z])&&j[0]&&j[0].trace&&!0===j[0].trace.visible&&-1===["carpet","contourcarpet"].indexOf((V=j[0].trace)._module.name)){if("splom"===V.type?B=s[H=0]:(B=g.getSubplot(V),H=s.indexOf(B)),q=L,W={cd:j,trace:V,xa:w[H],ya:k[H],maxHoverDistance:Z,maxSpikeDistance:X,index:!1,distance:Math.min(nt,Z),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:d.defaultLine,name:V.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},c[B]&&(W.subplot=c[B]._subplot),Y=Q.length,"array"===q){var rt=e[z];"pointNumber"in rt?(W.index=rt.pointNumber,q="closest"):(q="","xval"in rt&&(U=rt.xval,q="x"),"yval"in rt&&(G=rt.yval,q=q?"closest":"y"))}else U=R[H],G=N[H];if(0!==Z)if(V._module&&V._module.hoverPoints){var it=V._module.hoverPoints(W,U,G,q,c._hoverlayer);if(it)for(var ot,at=0;at<it.length;at++)i((ot=it[at]).x0)&&i(ot.y0)&&Q.push(A(ot,L))}else a.log("Unrecognized trace type in hover:",V);if("closest"===L&&Q.length>Y&&(Q.splice(0,Y),nt=Q[0].distance),v&&0!==X&&0===Q.length){W.distance=X,W.index=!1;var lt=V._module.hoverPoints(W,U,G,"closest",c._hoverlayer);if(lt&&(lt=lt.filter(function(t){return t.spikeDistance<=X})),lt&&lt.length){var st,ut=lt.filter(function(t){return t.xa.showspikes});if(ut.length){var ct=ut[0];i(ct.x0)&&i(ct.y0)&&(st=pt(ct),(!$.vLinePoint||$.vLinePoint.spikeDistance>st.spikeDistance)&&($.vLinePoint=st))}var dt=lt.filter(function(t){return t.ya.showspikes});if(dt.length){var ft=dt[0];i(ft.x0)&&i(ft.y0)&&(st=pt(ft),(!$.hLinePoint||$.hLinePoint.spikeDistance>st.spikeDistance)&&($.hLinePoint=st))}}}}function ht(t,e){for(var n,r=null,i=1/0,o=0;o<t.length;o++)(n=t[o].spikeDistance)<i&&n<=e&&(r=t[o],i=n);return r}function pt(t){return t?{xa:t.xa,ya:t.ya,x:void 0!==t.xSpike?t.xSpike:(t.x0+t.x1)/2,y:void 0!==t.ySpike?t.ySpike:(t.y0+t.y1)/2,distance:t.distance,spikeDistance:t.spikeDistance,curveNumber:t.trace.index,color:t.color,pointNumber:t.index}:null}var gt={fullLayout:c,container:c._hoverlayer,outerContainer:c._paperdiv,event:e},mt=t._spikepoints;if(t._spikepoints={vLinePoint:$.vLinePoint,hLinePoint:$.hLinePoint},v&&0!==X&&0!==Q.length){var yt=ht(Q.filter(function(t){return t.ya.showspikes}),X);$.hLinePoint=pt(yt);var vt=ht(Q.filter(function(t){return t.xa.showspikes}),X);$.vLinePoint=pt(vt)}if(0===Q.length){var bt=f.unhoverRaw(t,e);return!v||null===$.hLinePoint&&null===$.vLinePoint||S(mt)&&M($,gt),bt}v&&S(mt)&&M($,gt),Q.sort(function(t,e){return t.distance-e.distance});var _t=t._hoverdata,xt=[];for(F=0;F<Q.length;F++){var wt=Q[F];xt.push(g.makeEventData(wt,wt.trace,wt.cd))}t._hoverdata=xt;var kt="y"===L&&K.length>1,Tt=T(Q,{hovermode:L,rotateLabels:kt,bgColor:d.combine(c.plot_bgcolor||d.background,c.paper_bgcolor),container:c._hoverlayer,outerContainer:c._paperdiv,commonLabelOpts:c.hoverlabel,hoverdistance:c.hoverdistance},t);if(function(t,e,n){var r,i,o,a,l,s,u,c=0,d=t.map(function(t,r){var i=t[e];return[{i:r,dp:0,pos:t.pos,posref:t.posref,size:t.by*("x"===i._id.charAt(0)?b:1)/2,pmin:0,pmax:"x"===i._id.charAt(0)?n.width:n.height}]}).sort(function(t,e){return t[0].posref-e[0].posref});function f(t){var e=t[0],n=t[t.length-1];if(o=n.pos+n.dp+n.size-e.pmax,(i=e.pmin-e.pos-e.dp+e.size)>.01){for(l=t.length-1;l>=0;l--)t[l].dp+=i;r=!1}if(!(o<.01)){if(i<-.01){for(l=t.length-1;l>=0;l--)t[l].dp-=o;r=!1}if(r){var u=0;for(a=0;a<t.length;a++)(s=t[a]).pos+s.dp+s.size>e.pmax&&u++;for(a=t.length-1;a>=0&&!(u<=0);a--)(s=t[a]).pos>e.pmax-1&&(s.del=!0,u--);for(a=0;a<t.length&&!(u<=0);a++)if((s=t[a]).pos<e.pmin+1)for(s.del=!0,u--,o=2*s.size,l=t.length-1;l>=0;l--)t[l].dp-=o;for(a=t.length-1;a>=0&&!(u<=0);a--)(s=t[a]).pos+s.dp+s.size>e.pmax&&(s.del=!0,u--)}}}for(;!r&&c<=t.length;){for(c++,r=!0,a=0;a<d.length-1;){var h=d[a],p=d[a+1],g=h[h.length-1],m=p[0];if((i=g.pos+g.dp+g.size-m.pos-m.dp+m.size)>.01&&g.pmin===m.pmin&&g.pmax===m.pmax){for(l=p.length-1;l>=0;l--)p[l].dp+=i;for(h.push.apply(h,p),d.splice(a+1,1),u=0,l=h.length-1;l>=0;l--)u+=h[l].dp;for(o=u/h.length,l=h.length-1;l>=0;l--)h[l].dp-=o;r=!1}else a++}d.forEach(f)}for(a=d.length-1;a>=0;a--){var y=d[a];for(l=y.length-1;l>=0;l--){var v=y[l],_=t[v.i];_.offset=v.dp,_.del=v.del}}}(Q,kt?"xa":"ya",c),C(Tt,kt),e.target&&e.target.tagName){var Ct=p.getComponentMethod("annotations","hasClickToShow")(t,xt);u(r.select(e.target),Ct?"pointer":"")}e.target&&!o&&function(t,e,n){if(!n||n.length!==t._hoverdata.length)return!0;for(var r=n.length-1;r>=0;r--){var i=n[r],o=t._hoverdata[r];if(i.curveNumber!==o.curveNumber||String(i.pointNumber)!==String(o.pointNumber))return!0}return!1}(t,0,_t)&&(_t&&t.emit("plotly_unhover",{event:e,points:_t}),t.emit("plotly_hover",{event:e,points:t._hoverdata,xaxes:w,yaxes:k,xvals:R,yvals:N}))}(t,e,n,o)})},n.loneHover=function(t,e){var n={color:t.color||d.defaultLine,x0:t.x0||t.x||0,x1:t.x1||t.x||0,y0:t.y0||t.y||0,y1:t.y1||t.y||0,xLabel:t.xLabel,yLabel:t.yLabel,zLabel:t.zLabel,text:t.text,name:t.name,idealAlign:t.idealAlign,borderColor:t.borderColor,fontFamily:t.fontFamily,fontSize:t.fontSize,fontColor:t.fontColor,trace:{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0},i=r.select(e.container),o=e.outerContainer?r.select(e.outerContainer):i,a={hovermode:"closest",rotateLabels:!1,bgColor:e.bgColor||d.background,container:i,outerContainer:o},l=T([n],a,e.gd);return C(l,a.rotateLabels),l.node()}},{"../../lib":163,"../../lib/events":156,"../../lib/override_cursor":174,"../../lib/svg_text_utils":184,"../../plots/cartesian/axes":205,"../../registry":245,"../color":43,"../dragelement":65,"../drawing":68,"./constants":80,"./helpers":82,d3:7,"fast-isnumeric":10,tinycolor2:25}],84:[function(t,e,n){"use strict";var r=t("../../lib");e.exports=function(t,e,n,i){n("hoverlabel.bgcolor",(i=i||{}).bgcolor),n("hoverlabel.bordercolor",i.bordercolor),n("hoverlabel.namelength",i.namelength),r.coerceFont(n,"hoverlabel.font",i.font)}},{"../../lib":163}],85:[function(t,e,n){"use strict";var r=t("d3"),i=t("../../lib"),o=t("../dragelement"),a=t("./helpers"),l=t("./layout_attributes");e.exports={moduleType:"component",name:"fx",constants:t("./constants"),schema:{layout:l},attributes:t("./attributes"),layoutAttributes:l,supplyLayoutGlobalDefaults:t("./layout_global_defaults"),supplyDefaults:t("./defaults"),supplyLayoutDefaults:t("./layout_defaults"),calc:t("./calc"),getDistanceFunction:a.getDistanceFunction,getClosest:a.getClosest,inbox:a.inbox,quadrature:a.quadrature,appendArrayPointValue:a.appendArrayPointValue,castHoverOption:function(t,e,n){return i.castOption(t,e,"hoverlabel."+n)},castHoverinfo:function(t,e,n){return i.castOption(t,n,"hoverinfo",function(n){return i.coerceHoverinfo({hoverinfo:n},{_module:t._module},e)})},hover:t("./hover").hover,unhover:o.unhover,loneHover:t("./hover").loneHover,loneUnhover:function(t){var e=i.isD3Selection(t)?t:r.select(t);e.selectAll("g.hovertext").remove(),e.selectAll(".spikeline").remove()},click:t("./click")}},{"../../lib":163,"../dragelement":65,"./attributes":77,"./calc":78,"./click":79,"./constants":80,"./defaults":81,"./helpers":82,"./hover":83,"./layout_attributes":86,"./layout_defaults":87,"./layout_global_defaults":88,d3:7}],86:[function(t,e,n){"use strict";var r=t("./constants"),i=t("../../plots/font_attributes")({editType:"none"});i.family.dflt=r.HOVERFONT,i.size.dflt=r.HOVERFONTSIZE,e.exports={dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","orbit","turntable"],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1],editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:20,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:i,namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},{"../../plots/font_attributes":231,"./constants":80}],87:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("./layout_attributes");e.exports=function(t,e,n){function o(n,o){return r.coerce(t,e,i,n,o)}var a;"select"===o("dragmode")&&o("selectdirection"),e._has("cartesian")?(e._isHoriz=function(t){for(var e=!0,n=0;n<t.length;n++)if("h"!==t[n].orientation){e=!1;break}return e}(n),a=e._isHoriz?"y":"x"):a="closest",o("hovermode",a)&&(o("hoverdistance"),o("spikedistance"));var l=e._has("mapbox"),s=e._has("geo"),u=e._basePlotModules.length;"zoom"===e.dragmode&&((l||s)&&1===u||l&&s&&2===u)&&(e.dragmode="pan")}},{"../../lib":163,"./layout_attributes":86}],88:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("./hoverlabel_defaults"),o=t("./layout_attributes");e.exports=function(t,e){i(t,e,function(n,i){return r.coerce(t,e,o,n,i)})}},{"../../lib":163,"./hoverlabel_defaults":84,"./layout_attributes":86}],89:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../lib/regex").counter,o=t("../../plots/domain").attributes,a=t("../../plots/cartesian/constants").idRegex,l={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[i("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[a.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[a.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:o({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function s(t,e,n){var r=e[n+"axes"],i=Object.keys((t._splomAxes||{})[n]||{});return Array.isArray(r)?r:i.length?i:void 0}function u(t,e,n,r,i,o){var a=e(t+"gap",n),l=e("domain."+t);e(t+"side",r);for(var s=new Array(i),u=l[0],c=(l[1]-u)/(i-a),d=c*(1-a),f=0;f<i;f++){var h=u+c*f;s[o?i-1-f:f]=[h,h+d]}return s}function c(t,e,n,r,i){var o,a=new Array(n);function l(t,n){-1!==e.indexOf(n)&&void 0===r[n]?(a[t]=n,r[n]=t):a[t]=""}if(Array.isArray(t))for(o=0;o<n;o++)l(o,t[o]);else for(l(0,i),o=1;o<n;o++)l(o,i+(o+1));return a}e.exports={moduleType:"component",name:"grid",schema:{layout:{grid:l}},layoutAttributes:l,sizeDefaults:function(t,e){var n=t.grid||{},i=s(e,n,"x"),o=s(e,n,"y");if(t.grid||i||o){var a,c,d=Array.isArray(n.subplots)&&Array.isArray(n.subplots[0]),f=Array.isArray(i),h=Array.isArray(o),p=f&&i!==n.xaxes&&h&&o!==n.yaxes;d?(a=n.subplots.length,c=n.subplots[0].length):(h&&(a=o.length),f&&(c=i.length));var g={},m=w("rows",a),y=w("columns",c);if(m*y>1){d||f||h||"independent"===w("pattern")&&(d=!0),g._hasSubplotGrid=d;var v,b,_="top to bottom"===w("roworder"),x=d?.3:.1;p&&e._splomGridDflt&&(v=e._splomGridDflt.xside,b=e._splomGridDflt.yside),g._domains={x:u("x",w,d?.2:.1,v,y),y:u("y",w,x,b,m,_)},e.grid=g}}function w(t,e){return r.coerce(n,g,l,t,e)}},contentDefaults:function(t,e){var n=e.grid;if(n&&n._domains){var r,i,o,a,l,u,d,f=t.grid||{},h=e._subplots,p=n._hasSubplotGrid,g=n.rows,m=n.columns,y="independent"===n.pattern,v=n._axisMap={};if(p){var b=f.subplots||[];u=n.subplots=new Array(g);var _=1;for(r=0;r<g;r++){var x=u[r]=new Array(m),w=b[r]||[];for(i=0;i<m;i++)if(y?(l=1===_?"xy":"x"+_+"y"+_,_++):l=w[i],x[i]="",-1!==h.cartesian.indexOf(l)){if(d=l.indexOf("y"),o=l.slice(0,d),a=l.slice(d),void 0!==v[o]&&v[o]!==i||void 0!==v[a]&&v[a]!==r)continue;x[i]=l,v[o]=i,v[a]=r}}}else{var k=s(e,f,"x"),T=s(e,f,"y");n.xaxes=c(k,h.xaxis,m,v,"x"),n.yaxes=c(T,h.yaxis,g,v,"y")}var C=n._anchors={},A="top to bottom"===n.roworder;for(var M in v){var S,E,O,P=M.charAt(0),I=n[P+"side"];if(I.length<8)C[M]="free";else if("x"===P){if("t"===I.charAt(0)===A?(S=0,E=1,O=g):(S=g-1,E=-1,O=-1),p){var D=v[M];for(r=S;r!==O;r+=E)if((l=u[r][D])&&(d=l.indexOf("y"),l.slice(0,d)===M)){C[M]=l.slice(d);break}}else for(r=S;r!==O;r+=E)if(-1!==h.cartesian.indexOf(M+(a=n.yaxes[r]))){C[M]=a;break}}else if("l"===I.charAt(0)?(S=0,E=1,O=m):(S=m-1,E=-1,O=-1),p){var L=v[M];for(r=S;r!==O;r+=E)if((l=u[L][r])&&(d=l.indexOf("y"),l.slice(d)===M)){C[M]=l.slice(0,d);break}}else for(r=S;r!==O;r+=E)if(-1!==h.cartesian.indexOf((o=n.xaxes[r])+M)){C[M]=o;break}}}}}},{"../../lib":163,"../../lib/regex":178,"../../plots/cartesian/constants":210,"../../plots/domain":230}],90:[function(t,e,n){"use strict";var r=t("../../plots/cartesian/constants");e.exports={_isLinkedToArray:"image",visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",r.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",r.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"}},{"../../plots/cartesian/constants":210}],91:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("../../lib/to_log_range");e.exports=function(t,e,n,o){e=e||{};var a="log"===n&&"linear"===e.type;if(a||"linear"===n&&"log"===e.type)for(var l,s,u=t._fullLayout.images,c=e._id.charAt(0),d=0;d<u.length;d++)if(s="images["+d+"].",(l=u[d])[c+"ref"]===e._id){var f=l[c],h=l["size"+c],p=null,g=null;if(a){p=i(f,e.range);var m=h/Math.pow(10,p)/2;g=2*Math.log(m+Math.sqrt(1+m*m))/Math.LN10}else g=(p=Math.pow(10,f))*(Math.pow(10,h/2)-Math.pow(10,-h/2));r(p)?r(g)||(g=null):(p=null,g=null),o(s+c,p),o(s+"size"+c,g)}}},{"../../lib/to_log_range":186,"fast-isnumeric":10}],92:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../plots/cartesian/axes"),o=t("../../plots/array_container_defaults"),a=t("./attributes");function l(t,e,n){function o(n,i){return r.coerce(t,e,a,n,i)}if(!o("visible",!!o("source")))return e;o("layer"),o("xanchor"),o("yanchor"),o("sizex"),o("sizey"),o("sizing"),o("opacity");for(var l={_fullLayout:n},s=["x","y"],u=0;u<2;u++){var c=s[u],d=i.coerceRef(t,e,l,c,"paper");i.coercePosition(e,l,o,d,c,0)}return e}e.exports=function(t,e){o(t,e,{name:"images",handleItemDefaults:l})}},{"../../lib":163,"../../plots/array_container_defaults":201,"../../plots/cartesian/axes":205,"./attributes":90}],93:[function(t,e,n){"use strict";var r=t("d3"),i=t("../drawing"),o=t("../../plots/cartesian/axes"),a=t("../../constants/xmlns_namespaces");e.exports=function(t){var e,n,l=t._fullLayout,s=[],u={},c=[];for(n=0;n<l.images.length;n++){var d=l.images[n];if(d.visible)if("below"===d.layer&&"paper"!==d.xref&&"paper"!==d.yref){var f=l._plots[e=d.xref+d.yref];if(!f){c.push(d);continue}f.mainplot&&(e=f.mainplot.id),u[e]||(u[e]=[]),u[e].push(d)}else"above"===d.layer?s.push(d):c.push(d)}var h={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}}};function p(e){var n=r.select(this);if(!this.img||this.img.src!==e.source){n.attr("xmlns",a.svg);var i=new Promise((function(t){var r=new Image;function i(){n.remove(),t()}this.img=r,r.setAttribute("crossOrigin","anonymous"),r.onerror=i,r.onload=function(){var e=document.createElement("canvas");e.width=this.width,e.height=this.height,e.getContext("2d").drawImage(this,0,0);var r=e.toDataURL("image/png");n.attr("xlink:href",r),t()},n.on("error",i),r.src=e.source}).bind(this));t._promises.push(i)}}function g(e){var n=r.select(this),a=o.getFromId(t,e.xref),s=o.getFromId(t,e.yref),u=l._size,c=a?Math.abs(a.l2p(e.sizex)-a.l2p(0)):e.sizex*u.w,d=s?Math.abs(s.l2p(e.sizey)-s.l2p(0)):e.sizey*u.h,f=c*h.x[e.xanchor].offset,p=d*h.y[e.yanchor].offset,g=h.x[e.xanchor].sizing+h.y[e.yanchor].sizing,m=(a?a.r2p(e.x)+a._offset:e.x*u.w+u.l)+f,y=(s?s.r2p(e.y)+s._offset:u.h-e.y*u.h+u.t)+p;switch(e.sizing){case"fill":g+=" slice";break;case"stretch":g="none"}n.attr({x:m,y:y,width:c,height:d,preserveAspectRatio:g,opacity:e.opacity});var v=(a?a._id:"")+(s?s._id:"");n.call(i.setClipUrl,v?"clip"+l._uid+v:null)}var m=l._imageLowerLayer.selectAll("image").data(c),y=l._imageUpperLayer.selectAll("image").data(s);m.enter().append("image"),y.enter().append("image"),m.exit().remove(),y.exit().remove(),m.each(function(t){p.bind(this)(t),g.bind(this)(t)}),y.each(function(t){p.bind(this)(t),g.bind(this)(t)});var v=Object.keys(l._plots);for(n=0;n<v.length;n++){var b=l._plots[e=v[n]];if(b.imagelayer){var _=b.imagelayer.selectAll("image").data(u[e]||[]);_.enter().append("image"),_.exit().remove(),_.each(function(t){p.bind(this)(t),g.bind(this)(t)})}}}},{"../../constants/xmlns_namespaces":147,"../../plots/cartesian/axes":205,"../drawing":68,d3:7}],94:[function(t,e,n){"use strict";e.exports={moduleType:"component",name:"images",layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),includeBasePlot:t("../../plots/cartesian/include_components")("images"),draw:t("./draw"),convertCoords:t("./convert_coords")}},{"../../plots/cartesian/include_components":215,"./attributes":90,"./convert_coords":91,"./defaults":92,"./draw":93}],95:[function(t,e,n){"use strict";n.isRightAnchor=function(t){return"right"===t.xanchor||"auto"===t.xanchor&&t.x>=2/3},n.isCenterAnchor=function(t){return"center"===t.xanchor||"auto"===t.xanchor&&t.x>1/3&&t.x<2/3},n.isBottomAnchor=function(t){return"bottom"===t.yanchor||"auto"===t.yanchor&&t.y<=1/3},n.isMiddleAnchor=function(t){return"middle"===t.yanchor||"auto"===t.yanchor&&t.y>1/3&&t.y<2/3}},{}],96:[function(t,e,n){"use strict";var r=t("../../plots/font_attributes"),i=t("../color/attributes");e.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:i.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:r({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},x:{valType:"number",min:-2,max:3,dflt:1.02,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,dflt:1,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"legend"},editType:"legend"}},{"../../plots/font_attributes":231,"../color/attributes":42}],97:[function(t,e,n){"use strict";e.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4}},{}],98:[function(t,e,n){"use strict";var r=t("../../registry"),i=t("../../lib"),o=t("./attributes"),a=t("../../plots/layout_attributes"),l=t("./helpers");e.exports=function(t,e,n){for(var s,u,c,d,f=t.legend||{},h={},p=0,g="normal",m=0;m<n.length;m++){var y=n[m];l.legendGetsTrace(y)&&(p++,r.traceIs(y,"pie")&&p++),(r.traceIs(y,"bar")&&"stack"===e.barmode||-1!==["tonextx","tonexty"].indexOf(y.fill))&&(g=l.isGrouped({traceorder:g})?"grouped+reversed":"reversed"),void 0!==y.legendgroup&&""!==y.legendgroup&&(g=l.isReversed({traceorder:g})?"reversed+grouped":"grouped")}function v(t,e){return i.coerce(f,h,o,t,e)}if(!1!==i.coerce(t,e,a,"showlegend",p>1)){if(e.legend=h,v("bgcolor",e.paper_bgcolor),v("bordercolor"),v("borderwidth"),i.coerceFont(v,"font",e.font),v("orientation"),"h"===h.orientation){var b=t.xaxis;b&&b.rangeslider&&b.rangeslider.visible?(s=0,c="left",u=1.1,d="bottom"):(s=0,c="left",u=-.1,d="top")}v("traceorder",g),l.isGrouped(e.legend)&&v("tracegroupgap"),v("x",s),v("xanchor",c),v("y",u),v("yanchor",d),i.noneOrAll(f,h,["x","y"])}}},{"../../lib":163,"../../plots/layout_attributes":235,"../../registry":245,"./attributes":96,"./helpers":102}],99:[function(t,e,n){"use strict";var r=t("d3"),i=t("../../lib"),o=t("../../plots/plots"),a=t("../../registry"),l=t("../../lib/events"),s=t("../dragelement"),u=t("../drawing"),c=t("../color"),d=t("../../lib/svg_text_utils"),f=t("./handle_click"),h=t("./constants"),p=t("../../constants/interactions"),g=t("../../constants/alignment"),m=g.LINE_SPACING,y=g.FROM_TL,v=g.FROM_BR,b=t("./get_legend_data"),_=t("./style"),x=t("./helpers"),w=t("./anchor_utils"),k=p.DBLCLICKDELAY;function T(t,e,n,r,i){var o=n.data()[0][0].trace,a={event:i,node:n.node(),curveNumber:o.index,expandedIndex:o._expandedIndex,data:t.data,layout:t.layout,frames:t._transitionData._frames,config:t._context,fullData:t._fullData,fullLayout:t._fullLayout};o._group&&(a.group=o._group),"pie"===o.type&&(a.label=n.datum()[0].label),!1!==l.triggerHandler(t,"plotly_legendclick",a)&&(1===r?e._clickTimeout=setTimeout(function(){f(n,t,r)},k):2===r&&(e._clickTimeout&&clearTimeout(e._clickTimeout),t._legendMouseDownTime=0,!1!==l.triggerHandler(t,"plotly_legenddoubleclick",a)&&f(n,t,r)))}function C(t,e,n){var r=t.data()[0][0],o=e._fullLayout,l=r.trace,s=a.traceIs(l,"pie"),c=l.index,f=s?r.label:l.name,h=e._context.edits.legendText&&!s,p=i.ensureSingle(t,"text","legendtext");function g(n){d.convertToTspans(n,e,function(){!function(t,e){var n=t.data()[0][0];if(n.trace.showlegend){var r,i,o=t.select("g[class*=math-group]"),a=o.node(),l=e._fullLayout.legend.font.size*m;if(a){var s=u.bBox(a);i=s.width,u.setTranslate(o,0,(r=s.height)/4)}else{var c=t.select(".legendtext"),f=d.lineCount(c),h=c.node();r=l*f,i=h?u.bBox(h).width:0,d.positionText(c,40,l*(.3+(1-f)/2))}r=Math.max(r,16)+3,n.height=r,n.width=i}else t.remove()}(t,e)})}p.attr("text-anchor","start").classed("user-select-none",!0).call(u.font,o.legend.font).text(h?A(f,n):f),h?p.call(d.makeEditable,{gd:e,text:f}).call(g).on("edit",function(t){this.text(A(t,n)).call(g);var o=r.trace._fullInput||{},l={};if(a.hasTransform(o,"groupby")){var s=a.getTransformIndices(o,"groupby"),u=i.keyedContainer(o,"transforms["+s[s.length-1]+"].styles","target","value.name");u.set(r.trace._group,t),l=u.constructUpdate()}else l.name=t;return a.call("restyle",e,l,c)}):g(p)}function A(t,e){var n=Math.max(4,e);if(t&&t.trim().length>=n/2)return t;for(var r=n-(t=t||"").length;r>0;r--)t+=" ";return t}function M(t,e){var n,o=1,a=i.ensureSingle(t,"rect","legendtoggle",function(t){t.style("cursor","pointer").attr("pointer-events","all").call(c.fill,"rgba(0,0,0,0)")});a.on("mousedown",function(){(n=(new Date).getTime())-e._legendMouseDownTime<k?o+=1:(o=1,e._legendMouseDownTime=n)}),a.on("mouseup",function(){if(!e._dragged&&!e._editing){var n=e._fullLayout.legend;(new Date).getTime()-e._legendMouseDownTime>k&&(o=Math.max(o-1,1)),T(e,n,t,o,r.event)}})}function S(t,e,n){var i=t._fullLayout,o=i.legend,a=o.borderwidth,l=x.isGrouped(o),s=0;if(o._width=0,o._height=0,x.isVertical(o))l&&e.each(function(t,e){u.setTranslate(this,0,e*o.tracegroupgap)}),n.each(function(t){var e=t[0],n=e.height,r=e.width;u.setTranslate(this,a,5+a+o._height+n/2),o._height+=n,o._width=Math.max(o._width,r)}),o._width+=45+2*a,o._height+=10+2*a,l&&(o._height+=(o._lgroupsLength-1)*o.tracegroupgap),s=40;else if(l){for(var c=[o._width],d=e.data(),f=0,h=d.length;f<h;f++){var p=d[f].map(function(t){return t[0].width}),g=40+Math.max.apply(null,p);o._width+=o.tracegroupgap+g,c.push(o._width)}e.each(function(t,e){u.setTranslate(this,c[e],0)}),e.each(function(){var t=0;r.select(this).selectAll("g.traces").each(function(e){var n=e[0].height;u.setTranslate(this,0,5+a+t+n/2),t+=n}),o._height=Math.max(o._height,t)}),o._height+=10+2*a,o._width+=2*a}else{var m,y=0,v=0,b=0,_=0,w=0,k=o.tracegroupgap||5;n.each(function(t){b=Math.max(40+t[0].width,b),w+=40+t[0].width+k}),m=i.width-(i.margin.r+i.margin.l)>a+w-k,n.each(function(t){var e=t[0],n=m?40+t[0].width:b;a+_+k+n>i.width-(i.margin.r+i.margin.l)&&(_=0,y+=v,o._height=o._height+v,v=0),u.setTranslate(this,a+_,5+a+e.height/2+y),o._width+=k+n,o._height=Math.max(o._height,e.height),_+=k+n,v=Math.max(e.height,v)}),o._width+=2*a,o._height+=10+2*a}o._width=Math.ceil(o._width),o._height=Math.ceil(o._height),n.each(function(e){var n=e[0],i=r.select(this).select(".legendtoggle");u.setRect(i,0,-n.height/2,(t._context.edits.legendText?0:o._width)+s,n.height)})}function E(t){var e=t._fullLayout.legend,n="left";w.isRightAnchor(e)?n="right":w.isCenterAnchor(e)&&(n="center");var r="top";w.isBottomAnchor(e)?r="bottom":w.isMiddleAnchor(e)&&(r="middle"),o.autoMargin(t,"legend",{x:e.x,y:e.y,l:e._width*y[n],r:e._width*v[n],b:e._height*v[r],t:e._height*y[r]})}e.exports=function(t){var e=t._fullLayout,n="legend"+e._uid;if(e._infolayer&&t.calcdata){t._legendMouseDownTime||(t._legendMouseDownTime=0);var l=e.legend,d=e.showlegend&&b(t.calcdata,l),f=e.hiddenlabels||[];if(!e.showlegend||!d.length)return e._infolayer.selectAll(".legend").remove(),e._topdefs.select("#"+n).remove(),void o.autoMargin(t,"legend");for(var p=0,g=0;g<d.length;g++)for(var m=0;m<d[g].length;m++){var x=d[g][m][0],k=x.trace,A=a.traceIs(k,"pie")?x.label:k.name;p=Math.max(p,A&&A.length||0)}var O=!1,P=i.ensureSingle(e._infolayer,"g","legend",function(t){t.attr("pointer-events","all"),O=!0}),I=i.ensureSingleById(e._topdefs,"clipPath",n,function(t){t.append("rect")}),D=i.ensureSingle(P,"rect","bg",function(t){t.attr("shape-rendering","crispEdges")});D.call(c.stroke,l.bordercolor).call(c.fill,l.bgcolor).style("stroke-width",l.borderwidth+"px");var L=i.ensureSingle(P,"g","scrollbox"),R=i.ensureSingle(P,"rect","scrollbar",function(t){t.attr({rx:20,ry:3,width:0,height:0}).call(c.fill,"#808BA4")}),N=L.selectAll("g.groups").data(d);N.enter().append("g").attr("class","groups"),N.exit().remove();var F=N.selectAll("g.traces").data(i.identity);F.enter().append("g").attr("class","traces"),F.exit().remove(),F.call(_,t).style("opacity",function(t){var e=t[0].trace;return a.traceIs(e,"pie")?-1!==f.indexOf(t[0].label)?.5:1:"legendonly"===e.visible?.5:1}).each(function(){r.select(this).call(C,t,p).call(M,t)}),O&&(S(t,N,F),E(t));var z=e.width,j=e.height;S(t,N,F),l._height>j?function(t){var e=t._fullLayout.legend,n="left";w.isRightAnchor(e)?n="right":w.isCenterAnchor(e)&&(n="center"),o.autoMargin(t,"legend",{x:e.x,y:.5,l:e._width*y[n],r:e._width*v[n],b:0,t:0})}(t):E(t);var V=e._size,B=V.l+V.w*l.x,H=V.t+V.h*(1-l.y);w.isRightAnchor(l)?B-=l._width:w.isCenterAnchor(l)&&(B-=l._width/2),w.isBottomAnchor(l)?H-=l._height:w.isMiddleAnchor(l)&&(H-=l._height/2);var q=l._width,U=V.w;q>U?(B=V.l,q=U):(B+q>z&&(B=z-q),B<0&&(B=0),q=Math.min(z-B,l._width));var G,W,Y,Z,X=l._height,Q=V.h;if(X>Q?(H=V.t,X=Q):(H+X>j&&(H=j-X),H<0&&(H=0),X=Math.min(j-H,l._height)),u.setTranslate(P,B,H),R.on(".drag",null),P.on("wheel",null),l._height<=X||t._context.staticPlot)D.attr({width:q-l.borderwidth,height:X-l.borderwidth,x:l.borderwidth/2,y:l.borderwidth/2}),u.setTranslate(L,0,0),I.select("rect").attr({width:q-2*l.borderwidth,height:X-2*l.borderwidth,x:l.borderwidth,y:l.borderwidth}),u.setClipUrl(L,n),u.setRect(R,0,0,0,0),delete l._scrollY;else{var K,$,J=Math.max(h.scrollBarMinHeight,X*X/l._height),tt=X-J-2*h.scrollBarMargin,et=l._height-X,nt=tt/et,rt=Math.min(l._scrollY||0,et);D.attr({width:q-2*l.borderwidth+h.scrollBarWidth+h.scrollBarMargin,height:X-l.borderwidth,x:l.borderwidth/2,y:l.borderwidth/2}),I.select("rect").attr({width:q-2*l.borderwidth+h.scrollBarWidth+h.scrollBarMargin,height:X-2*l.borderwidth,x:l.borderwidth,y:l.borderwidth+rt}),u.setClipUrl(L,n),ot(rt,J,nt),P.on("wheel",function(){ot(rt=i.constrain(l._scrollY+r.event.deltaY/tt*et,0,et),J,nt),0!==rt&&rt!==et&&r.event.preventDefault()});var it=r.behavior.drag().on("dragstart",function(){K=r.event.sourceEvent.clientY,$=rt}).on("drag",function(){var t=r.event.sourceEvent;2===t.buttons||t.ctrlKey||ot(rt=i.constrain((t.clientY-K)/nt+$,0,et),J,nt)});R.call(it)}t._context.edits.legendPosition&&(P.classed("cursor-move",!0),s.init({element:P.node(),gd:t,prepFn:function(){var t=u.getTranslate(P);Y=t.x,Z=t.y},moveFn:function(t,e){var n=Y+t,r=Z+e;u.setTranslate(P,n,r),G=s.align(n,0,V.l,V.l+V.w,l.xanchor),W=s.align(r,0,V.t+V.h,V.t,l.yanchor)},doneFn:function(){void 0!==G&&void 0!==W&&a.call("relayout",t,{"legend.x":G,"legend.y":W})},clickFn:function(n,r){var i=e._infolayer.selectAll("g.traces").filter(function(){var t=this.getBoundingClientRect();return r.clientX>=t.left&&r.clientX<=t.right&&r.clientY>=t.top&&r.clientY<=t.bottom});i.size()>0&&T(t,P,i,n,r)}}))}function ot(e,n,r){l._scrollY=t._fullLayout.legend._scrollY=e,u.setTranslate(L,0,-e),u.setRect(R,q,h.scrollBarMargin+e*r,h.scrollBarWidth,n),I.select("rect").attr({y:l.borderwidth+e})}}},{"../../constants/alignment":143,"../../constants/interactions":144,"../../lib":163,"../../lib/events":156,"../../lib/svg_text_utils":184,"../../plots/plots":237,"../../registry":245,"../color":43,"../dragelement":65,"../drawing":68,"./anchor_utils":95,"./constants":97,"./get_legend_data":100,"./handle_click":101,"./helpers":102,"./style":104,d3:7}],100:[function(t,e,n){"use strict";var r=t("../../registry"),i=t("./helpers");e.exports=function(t,e){var n,o,a={},l=[],s=!1,u={},c=0;function d(t,n){if(""!==t&&i.isGrouped(e))-1===l.indexOf(t)?(l.push(t),s=!0,a[t]=[[n]]):a[t].push([n]);else{var r="~~i"+c;l.push(r),a[r]=[[n]],c++}}for(n=0;n<t.length;n++){var f=t[n],h=f[0],p=h.trace,g=p.legendgroup;if(i.legendGetsTrace(p)&&p.showlegend)if(r.traceIs(p,"pie"))for(u[g]||(u[g]={}),o=0;o<f.length;o++){var m=f[o].label;u[g][m]||(d(g,{label:m,color:f[o].color,i:f[o].i,trace:p}),u[g][m]=!0)}else d(g,h)}if(!l.length)return[];var y,v,b=l.length;if(s&&i.isGrouped(e))for(v=new Array(b),n=0;n<b;n++)y=a[l[n]],v[n]=i.isReversed(e)?y.reverse():y;else{for(v=[new Array(b)],n=0;n<b;n++)y=a[l[n]][0],v[0][i.isReversed(e)?b-n-1:n]=y;b=1}return e._lgroupsLength=b,v}},{"../../registry":245,"./helpers":102}],101:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../registry"),o=!0;e.exports=function(t,e,n){if(!e._dragged&&!e._editing){var a,l,s,u,c,d=e._fullLayout.hiddenlabels?e._fullLayout.hiddenlabels.slice():[],f=t.data()[0][0],h=e._fullData,p=f.trace,g=p.legendgroup,m={},y=[],v=[],b=[];if(1===n&&o&&e.data&&e._context.showTips?(r.notifier(r._(e,"Double-click on legend to isolate one trace"),"long"),o=!1):o=!1,i.traceIs(p,"pie")){var _=f.label,x=d.indexOf(_);1===n?-1===x?d.push(_):d.splice(x,1):2===n&&(d=[],e.calcdata[0].forEach(function(t){_!==t.label&&d.push(t.label)}),e._fullLayout.hiddenlabels&&e._fullLayout.hiddenlabels.length===d.length&&-1===x&&(d=[])),i.call("relayout",e,"hiddenlabels",d)}else{var w,k=g&&g.length,T=[];if(k)for(a=0;a<h.length;a++)(w=h[a]).visible&&w.legendgroup===g&&T.push(a);if(1===n){var C;switch(p.visible){case!0:C="legendonly";break;case!1:C=!1;break;case"legendonly":C=!0}if(k)for(a=0;a<h.length;a++)!1!==h[a].visible&&h[a].legendgroup===g&&O(h[a],C);else O(p,C)}else if(2===n){var A=!0;for(a=0;a<h.length;a++)if(!(h[a]===p||k&&h[a].legendgroup===g||!0!==h[a].visible||i.traceIs(h[a],"notLegendIsolatable"))){A=!1;break}for(a=0;a<h.length;a++)if(!1!==h[a].visible&&!i.traceIs(h[a],"notLegendIsolatable"))switch(p.visible){case"legendonly":O(h[a],!0);break;case!0:O(h[a],!!(h[a]===p||k&&h[a].legendgroup===g)||!!A||"legendonly")}}for(a=0;a<v.length;a++)if(s=v[a]){var M=s.constructUpdate(),S=Object.keys(M);for(l=0;l<S.length;l++)(m[u=S[l]]=m[u]||[])[b[a]]=M[u]}for(c=Object.keys(m),a=0;a<c.length;a++)for(u=c[a],l=0;l<y.length;l++)m[u].hasOwnProperty(l)||(m[u][l]=void 0);i.call("restyle",e,m,y)}}function E(t,e,n){var r=y.indexOf(t),i=m[e];return i||(i=m[e]=[]),-1===y.indexOf(t)&&(y.push(t),r=y.length-1),i[r]=n,r}function O(t,e){var n=t._fullInput;if(i.hasTransform(n,"groupby")){var o=v[n.index];if(!o){var a=i.getTransformIndices(n,"groupby");o=r.keyedContainer(n,"transforms["+a[a.length-1]+"].styles","target","value.visible"),v[n.index]=o}var l=o.get(t._group);void 0===l&&(l=!0),!1!==l&&o.set(t._group,e),b[n.index]=E(n.index,"visible",!1!==n.visible)}else E(n.index,"visible",!1!==n.visible&&e)}}},{"../../lib":163,"../../registry":245}],102:[function(t,e,n){"use strict";n.legendGetsTrace=function(t){return t.visible&&void 0!==t.showlegend},n.isGrouped=function(t){return-1!==(t.traceorder||"").indexOf("grouped")},n.isVertical=function(t){return"h"!==t.orientation},n.isReversed=function(t){return-1!==(t.traceorder||"").indexOf("reversed")}},{}],103:[function(t,e,n){"use strict";e.exports={moduleType:"component",name:"legend",layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),draw:t("./draw"),style:t("./style")}},{"./attributes":96,"./defaults":98,"./draw":99,"./style":104}],104:[function(t,e,n){"use strict";var r=t("d3"),i=t("../../registry"),o=t("../../lib"),a=t("../drawing"),l=t("../color"),s=t("../../traces/scatter/subtypes"),u=t("../../traces/pie/style_one");e.exports=function(t,e){t.each(function(t){var e=r.select(this),n=o.ensureSingle(e,"g","layers");n.style("opacity",t[0].trace.opacity),n.selectAll("g.legendfill").data([t]).enter().append("g").classed("legendfill",!0),n.selectAll("g.legendlines").data([t]).enter().append("g").classed("legendlines",!0);var i=n.selectAll("g.legendsymbols").data([t]);i.enter().append("g").classed("legendsymbols",!0),i.selectAll("g.legendpoints").data([t]).enter().append("g").classed("legendpoints",!0)}).each(function(t){var e=t[0].trace,n=e.marker||{},o=n.line||{},a=r.select(this).select("g.legendpoints").selectAll("path.legendbar").data(i.traceIs(e,"bar")?[t]:[]);a.enter().append("path").classed("legendbar",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),a.exit().remove(),a.each(function(t){var e=r.select(this),i=t[0],a=(i.mlw+1||o.width+1)-1;e.style("stroke-width",a+"px").call(l.fill,i.mc||n.color),a&&e.call(l.stroke,i.mlc||o.color)})}).each(function(t){var e=t[0].trace,n=r.select(this).select("g.legendpoints").selectAll("path.legendbox").data(i.traceIs(e,"box-violin")&&e.visible?[t]:[]);n.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),n.exit().remove(),n.each(function(){var t=e.line.width,n=r.select(this);n.style("stroke-width",t+"px").call(l.fill,e.fillcolor),t&&l.stroke(n,e.line.color)})}).each(function(t){var e=t[0].trace,n=r.select(this).select("g.legendpoints").selectAll("path.legendpie").data(i.traceIs(e,"pie")&&e.visible?[t]:[]);n.enter().append("path").classed("legendpie",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),n.exit().remove(),n.size()&&n.call(u,t[0],e)}).each(function(t){var e=t[0].trace,n=e.visible&&e.fill&&"none"!==e.fill,i=s.hasLines(e),o=e.contours;o&&"constraint"===o.type&&(i=o.showlines,n="="!==o._operation);var l=r.select(this).select(".legendfill").selectAll("path").data(n?[t]:[]);l.enter().append("path").classed("js-fill",!0),l.exit().remove(),l.attr("d","M5,0h30v6h-30z").call(a.fillGroupStyle);var u=r.select(this).select(".legendlines").selectAll("path").data(i?[t]:[]);u.enter().append("path").classed("js-line",!0).attr("d","M5,0h30"),u.exit().remove(),u.call(a.lineGroupStyle)}).each(function(t){var n,i,l=t[0],u=l.trace,c=s.hasMarkers(u),d=s.hasText(u),f=s.hasLines(u);function h(t,e,n){var r=o.nestedProperty(u,t).get(),i=Array.isArray(r)&&e?e(r):r;if(n){if(i<n[0])return n[0];if(i>n[1])return n[1]}return i}function p(t){return t[0]}if(c||d||f){var g={},m={};c&&(g.mc=h("marker.color",p),g.mo=h("marker.opacity",o.mean,[.2,1]),g.ms=h("marker.size",o.mean,[2,16]),g.mlc=h("marker.line.color",p),g.mlw=h("marker.line.width",o.mean,[0,5]),m.marker={sizeref:1,sizemin:1,sizemode:"diameter"}),f&&(m.line={width:h("line.width",p,[0,10])}),d&&(g.tx="Aa",g.tp=h("textposition",p),g.ts=10,g.tc=h("textfont.color",p),g.tf=h("textfont.family",p)),n=[o.minExtend(l,g)],(i=o.minExtend(u,m)).selectedpoints=null}var y=r.select(this).select("g.legendpoints"),v=y.selectAll("path.scatterpts").data(c?n:[]);v.enter().append("path").classed("scatterpts",!0).attr("transform","translate(20,0)"),v.exit().remove(),v.call(a.pointStyle,i,e),c&&(n[0].mrc=3);var b=y.selectAll("g.pointtext").data(d?n:[]);b.enter().append("g").classed("pointtext",!0).append("text").attr("transform","translate(20,0)"),b.exit().remove(),b.selectAll("text").call(a.textPointStyle,i,e)}).each(function(t){var e=t[0].trace,n=r.select(this).select("g.legendpoints").selectAll("path.legendcandle").data("candlestick"===e.type&&e.visible?[t,t]:[]);n.enter().append("path").classed("legendcandle",!0).attr("d",function(t,e){return e?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform","translate(20,0)").style("stroke-miterlimit",1),n.exit().remove(),n.each(function(t,n){var i=e[n?"increasing":"decreasing"],o=i.line.width,a=r.select(this);a.style("stroke-width",o+"px").call(l.fill,i.fillcolor),o&&l.stroke(a,i.line.color)})}).each(function(t){var e=t[0].trace,n=r.select(this).select("g.legendpoints").selectAll("path.legendohlc").data("ohlc"===e.type&&e.visible?[t,t]:[]);n.enter().append("path").classed("legendohlc",!0).attr("d",function(t,e){return e?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform","translate(20,0)").style("stroke-miterlimit",1),n.exit().remove(),n.each(function(t,n){var i=e[n?"increasing":"decreasing"],o=i.line.width,s=r.select(this);s.style("fill","none").call(a.dashLine,i.line.dash,o),o&&l.stroke(s,i.line.color)})})}},{"../../lib":163,"../../registry":245,"../../traces/pie/style_one":279,"../../traces/scatter/subtypes":303,"../color":43,"../drawing":68,d3:7}],105:[function(t,e,n){"use strict";var r=t("../../registry"),i=t("../../plots/plots"),o=t("../../plots/cartesian/axis_ids"),a=t("../../lib"),l=t("../../../build/ploticon"),s=a._,u=e.exports={};function c(t,e){var n,i,a=e.currentTarget,l=a.getAttribute("data-attr"),s=a.getAttribute("data-val")||!0,u=t._fullLayout,c={},d=o.list(t,null,!0),f="on";if("zoom"===l){var h,p="in"===s?.5:2,g=(1+p)/2,m=(1-p)/2;for(i=0;i<d.length;i++)if(!(n=d[i]).fixedrange)if(h=n._name,"auto"===s)c[h+".autorange"]=!0;else if("reset"===s){if(void 0===n._rangeInitial)c[h+".autorange"]=!0;else{var y=n._rangeInitial.slice();c[h+".range[0]"]=y[0],c[h+".range[1]"]=y[1]}void 0!==n._showSpikeInitial&&(c[h+".showspikes"]=n._showSpikeInitial,"on"!==f||n._showSpikeInitial||(f="off"))}else{var v=[n.r2l(n.range[0]),n.r2l(n.range[1])],b=[g*v[0]+m*v[1],g*v[1]+m*v[0]];c[h+".range[0]"]=n.l2r(b[0]),c[h+".range[1]"]=n.l2r(b[1])}u._cartesianSpikesEnabled=f}else{if("hovermode"!==l||"x"!==s&&"y"!==s){if("hovermode"===l&&"closest"===s){for(i=0;i<d.length;i++)n=d[i],"on"!==f||n.showspikes||(f="off");u._cartesianSpikesEnabled=f}}else a.setAttribute("data-val",s=u._isHoriz?"y":"x");c[l]=s}r.call("relayout",t,c)}function d(t,e){for(var n=e.currentTarget,i=n.getAttribute("data-attr"),o=n.getAttribute("data-val")||!0,a=t._fullLayout._subplots.gl3d,l={},s=i.split("."),u=0;u<a.length;u++)l[a[u]+"."+s[1]]=o;l.dragmode="pan"===o?o:"zoom",r.call("relayout",t,l)}function f(t,e){for(var n=e.currentTarget.getAttribute("data-attr"),i=t._fullLayout,o=i._subplots.gl3d,l={},s=0;s<o.length;s++){var u=o[s],c=u+".camera",d=i[u]._scene;"resetDefault"===n?l[c]=null:"resetLastSave"===n&&(l[c]=a.extendDeep({},d.cameraInitial))}r.call("relayout",t,l)}function h(t,e){var n=e.currentTarget,i=n._previousVal||!1,o=t._fullLayout,l=o._subplots.gl3d,s=["xaxis","yaxis","zaxis"],u=["showspikes","spikesides","spikethickness","spikecolor"],c={},d={},f={};if(i)f=a.extendDeep(t.layout,i),n._previousVal=null;else{f={"allaxes.showspikes":!1};for(var h=0;h<l.length;h++){var p=l[h],g=o[p],m=c[p]={};m.hovermode=g.hovermode,f[p+".hovermode"]=!1;for(var y=0;y<3;y++){var v=s[y];d=m[v]={};for(var b=0;b<u.length;b++){var _=u[b];d[_]=g[v][_]}}}n._previousVal=a.extendDeep({},c)}r.call("relayout",t,f)}function p(t,e){for(var n=e.currentTarget,i=n.getAttribute("data-attr"),o=n.getAttribute("data-val")||!0,a=t._fullLayout,l=a._subplots.geo,s=0;s<l.length;s++){var u=l[s];if("zoom"===i){var c=a[u].projection.scale;r.call("relayout",t,u+".projection.scale","in"===o?2*c:.5*c)}else"reset"===i&&m(t,"geo")}}function g(t){var e,n=t._fullLayout;e=n._has("cartesian")?n._isHoriz?"y":"x":"closest",r.call("relayout",t,"hovermode",!t._fullLayout.hovermode&&e)}function m(t,e){for(var n=t._fullLayout,i=n._subplots[e],o={},a=0;a<i.length;a++)for(var l=i[a],s=n[l]._subplot.viewInitial,u=Object.keys(s),c=0;c<u.length;c++){var d=u[c];o[l+"."+d]=s[d]}r.call("relayout",t,o)}u.toImage={name:"toImage",title:function(t){return s(t,"png"===((t._context.toImageButtonOptions||{}).format||"png")?"Download plot as a png":"Download plot")},icon:l.camera,click:function(t){var e=t._context.toImageButtonOptions,n={format:e.format||"png"};a.notifier(s(t,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==n.format&&a.isIE()&&(a.notifier(s(t,"IE only supports svg.  Changing format to svg."),"long"),n.format="svg"),["filename","width","height","scale"].forEach(function(t){e[t]&&(n[t]=e[t])}),r.call("downloadImage",t,n).then(function(e){a.notifier(s(t,"Snapshot succeeded")+" - "+e,"long")}).catch(function(){a.notifier(s(t,"Sorry, there was a problem downloading your snapshot!"),"long")})}},u.sendDataToCloud={name:"sendDataToCloud",title:function(t){return s(t,"Edit in Chart Studio")},icon:l.disk,click:function(t){i.sendDataToCloud(t)}},u.zoom2d={name:"zoom2d",title:function(t){return s(t,"Zoom")},attr:"dragmode",val:"zoom",icon:l.zoombox,click:c},u.pan2d={name:"pan2d",title:function(t){return s(t,"Pan")},attr:"dragmode",val:"pan",icon:l.pan,click:c},u.select2d={name:"select2d",title:function(t){return s(t,"Box Select")},attr:"dragmode",val:"select",icon:l.selectbox,click:c},u.lasso2d={name:"lasso2d",title:function(t){return s(t,"Lasso Select")},attr:"dragmode",val:"lasso",icon:l.lasso,click:c},u.zoomIn2d={name:"zoomIn2d",title:function(t){return s(t,"Zoom in")},attr:"zoom",val:"in",icon:l.zoom_plus,click:c},u.zoomOut2d={name:"zoomOut2d",title:function(t){return s(t,"Zoom out")},attr:"zoom",val:"out",icon:l.zoom_minus,click:c},u.autoScale2d={name:"autoScale2d",title:function(t){return s(t,"Autoscale")},attr:"zoom",val:"auto",icon:l.autoscale,click:c},u.resetScale2d={name:"resetScale2d",title:function(t){return s(t,"Reset axes")},attr:"zoom",val:"reset",icon:l.home,click:c},u.hoverClosestCartesian={name:"hoverClosestCartesian",title:function(t){return s(t,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:l.tooltip_basic,gravity:"ne",click:c},u.hoverCompareCartesian={name:"hoverCompareCartesian",title:function(t){return s(t,"Compare data on hover")},attr:"hovermode",val:function(t){return t._fullLayout._isHoriz?"y":"x"},icon:l.tooltip_compare,gravity:"ne",click:c},u.zoom3d={name:"zoom3d",title:function(t){return s(t,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:l.zoombox,click:d},u.pan3d={name:"pan3d",title:function(t){return s(t,"Pan")},attr:"scene.dragmode",val:"pan",icon:l.pan,click:d},u.orbitRotation={name:"orbitRotation",title:function(t){return s(t,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:l["3d_rotate"],click:d},u.tableRotation={name:"tableRotation",title:function(t){return s(t,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:l["z-axis"],click:d},u.resetCameraDefault3d={name:"resetCameraDefault3d",title:function(t){return s(t,"Reset camera to default")},attr:"resetDefault",icon:l.home,click:f},u.resetCameraLastSave3d={name:"resetCameraLastSave3d",title:function(t){return s(t,"Reset camera to last save")},attr:"resetLastSave",icon:l.movie,click:f},u.hoverClosest3d={name:"hoverClosest3d",title:function(t){return s(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:h},u.zoomInGeo={name:"zoomInGeo",title:function(t){return s(t,"Zoom in")},attr:"zoom",val:"in",icon:l.zoom_plus,click:p},u.zoomOutGeo={name:"zoomOutGeo",title:function(t){return s(t,"Zoom out")},attr:"zoom",val:"out",icon:l.zoom_minus,click:p},u.resetGeo={name:"resetGeo",title:function(t){return s(t,"Reset")},attr:"reset",val:null,icon:l.autoscale,click:p},u.hoverClosestGeo={name:"hoverClosestGeo",title:function(t){return s(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:g},u.hoverClosestGl2d={name:"hoverClosestGl2d",title:function(t){return s(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:g},u.hoverClosestPie={name:"hoverClosestPie",title:function(t){return s(t,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:l.tooltip_basic,gravity:"ne",click:g},u.toggleHover={name:"toggleHover",title:function(t){return s(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:function(t,e){g(t),h(t,e)}},u.resetViews={name:"resetViews",title:function(t){return s(t,"Reset views")},icon:l.home,click:function(t,e){var n=e.currentTarget;n.setAttribute("data-attr","zoom"),n.setAttribute("data-val","reset"),c(t,e),n.setAttribute("data-attr","resetLastSave"),f(t,e),m(t,"geo"),m(t,"mapbox")}},u.toggleSpikelines={name:"toggleSpikelines",title:function(t){return s(t,"Toggle Spike Lines")},icon:l.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(t){var e=t._fullLayout;e._cartesianSpikesEnabled="on"===e._cartesianSpikesEnabled?"off":"on";var n=function(t){for(var e,n=t._fullLayout,r=o.list(t,null,!0),i={},a=0;a<r.length;a++)i[(e=r[a])._name+".showspikes"]="on"===n._cartesianSpikesEnabled||e._showSpikeInitial;return i}(t);r.call("relayout",t,n)}},u.resetViewMapbox={name:"resetViewMapbox",title:function(t){return s(t,"Reset view")},attr:"reset",icon:l.home,click:function(t){m(t,"mapbox")}}},{"../../../build/ploticon":2,"../../lib":163,"../../plots/cartesian/axis_ids":208,"../../plots/plots":237,"../../registry":245}],106:[function(t,e,n){"use strict";n.manage=t("./manage")},{"./manage":107}],107:[function(t,e,n){"use strict";var r=t("../../plots/cartesian/axis_ids"),i=t("../../traces/scatter/subtypes"),o=t("../../registry"),a=t("./modebar"),l=t("./buttons");e.exports=function(t){var e=t._fullLayout,n=t._context,s=e._modeBar;if(n.displayModeBar){if(!Array.isArray(n.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(n.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var u,c=n.modeBarButtons;u=Array.isArray(c)&&c.length?function(t){for(var e=0;e<t.length;e++)for(var n=t[e],r=0;r<n.length;r++){var i=n[r];if("string"==typeof i){if(void 0===l[i])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));t[e][r]=l[i]}}return t}(c):function(t,e,n){var a=t._fullLayout,s=t._fullData,u=a._has("cartesian"),c=a._has("gl3d"),d=a._has("geo"),f=a._has("pie"),h=a._has("gl2d"),p=a._has("ternary"),g=a._has("mapbox"),m=a._has("polar"),y=function(t){for(var e=r.list({_fullLayout:t},null,!0),n=0;n<e.length;n++)if(!e[n].fixedrange)return!1;return!0}(a),v=[];function b(t){if(t.length){for(var n=[],r=0;r<t.length;r++){var i=t[r];-1===e.indexOf(i)&&n.push(l[i])}v.push(n)}}b(["toImage","sendDataToCloud"]);var _=[],x=[],w=[],k=[];return(u||h||f||p)+d+c+g+m>1?(x=["toggleHover"],w=["resetViews"]):d?(_=["zoomInGeo","zoomOutGeo"],x=["hoverClosestGeo"],w=["resetGeo"]):c?(x=["hoverClosest3d"],w=["resetCameraDefault3d","resetCameraLastSave3d"]):g?(x=["toggleHover"],w=["resetViewMapbox"]):x=h?["hoverClosestGl2d"]:f?["hoverClosestPie"]:["toggleHover"],u&&(x=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),!u&&!h||y||(_=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==w[0]&&(w=["resetScale2d"])),c?k=["zoom3d","pan3d","orbitRotation","tableRotation"]:(u||h)&&!y||p?k=["zoom2d","pan2d"]:g||d?k=["pan2d"]:m&&(k=["zoom2d"]),function(t){for(var e=!1,n=0;n<t.length&&!e;n++){var r=t[n];r._module&&r._module.selectPoints&&(o.traceIs(r,"scatter-like")?(i.hasMarkers(r)||i.hasText(r))&&(e=!0):o.traceIs(r,"box-violin")&&"all"!==r.boxpoints&&"all"!==r.points||(e=!0))}return e}(s)&&k.push("select2d","lasso2d"),b(k),b(_.concat(w)),b(x),function(t,e){if(e.length)if(Array.isArray(e[0]))for(var n=0;n<e.length;n++)t.push(e[n]);else t.push(e);return t}(v,n)}(t,n.modeBarButtonsToRemove,n.modeBarButtonsToAdd),s?s.update(t,u):e._modeBar=a(t,u)}else s&&(s.destroy(),delete e._modeBar)}},{"../../plots/cartesian/axis_ids":208,"../../registry":245,"../../traces/scatter/subtypes":303,"./buttons":105,"./modebar":108}],108:[function(t,e,n){"use strict";var r=t("d3"),i=t("../../lib"),o=t("../../../build/ploticon");function a(t){this.container=t.container,this.element=document.createElement("div"),this.update(t.graphInfo,t.buttons),this.container.appendChild(this.element)}var l=a.prototype;l.update=function(t,e){this.graphInfo=t;var n=this.graphInfo._context;this.element.className="hover"===n.displayModeBar?"modebar modebar--hover":"modebar";var r=!this.hasButtons(e),i=this.hasLogo!==n.displaylogo,o=this.locale!==n.locale;this.locale=n.locale,(r||i||o)&&(this.removeAllButtons(),this.updateButtons(e),n.displaylogo&&(this.element.appendChild(this.getLogo()),this.hasLogo=!0)),this.updateActiveButton()},l.updateButtons=function(t){var e=this;this.buttons=t,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(t){var n=e.createGroup();t.forEach(function(t){var r=t.name;if(!r)throw new Error("must provide button 'name' in button config");if(-1!==e.buttonsNames.indexOf(r))throw new Error("button name '"+r+"' is taken");e.buttonsNames.push(r);var i=e.createButton(t);e.buttonElements.push(i),n.appendChild(i)}),e.element.appendChild(n)})},l.createGroup=function(){var t=document.createElement("div");return t.className="modebar-group",t},l.createButton=function(t){var e=this,n=document.createElement("a");n.setAttribute("rel","tooltip"),n.className="modebar-btn";var i=t.title;void 0===i?i=t.name:"function"==typeof i&&(i=i(this.graphInfo)),(i||0===i)&&n.setAttribute("data-title",i),void 0!==t.attr&&n.setAttribute("data-attr",t.attr);var a=t.val;if(void 0!==a&&("function"==typeof a&&(a=a(this.graphInfo)),n.setAttribute("data-val",a)),"function"!=typeof t.click)throw new Error("must provide button 'click' function in button config");return n.addEventListener("click",function(n){t.click(e.graphInfo,n),e.updateActiveButton(n.currentTarget)}),n.setAttribute("data-toggle",t.toggle||!1),t.toggle&&r.select(n).classed("active",!0),n.appendChild(this.createIcon(t.icon||o.question,t.name)),n.setAttribute("data-gravity",t.gravity||"n"),n},l.createIcon=function(t,e){var n=t.ascent-t.descent,r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),o=document.createElementNS(r,"path");i.setAttribute("height","1em"),i.setAttribute("width",t.width/n+"em"),i.setAttribute("viewBox",[0,0,t.width,n].join(" "));var a="toggleSpikelines"===e?"matrix(1.5 0 0 -1.5 0 "+t.ascent+")":"matrix(1 0 0 -1 0 "+t.ascent+")";return o.setAttribute("d",t.path),o.setAttribute("transform",a),i.appendChild(o),i},l.updateActiveButton=function(t){var e=this.graphInfo._fullLayout,n=void 0!==t?t.getAttribute("data-attr"):null;this.buttonElements.forEach(function(t){var o=t.getAttribute("data-val")||!0,a=t.getAttribute("data-attr"),l="true"===t.getAttribute("data-toggle"),s=r.select(t);if(l)a===n&&s.classed("active",!s.classed("active"));else{var u=null===a?a:i.nestedProperty(e,a).get();s.classed("active",u===o)}})},l.hasButtons=function(t){var e=this.buttons;if(!e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n){if(t[n].length!==e[n].length)return!1;for(var r=0;r<t[n].length;r++)if(t[n][r].name!==e[n][r].name)return!1}return!0},l.getLogo=function(){var t=this.createGroup(),e=document.createElement("a");return e.href="https://plot.ly/",e.target="_blank",e.setAttribute("data-title",i._(this.graphInfo,"Produced with Plotly")),e.className="modebar-btn plotlyjsicon modebar-btn--logo",e.appendChild(this.createIcon(o.plotlylogo)),t.appendChild(e),t},l.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},l.destroy=function(){i.removeElement(this.container.querySelector(".modebar"))},e.exports=function(t,e){var n=t._fullLayout,i=new a({graphInfo:t,container:n._paperdiv.node(),buttons:e});return n._privateplot&&r.select(i.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),i}},{"../../../build/ploticon":2,"../../lib":163,d3:7}],109:[function(t,e,n){"use strict";var r=t("../../plots/font_attributes"),i=t("../color/attributes"),o=t("../../lib/extend").extendFlat,a=t("./button_attributes");a=o(a,{_isLinkedToArray:"button"}),e.exports={visible:{valType:"boolean",editType:"plot"},buttons:a,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:r({editType:"plot"}),bgcolor:{valType:"color",dflt:i.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:i.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},{"../../lib/extend":157,"../../plots/font_attributes":231,"../color/attributes":42,"./button_attributes":110}],110:[function(t,e,n){"use strict";e.exports={step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"}},{}],111:[function(t,e,n){"use strict";e.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},{}],112:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../color"),o=t("./attributes"),a=t("./button_attributes"),l=t("./constants");e.exports=function(t,e,n,s,u){var c=t.rangeselector||{},d=e.rangeselector={};function f(t,e){return r.coerce(c,d,o,t,e)}if(f("visible",function(t,e,n){var i,o,l=c.buttons||[],s=d.buttons=[];function u(t,e){return r.coerce(i,o,a,t,e)}for(var f=0;f<l.length;f++)if(o={},r.isPlainObject(i=l[f])){var h=u("step");"all"!==h&&(!n||"gregorian"===n||"month"!==h&&"year"!==h?u("stepmode"):o.stepmode="backward",u("count")),u("label"),o._index=f,s.push(o)}return s}(0,0,u).length>0)){var h=function(t,e,n){for(var r=n.filter(function(n){return e[n].anchor===t._id}),i=0,o=0;o<r.length;o++){var a=e[r[o]].domain;a&&(i=Math.max(a[1],i))}return[t.domain[0],i+l.yPad]}(e,n,s);f("x",h[0]),f("y",h[1]),r.noneOrAll(t,e,["x","y"]),f("xanchor"),f("yanchor"),r.coerceFont(f,"font",n.font);var p=f("bgcolor");f("activecolor",i.contrast(p,l.lightAmount,l.darkAmount)),f("bordercolor"),f("borderwidth")}}},{"../../lib":163,"../color":43,"./attributes":109,"./button_attributes":110,"./constants":111}],113:[function(t,e,n){"use strict";var r=t("d3"),i=t("../../registry"),o=t("../../plots/plots"),a=t("../color"),l=t("../drawing"),s=t("../../lib"),u=t("../../lib/svg_text_utils"),c=t("../../plots/cartesian/axis_ids"),d=t("../legend/anchor_utils"),f=t("../../constants/alignment"),h=f.LINE_SPACING,p=f.FROM_TL,g=f.FROM_BR,m=t("./constants"),y=t("./get_update_object");function v(t){return t._id}function b(t,e,n){var r=s.ensureSingle(t,"rect","selector-rect",function(t){t.attr("shape-rendering","crispEdges")});r.attr({rx:m.rx,ry:m.ry}),r.call(a.stroke,e.bordercolor).call(a.fill,function(t,e){return e._isActive||e._isHovered?t.activecolor:t.bgcolor}(e,n)).style("stroke-width",e.borderwidth+"px")}function _(t,e,n,r){var i;s.ensureSingle(t,"text","selector-text",function(t){t.classed("user-select-none",!0).attr("text-anchor","middle")}).call(l.font,e.font).text((i=n,i.label?i.label:"all"===i.step?"all":i.count+i.step.charAt(0))).call(function(t){u.convertToTspans(t,r)})}e.exports=function(t){var e=t._fullLayout._infolayer.selectAll(".rangeselector").data(function(t){for(var e=c.list(t,"x",!0),n=[],r=0;r<e.length;r++){var i=e[r];i.rangeselector&&i.rangeselector.visible&&n.push(i)}return n}(t),v);e.enter().append("g").classed("rangeselector",!0),e.exit().remove(),e.style({cursor:"pointer","pointer-events":"all"}),e.each(function(e){var n=r.select(this),a=e,s=a.rangeselector,c=n.selectAll("g.button").data(s.buttons);c.enter().append("g").classed("button",!0),c.exit().remove(),c.each(function(e){var n=r.select(this),o=y(a,e);e._isActive=function(t,n,r){if("all"===e.step)return!0===t.autorange;var i=Object.keys(r);return t.range[0]===r[i[0]]&&t.range[1]===r[i[1]]}(a,0,o),n.call(b,s,e),n.call(_,s,e,t),n.on("click",function(){t._dragged||i.call("relayout",t,o)}),n.on("mouseover",function(){e._isHovered=!0,n.call(b,s,e)}),n.on("mouseout",function(){e._isHovered=!1,n.call(b,s,e)})}),function(t,e,n,i,a){var s=0,c=0,f=n.borderwidth;e.each(function(){var t=r.select(this).select(".selector-text"),e=Math.max(n.font.size*h*u.lineCount(t),16)+3;c=Math.max(c,e)}),e.each(function(){var t=r.select(this),e=t.select(".selector-rect"),i=t.select(".selector-text"),o=i.node()&&l.bBox(i.node()).width,a=n.font.size*h,d=u.lineCount(i),p=Math.max(o+10,m.minButtonWidth);t.attr("transform","translate("+(f+s)+","+f+")"),e.attr({x:0,y:0,width:p,height:c}),u.positionText(i,p/2,c/2-(d-1)*a/2+3),s+=p+5});var y=t._fullLayout._size,v=y.l+y.w*n.x,b=y.t+y.h*(1-n.y),_="left";d.isRightAnchor(n)&&(v-=s,_="right"),d.isCenterAnchor(n)&&(v-=s/2,_="center");var x="top";d.isBottomAnchor(n)&&(b-=c,x="bottom"),d.isMiddleAnchor(n)&&(b-=c/2,x="middle"),s=Math.ceil(s),c=Math.ceil(c),v=Math.round(v),b=Math.round(b),o.autoMargin(t,i+"-range-selector",{x:n.x,y:n.y,l:s*p[_],r:s*g[_],b:c*g[x],t:c*p[x]}),a.attr("transform","translate("+v+","+b+")")}(t,c,s,a._name,n)})}},{"../../constants/alignment":143,"../../lib":163,"../../lib/svg_text_utils":184,"../../plots/cartesian/axis_ids":208,"../../plots/plots":237,"../../registry":245,"../color":43,"../drawing":68,"../legend/anchor_utils":95,"./constants":111,"./get_update_object":114,d3:7}],114:[function(t,e,n){"use strict";var r=t("d3");e.exports=function(t,e){var n=t._name,i={};if("all"===e.step)i[n+".autorange"]=!0;else{var o=function(t,e){var n,i=t.range,o=new Date(t.r2l(i[1])),a=e.step,l=e.count;switch(e.stepmode){case"backward":n=t.l2r(+r.time[a].utc.offset(o,-l));break;case"todate":var s=r.time[a].utc.offset(o,-l);n=t.l2r(+r.time[a].utc.ceil(s))}return[n,i[1]]}(t,e);i[n+".range[0]"]=o[0],i[n+".range[1]"]=o[1]}return i}},{d3:7}],115:[function(t,e,n){"use strict";e.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:t("./attributes")}}},layoutAttributes:t("./attributes"),handleDefaults:t("./defaults"),draw:t("./draw")}},{"./attributes":109,"./defaults":112,"./draw":113}],116:[function(t,e,n){"use strict";var r=t("../color/attributes");e.exports={bgcolor:{valType:"color",dflt:r.background,editType:"plot"},bordercolor:{valType:"color",dflt:r.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},{"../color/attributes":42}],117:[function(t,e,n){"use strict";var r=t("../../plots/cartesian/axis_ids").list,i=t("../../plots/cartesian/autorange").getAutoRange,o=t("./constants");e.exports=function(t){for(var e=r(t,"x",!0),n=0;n<e.length;n++){var a=e[n],l=a[o.name];l&&l.visible&&l.autorange&&a._min.length&&a._max.length&&(l._input.autorange=!0,l._input.range=l.range=i(a))}}},{"../../plots/cartesian/autorange":204,"../../plots/cartesian/axis_ids":208,"./constants":118}],118:[function(t,e,n){"use strict";e.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},{}],119:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("./attributes"),o=t("./oppaxis_attributes"),a=t("../../plots/cartesian/axis_ids");e.exports=function(t,e,n){var l=t[n],s=e[n];if(l.rangeslider||e._requestRangeslider[s._id]){r.isPlainObject(l.rangeslider)||(l.rangeslider={});var u=l.rangeslider,c=s.rangeslider={};if(x("visible")){x("bgcolor",e.plot_bgcolor),x("bordercolor"),x("borderwidth"),x("thickness"),s._rangesliderAutorange=x("autorange",!s.isValidRange(u.range)),x("range");var d=e._subplots;if(d)for(var f=d.cartesian.filter(function(t){return t.substr(0,t.indexOf("y"))===a.name2id(n)}).map(function(t){return t.substr(t.indexOf("y"),t.length)}),h=r.simpleMap(f,a.id2name),p=0;p<h.length;p++){var g,m=h[p],y=u[m]||{},v=c[m]={},b=e[m];y.range&&b.isValidRange(y.range)&&(g="fixed");var _=w(y,v,"rangemode",g);"match"!==_&&w(y,v,"range",b.range.slice()),b._rangesliderAutorange="auto"===_}c._input=u}}function x(t,e){return r.coerce(u,c,i,t,e)}function w(t,e,n,i){return r.coerce(t,e,o,n,i)}}},{"../../lib":163,"../../plots/cartesian/axis_ids":208,"./attributes":116,"./oppaxis_attributes":122}],120:[function(t,e,n){"use strict";var r=t("d3"),i=t("../../registry"),o=t("../../plots/plots"),a=t("../../lib"),l=t("../drawing"),s=t("../color"),u=t("../titles"),c=t("../../plots/cartesian"),d=t("../../plots/cartesian/axes"),f=t("../dragelement"),h=t("../../lib/setcursor"),p=t("./constants");function g(t,e,n,r){var i=a.ensureSingle(t,"rect",p.bgClassName,function(t){t.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),o=r.borderwidth%2==0?r.borderwidth:r.borderwidth-1,s=-r._offsetShift,u=l.crispRound(e,r.borderwidth);i.attr({width:r._width+o,height:r._height+o,transform:"translate("+s+","+s+")",fill:r.bgcolor,stroke:r.bordercolor,"stroke-width":u})}function m(t,e,n,r){a.ensureSingleById(e._fullLayout._topdefs,"clipPath",r._clipId,function(t){t.append("rect").attr({x:0,y:0})}).select("rect").attr({width:r._width,height:r._height})}function y(t,e,n,i){var s,u=d.getSubplots(e,n),f=e.calcdata,h=t.selectAll("g."+p.rangePlotClassName).data(u,a.identity);h.enter().append("g").attr("class",function(t){return p.rangePlotClassName+" "+t}).call(l.setClipUrl,i._clipId),h.order(),h.exit().remove(),h.each(function(t,a){var l=r.select(this),u=0===a,h=d.getFromId(e,t,"y"),p=h._name,g=i[p],m={data:[],layout:{xaxis:{type:n.type,domain:[0,1],range:i.range.slice(),calendar:n.calendar},width:i._width,height:i._height,margin:{t:0,b:0,l:0,r:0}},_context:e._context};m.layout[p]={type:h.type,domain:[0,1],range:"match"!==g.rangemode?g.range.slice():h.range.slice(),calendar:h.calendar},o.supplyDefaults(m);var y={id:t,plotgroup:l,xaxis:m._fullLayout.xaxis,yaxis:m._fullLayout[p],isRangePlot:!0};u?s=y:(y.mainplot="xy",y.mainplotinfo=s),c.rangePlot(e,y,function(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r],o=i[0].trace;o.xaxis+o.yaxis===e&&n.push(i)}return n}(f,t))})}function v(t,e,n,r,i){a.ensureSingle(t,"rect",p.maskMinClassName,function(t){t.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",r._height).call(s.fill,p.maskColor),a.ensureSingle(t,"rect",p.maskMaxClassName,function(t){t.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",r._height).call(s.fill,p.maskColor),"match"!==i.rangemode&&(a.ensureSingle(t,"rect",p.maskMinOppAxisClassName,function(t){t.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",r._width).call(s.fill,p.maskOppAxisColor),a.ensureSingle(t,"rect",p.maskMaxOppAxisClassName,function(t){t.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",r._width).style("border-top",p.maskOppBorder).call(s.fill,p.maskOppAxisColor))}function b(t,e,n,r){e._context.staticPlot||a.ensureSingle(t,"rect",p.slideBoxClassName,function(t){t.attr({y:0,cursor:p.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:r._height,fill:p.slideBoxFill})}function _(t,e,n,r){var i=a.ensureSingle(t,"g",p.grabberMinClassName),o=a.ensureSingle(t,"g",p.grabberMaxClassName),l={x:0,width:p.handleWidth,rx:p.handleRadius,fill:s.background,stroke:s.defaultLine,"stroke-width":p.handleStrokeWidth,"shape-rendering":"crispEdges"},u={y:Math.round(r._height/4),height:Math.round(r._height/2)};if(a.ensureSingle(i,"rect",p.handleMinClassName,function(t){t.attr(l)}).attr(u),a.ensureSingle(o,"rect",p.handleMaxClassName,function(t){t.attr(l)}).attr(u),!e._context.staticPlot){var c={width:p.grabAreaWidth,x:0,y:0,fill:p.grabAreaFill,cursor:p.grabAreaCursor};a.ensureSingle(i,"rect",p.grabAreaMinClassName,function(t){t.attr(c)}).attr("height",r._height),a.ensureSingle(o,"rect",p.grabAreaMaxClassName,function(t){t.attr(c)}).attr("height",r._height)}}e.exports=function(t){var e=t._fullLayout,n=function(t){var e=d.list({_fullLayout:t},"x",!0),n=p.name,r=[];if(t._has("gl2d"))return r;for(var i=0;i<e.length;i++){var o=e[i];o[n]&&o[n].visible&&r.push(o)}return r}(e),l=e._infolayer.selectAll("g."+p.containerClassName).data(n,function(t){return t._name});l.enter().append("g").classed(p.containerClassName,!0).attr("pointer-events","all"),l.exit().each(function(t){var n=r.select(this),i=t[p.name];n.remove(),e._topdefs.select("#"+i._clipId).remove()}),l.exit().size()&&function(t){for(var e=Object.keys(t._fullLayout._pushmargin||{}),n=0;n<e.length;n++){var r=e[n];-1!==r.indexOf(p.name)&&o.autoMargin(t,r)}}(t),0!==n.length&&l.each(function(n){var l=r.select(this),s=n[p.name],c=e[d.id2name(n.anchor)],x=s[d.id2name(n.anchor)];if(s.range){var w=s.range,k=n.range;w[0]=n.l2r(Math.min(n.r2l(w[0]),n.r2l(k[0]))),w[1]=n.l2r(Math.max(n.r2l(w[1]),n.r2l(k[1]))),s._input.range=w.slice()}n.cleanRange("rangeslider.range");for(var T=e.margin,C=e._size,A=n.domain,M=(n._boundingBox||{}).height||0,S=1/0,E=d.getSubplots(t,n),O=0;O<E.length;O++){var P=d.getFromId(t,E[O].substr(E[O].indexOf("y")));S=Math.min(S,P.domain[0])}s._id=p.name+n._id,s._clipId=s._id+"-"+e._uid,s._width=C.w*(A[1]-A[0]),s._height=(e.height-T.b-T.t)*s.thickness,s._offsetShift=Math.floor(s.borderwidth/2);var I=Math.round(T.l+C.w*A[0]),D=Math.round(C.t+C.h*(1-S)+M+s._offsetShift+p.extraPad);l.attr("transform","translate("+I+","+D+")");var L=n.r2l(s.range[0]),R=n.r2l(s.range[1]),N=R-L;if(s.p2d=function(t){return t/s._width*N+L},s.d2p=function(t){return(t-L)/N*s._width},s._rl=[L,R],"match"!==x.rangemode){var F=c.r2l(x.range[0]),z=c.r2l(x.range[1])-F;s.d2pOppAxis=function(t){return(t-F)/z*s._height}}l.call(g,t,n,s).call(m,t,n,s).call(y,t,n,s).call(v,t,n,s,x).call(b,t,n,s).call(_,t,n,s),function(t,e,n,o){var l=t.select("rect."+p.slideBoxClassName).node(),s=t.select("rect."+p.grabAreaMinClassName).node(),u=t.select("rect."+p.grabAreaMaxClassName).node();t.on("mousedown",function(){var c=r.event,d=c.target,p=c.clientX,g=p-t.node().getBoundingClientRect().left,m=o.d2p(n._rl[0]),y=o.d2p(n._rl[1]),v=f.coverSlip();function b(t){var c,f,b,_=+t.clientX-p;switch(d){case l:b="ew-resize",c=m+_,f=y+_;break;case s:b="col-resize",c=m+_,f=y;break;case u:b="col-resize",c=m,f=y+_;break;default:b="ew-resize",c=g,f=g+_}if(f<c){var x=f;f=c,c=x}o._pixelMin=c,o._pixelMax=f,h(r.select(v),b),function(t,e,n,r){function o(t){return n.l2r(a.constrain(t,r._rl[0],r._rl[1]))}var l=o(r.p2d(r._pixelMin)),s=o(r.p2d(r._pixelMax));window.requestAnimationFrame(function(){i.call("relayout",e,n._name+".range",[l,s])})}(0,e,n,o)}v.addEventListener("mousemove",b),v.addEventListener("mouseup",function t(){v.removeEventListener("mousemove",b),v.removeEventListener("mouseup",t),a.removeElement(v)})})}(l,t,n,s),function(t,e,n,r,i,o){var l=p.handleWidth/2;function s(t){return a.constrain(t,0,r._width)}function u(t){return a.constrain(t,0,r._height)}function c(t){return a.constrain(t,-l,r._width+l)}var d=s(r.d2p(n._rl[0])),f=s(r.d2p(n._rl[1]));if(t.select("rect."+p.slideBoxClassName).attr("x",d).attr("width",f-d),t.select("rect."+p.maskMinClassName).attr("width",d),t.select("rect."+p.maskMaxClassName).attr("x",f).attr("width",r._width-f),"match"!==o.rangemode){var h=r._height-u(r.d2pOppAxis(i._rl[1])),g=r._height-u(r.d2pOppAxis(i._rl[0]));t.select("rect."+p.maskMinOppAxisClassName).attr("x",d).attr("height",h).attr("width",f-d),t.select("rect."+p.maskMaxOppAxisClassName).attr("x",d).attr("y",g).attr("height",r._height-g).attr("width",f-d),t.select("rect."+p.slideBoxClassName).attr("y",h).attr("height",g-h)}var m=Math.round(c(d-l))-.5,y=Math.round(c(f-l))+.5;t.select("g."+p.grabberMinClassName).attr("transform","translate("+m+",0.5)"),t.select("g."+p.grabberMaxClassName).attr("transform","translate("+y+",0.5)")}(l,0,n,s,c,x),"bottom"===n.side&&u.draw(t,n._id+"title",{propContainer:n,propName:n._name+".title",placeholder:e._dfltTitle.x,attributes:{x:n._offset+n._length/2,y:D+s._height+s._offsetShift+10+1.5*n.titlefont.size,"text-anchor":"middle"}}),o.autoMargin(t,s._id,{x:A[0],y:S,l:0,r:0,t:0,b:s._height+T.b+M,pad:p.extraPad+2*s._offsetShift})})}},{"../../lib":163,"../../lib/setcursor":182,"../../plots/cartesian":216,"../../plots/cartesian/axes":205,"../../plots/plots":237,"../../registry":245,"../color":43,"../dragelement":65,"../drawing":68,"../titles":136,"./constants":118,d3:7}],121:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("./attributes"),o=t("./oppaxis_attributes");e.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:r.extendFlat({},i,{yaxis:o})}}},layoutAttributes:t("./attributes"),handleDefaults:t("./defaults"),calcAutorange:t("./calc_autorange"),draw:t("./draw")}},{"../../lib":163,"./attributes":116,"./calc_autorange":117,"./defaults":119,"./draw":120,"./oppaxis_attributes":122}],122:[function(t,e,n){"use strict";e.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},{}],123:[function(t,e,n){"use strict";var r=t("../annotations/attributes"),i=t("../../traces/scatter/attributes").line,o=t("../drawing/attributes").dash,a=t("../../lib/extend").extendFlat;e.exports={_isLinkedToArray:"shape",visible:{valType:"boolean",dflt:!0,editType:"calcIfAutorange+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calcIfAutorange+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:a({},r.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calcIfAutorange+arraydraw"},xanchor:{valType:"any",editType:"calcIfAutorange+arraydraw"},x0:{valType:"any",editType:"calcIfAutorange+arraydraw"},x1:{valType:"any",editType:"calcIfAutorange+arraydraw"},yref:a({},r.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calcIfAutorange+arraydraw"},yanchor:{valType:"any",editType:"calcIfAutorange+arraydraw"},y0:{valType:"any",editType:"calcIfAutorange+arraydraw"},y1:{valType:"any",editType:"calcIfAutorange+arraydraw"},path:{valType:"string",editType:"calcIfAutorange+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:a({},i.color,{editType:"arraydraw"}),width:a({},i.width,{editType:"calcIfAutorange+arraydraw"}),dash:a({},o,{editType:"arraydraw"}),editType:"calcIfAutorange+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},editType:"arraydraw"}},{"../../lib/extend":157,"../../traces/scatter/attributes":281,"../annotations/attributes":28,"../drawing/attributes":67}],124:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../plots/cartesian/axes"),o=t("./constants"),a=t("./helpers");function l(t){return u(t.line.width,t.xsizemode,t.x0,t.x1,t.path,!1)}function s(t){return u(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function u(t,e,n,i,l,s){var u=t/2,c=s;if("pixel"===e){var d=l?a.extractPathCoords(l,s?o.paramIsY:o.paramIsX):[n,i],f=r.aggNums(Math.max,null,d),h=r.aggNums(Math.min,null,d),p=h<0?Math.abs(h)+u:u,g=f>0?f+u:u;return{ppad:u,ppadplus:c?p:g,ppadminus:c?g:p}}return{ppad:u}}function c(t,e,n,r,i){var l="category"===t.type?t.r2c:t.d2c;if(void 0!==e)return[l(e),l(n)];if(r){var s,u,c,d,f=1/0,h=-1/0,p=r.match(o.segmentRE);for("date"===t.type&&(l=a.decodeDate(l)),s=0;s<p.length;s++)void 0!==(u=i[p[s].charAt(0)].drawn)&&(!(c=p[s].substr(1).match(o.paramRE))||c.length<u||((d=l(c[u]))<f&&(f=d),d>h&&(h=d)));return h>=f?[f,h]:void 0}}e.exports=function(t){var e=r.filterVisible(t._fullLayout.shapes);if(e.length&&t._fullData.length)for(var n=0;n<e.length;n++){var a,u,d=e[n];if("paper"!==d.xref){var f="pixel"===d.xsizemode?d.xanchor:d.x0,h="pixel"===d.xsizemode?d.xanchor:d.x1;(u=c(a=i.getFromId(t,d.xref),f,h,d.path,o.paramIsX))&&i.expand(a,u,l(d))}if("paper"!==d.yref){var p="pixel"===d.ysizemode?d.yanchor:d.y0,g="pixel"===d.ysizemode?d.yanchor:d.y1;(u=c(a=i.getFromId(t,d.yref),p,g,d.path,o.paramIsY))&&i.expand(a,u,s(d))}}}},{"../../lib":163,"../../plots/cartesian/axes":205,"./constants":125,"./helpers":128}],125:[function(t,e,n){"use strict";e.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},{}],126:[function(t,e,n){"use strict";var r=t("../../plots/array_container_defaults"),i=t("./shape_defaults");e.exports=function(t,e){r(t,e,{name:"shapes",handleItemDefaults:i})}},{"../../plots/array_container_defaults":201,"./shape_defaults":130}],127:[function(t,e,n){"use strict";var r=t("../../registry"),i=t("../../lib"),o=t("../../plots/cartesian/axes"),a=t("../color"),l=t("../drawing"),s=t("../dragelement"),u=t("../../lib/setcursor"),c=t("./constants"),d=t("./helpers");function f(t,e){t._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+e+'"]').remove();var n=t._fullLayout.shapes[e];if((t.layout.shapes||[])[e]&&!1!==n.visible)if("below"!==n.layer)m(t._fullLayout._shapeUpperLayer);else if("paper"===n.xref||"paper"===n.yref)m(t._fullLayout._shapeLowerLayer);else{var f=t._fullLayout._plots[n.xref+n.yref];m(f?(f.mainplotinfo||f).shapelayer:t._fullLayout._shapeLowerLayer)}function m(f){var m={"data-index":e,"fill-rule":"evenodd",d:p(t,n)},y=n.line.width?n.line.color:"rgba(0,0,0,0)",v=f.append("path").attr(m).style("opacity",n.opacity).call(a.stroke,y).call(a.fill,n.fillcolor).call(l.dashLine,n.line.dash,n.line.width);h(v,t,n),t._context.edits.shapePosition&&function(t,e,n,a,f){var m,y,v,b,_,x,w,k,T,C,A,M,S,E,O,P,I,D,L,R,N,F,z,j,V,B,H,q,U=10,G=10,W="pixel"===n.xsizemode,Y="pixel"===n.ysizemode,Z="line"===n.type,X="path"===n.type,Q=o.getFromId(t,n.xref),K=o.getFromId(t,n.yref),$=d.getDataToPixel(t,Q),J=d.getDataToPixel(t,K,!0),tt=d.getPixelToData(t,Q),et=d.getPixelToData(t,K,!0),nt=Z?function(){var t=Math.max(n.line.width,10),r=f.append("g").attr("data-index",a);r.append("path").attr("d",e.attr("d")).style({cursor:"move","stroke-width":t,"stroke-opacity":"0"});var i={"fill-opacity":"0"},o=t/2>10?t/2:10;return r.append("circle").attr({"data-line-point":"start-point",cx:W?$(n.xanchor)+n.x0:$(n.x0),cy:Y?J(n.yanchor)-n.y0:J(n.y0),r:o}).style(i).classed("cursor-grab",!0),r.append("circle").attr({"data-line-point":"end-point",cx:W?$(n.xanchor)+n.x1:$(n.x1),cy:Y?J(n.yanchor)-n.y1:J(n.y1),r:o}).style(i).classed("cursor-grab",!0),r}():e,rt={element:nt.node(),gd:t,prepFn:function(r){var i="shapes["+a+"]";W&&(x=$(n.xanchor),M=i+".xanchor"),Y&&(w=J(n.yanchor),S=i+".yanchor"),"path"===n.type?(B=n.path,H=i+".path"):(y=W?n.x0:$(n.x0),v=Y?n.y0:J(n.y0),b=W?n.x1:$(n.x1),_=Y?n.y1:J(n.y1),k=i+".x0",T=i+".y0",C=i+".x1",A=i+".y1"),y<b?(P=y,R=i+".x0",j="x0",I=b,N=i+".x1",V="x1"):(P=b,R=i+".x1",j="x1",I=y,N=i+".x0",V="x0"),!Y&&v<_||Y&&v>_?(E=v,D=i+".y0",F="y0",O=_,L=i+".y1",z="y1"):(E=_,D=i+".y1",F="y1",O=v,L=i+".y0",z="y0"),m={},it(r),lt(f,n),function(t,e,n){var r=e.xref,i=e.yref,a=o.getFromId(n,r),s=o.getFromId(n,i),u="";"paper"===r||a.autorange||(u+=r),"paper"===i||s.autorange||(u+=i),t.call(l.setClipUrl,u?"clip"+n._fullLayout._uid+u:null)}(e,n,t),rt.moveFn="move"===q?ot:at},doneFn:function(){u(e),st(f),h(e,t,n),r.call("relayout",t,m)},clickFn:function(){st(f)}};function it(t){if(Z)q="path"===t.target.tagName?"move":"start-point"===t.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var n=rt.element.getBoundingClientRect(),r=n.right-n.left,i=n.bottom-n.top,o=!X&&r>U&&i>G&&!t.shiftKey?s.getCursor((t.clientX-n.left)/r,1-(t.clientY-n.top)/i):"move";u(e,o),q=o.split("-")[0]}}function ot(r,i){if("path"===n.type){var o=function(t){return t},a=o,l=o;W?m[M]=n.xanchor=tt(x+r):(a=function(t){return tt($(t)+r)},Q&&"date"===Q.type&&(a=d.encodeDate(a))),Y?m[S]=n.yanchor=et(w+i):(l=function(t){return et(J(t)+i)},K&&"date"===K.type&&(l=d.encodeDate(l))),n.path=g(B,a,l),m[H]=n.path}else W?m[M]=n.xanchor=tt(x+r):(m[k]=n.x0=tt(y+r),m[C]=n.x1=tt(b+r)),Y?m[S]=n.yanchor=et(w+i):(m[T]=n.y0=et(v+i),m[A]=n.y1=et(_+i));e.attr("d",p(t,n)),lt(f,n)}function at(r,i){if(X){var o=function(t){return t},a=o,l=o;W?m[M]=n.xanchor=tt(x+r):(a=function(t){return tt($(t)+r)},Q&&"date"===Q.type&&(a=d.encodeDate(a))),Y?m[S]=n.yanchor=et(w+i):(l=function(t){return et(J(t)+i)},K&&"date"===K.type&&(l=d.encodeDate(l))),n.path=g(B,a,l),m[H]=n.path}else if(Z){if("resize-over-start-point"===q){var s=y+r,u=Y?v-i:v+i;m[k]=n.x0=W?s:tt(s),m[T]=n.y0=Y?u:et(u)}else if("resize-over-end-point"===q){var c=b+r,h=Y?_-i:_+i;m[C]=n.x1=W?c:tt(c),m[A]=n.y1=Y?h:et(h)}}else{var nt=~q.indexOf("n")?E+i:E,rt=~q.indexOf("s")?O+i:O,it=~q.indexOf("w")?P+r:P,ot=~q.indexOf("e")?I+r:I;~q.indexOf("n")&&Y&&(nt=E-i),~q.indexOf("s")&&Y&&(rt=O-i),(!Y&&rt-nt>G||Y&&nt-rt>G)&&(m[D]=n[F]=Y?nt:et(nt),m[L]=n[z]=Y?rt:et(rt)),ot-it>U&&(m[R]=n[j]=W?it:tt(it),m[N]=n[V]=W?ot:tt(ot))}e.attr("d",p(t,n)),lt(f,n)}function lt(t,e){(W||Y)&&function(){var n="path"!==e.type,r=t.selectAll(".visual-cue").data([0]);r.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var o=$(W?e.xanchor:i.midRange(n?[e.x0,e.x1]:d.extractPathCoords(e.path,c.paramIsX))),a=J(Y?e.yanchor:i.midRange(n?[e.y0,e.y1]:d.extractPathCoords(e.path,c.paramIsY)));o=d.roundPositionForSharpStrokeRendering(o,1),a=d.roundPositionForSharpStrokeRendering(a,1),r.attr("d",W&&Y?"M"+(o-1-1)+","+(a-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z":W?"M"+(o-1-1)+","+(a-9-1)+"v18 h2 v-18 Z":"M"+(o-9-1)+","+(a-1-1)+"h18 v2 h-18 Z")}()}function st(t){t.selectAll(".visual-cue").remove()}s.init(rt),nt.node().onmousemove=it}(t,v,n,e,f)}}function h(t,e,n){var r=(n.xref+n.yref).replace(/paper/g,"");t.call(l.setClipUrl,r?"clip"+e._fullLayout._uid+r:null)}function p(t,e){var n,r,a,l,s,u,f,h,p=e.type,g=o.getFromId(t,e.xref),m=o.getFromId(t,e.yref),y=t._fullLayout._size;if(g?(n=d.shapePositionToRange(g),r=function(t){return g._offset+g.r2p(n(t,!0))}):r=function(t){return y.l+y.w*t},m?(a=d.shapePositionToRange(m),l=function(t){return m._offset+m.r2p(a(t,!0))}):l=function(t){return y.t+y.h*(1-t)},"path"===p)return g&&"date"===g.type&&(r=d.decodeDate(r)),m&&"date"===m.type&&(l=d.decodeDate(l)),function(t,e,n){var r=t.xsizemode,o=t.ysizemode,a=t.xanchor,l=t.yanchor;return t.path.replace(c.segmentRE,function(t){var s=0,u=t.charAt(0),d=c.paramIsX[u],f=c.paramIsY[u],h=c.numParams[u],p=t.substr(1).replace(c.paramRE,function(t){return d[s]?t="pixel"===r?e(a)+Number(t):e(t):f[s]&&(t="pixel"===o?n(l)-Number(t):n(t)),++s>h&&(t="X"),t});return s>h&&(p=p.replace(/[\s,]*X.*/,""),i.log("Ignoring extra params in segment "+t)),u+p})}(e,r,l);if("pixel"===e.xsizemode){var v=r(e.xanchor);s=v+e.x0,u=v+e.x1}else s=r(e.x0),u=r(e.x1);if("pixel"===e.ysizemode){var b=l(e.yanchor);f=b-e.y0,h=b-e.y1}else f=l(e.y0),h=l(e.y1);if("line"===p)return"M"+s+","+f+"L"+u+","+h;if("rect"===p)return"M"+s+","+f+"H"+u+"V"+h+"H"+s+"Z";var _=(s+u)/2,x=(f+h)/2,w=Math.abs(_-s),k=Math.abs(x-f),T="A"+w+","+k,C=_+w+","+x;return"M"+C+T+" 0 1,1 "+_+","+(x-k)+T+" 0 0,1 "+C+"Z"}function g(t,e,n){return t.replace(c.segmentRE,function(t){var r=0,i=t.charAt(0),o=c.paramIsX[i],a=c.paramIsY[i],l=c.numParams[i];return i+t.substr(1).replace(c.paramRE,function(t){return r>=l?t:(o[r]?t=e(t):a[r]&&(t=n(t)),r++,t)})})}e.exports={draw:function(t){var e=t._fullLayout;for(var n in e._shapeUpperLayer.selectAll("path").remove(),e._shapeLowerLayer.selectAll("path").remove(),e._plots){var r=e._plots[n].shapelayer;r&&r.selectAll("path").remove()}for(var i=0;i<e.shapes.length;i++)e.shapes[i].visible&&f(t,i)},drawOne:f}},{"../../lib":163,"../../lib/setcursor":182,"../../plots/cartesian/axes":205,"../../registry":245,"../color":43,"../dragelement":65,"../drawing":68,"./constants":125,"./helpers":128}],128:[function(t,e,n){"use strict";var r=t("./constants"),i=t("../../lib");n.rangeToShapePosition=function(t){return"log"===t.type?t.r2d:function(t){return t}},n.shapePositionToRange=function(t){return"log"===t.type?t.d2r:function(t){return t}},n.decodeDate=function(t){return function(e){return e.replace&&(e=e.replace("_"," ")),t(e)}},n.encodeDate=function(t){return function(e){return t(e).replace(" ","_")}},n.extractPathCoords=function(t,e){var n=[];return t.match(r.segmentRE).forEach(function(t){var o=e[t.charAt(0)].drawn;if(void 0!==o){var a=t.substr(1).match(r.paramRE);!a||a.length<o||n.push(i.cleanNumber(a[o]))}}),n},n.getDataToPixel=function(t,e,r){var i,o=t._fullLayout._size;if(e){var a=n.shapePositionToRange(e);i=function(t){return e._offset+e.r2p(a(t,!0))},"date"===e.type&&(i=n.decodeDate(i))}else i=r?function(t){return o.t+o.h*(1-t)}:function(t){return o.l+o.w*t};return i},n.getPixelToData=function(t,e,r){var i,o=t._fullLayout._size;if(e){var a=n.rangeToShapePosition(e);i=function(t){return a(e.p2r(t-e._offset))}}else i=r?function(t){return 1-(t-o.t)/o.h}:function(t){return(t-o.l)/o.w};return i},n.roundPositionForSharpStrokeRendering=function(t,e){var n=1===Math.round(e%2),r=Math.round(t);return n?r+.5:r}},{"../../lib":163,"./constants":125}],129:[function(t,e,n){"use strict";var r=t("./draw");e.exports={moduleType:"component",name:"shapes",layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),includeBasePlot:t("../../plots/cartesian/include_components")("shapes"),calcAutorange:t("./calc_autorange"),draw:r.draw,drawOne:r.drawOne}},{"../../plots/cartesian/include_components":215,"./attributes":123,"./calc_autorange":124,"./defaults":126,"./draw":127}],130:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../plots/cartesian/axes"),o=t("./attributes"),a=t("./helpers");e.exports=function(t,e,n,l,s){function u(n,i){return r.coerce(t,e,o,n,i)}if(l=l||{},!u("visible",!(s=s||{}).itemIsNotPlainObject))return e;u("layer"),u("opacity"),u("fillcolor"),u("line.color"),u("line.width"),u("line.dash");for(var c=u("type",t.path?"path":"rect"),d=u("xsizemode"),f=u("ysizemode"),h=["x","y"],p=0;p<2;p++){var g,m,y,v=h[p],b=v+"anchor",_="x"===v?d:f,x={_fullLayout:n},w=i.coerceRef(t,e,x,v,"","paper");if("paper"!==w?(g=i.getFromId(x,w),y=a.rangeToShapePosition(g),m=a.shapePositionToRange(g)):m=y=r.identity,"path"!==c){var k=v+"0",T=v+"1",C=t[k],A=t[T];t[k]=m(t[k],!0),t[T]=m(t[T],!0),"pixel"===_?(u(k,0),u(T,10)):(i.coercePosition(e,x,u,w,k,.25),i.coercePosition(e,x,u,w,T,.75)),e[k]=y(e[k]),e[T]=y(e[T]),t[k]=C,t[T]=A}if("pixel"===_){var M=t[b];t[b]=m(t[b],!0),i.coercePosition(e,x,u,w,b,.25),e[b]=y(e[b]),t[b]=M}}return"path"===c?u("path"):r.noneOrAll(t,e,["x0","x1","y0","y1"]),e}},{"../../lib":163,"../../plots/cartesian/axes":205,"./attributes":123,"./helpers":128}],131:[function(t,e,n){"use strict";var r=t("../../plots/font_attributes"),i=t("../../plots/pad_attributes"),o=t("../../lib/extend").extendDeepAll,a=t("../../plot_api/edit_types").overrideAll,l=t("../../plots/animation_attributes"),s=t("./constants");e.exports=a({_isLinkedToArray:"slider",visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:{_isLinkedToArray:"step",method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:o({},i,{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:l.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:r({})},font:r({}),activebgcolor:{valType:"color",dflt:s.gripBgActiveColor},bgcolor:{valType:"color",dflt:s.railBgColor},bordercolor:{valType:"color",dflt:s.railBorderColor},borderwidth:{valType:"number",min:0,dflt:s.railBorderWidth},ticklen:{valType:"number",min:0,dflt:s.tickLength},tickcolor:{valType:"color",dflt:s.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:s.minorTickLength}},"arraydraw","from-root")},{"../../lib/extend":157,"../../plot_api/edit_types":190,"../../plots/animation_attributes":200,"../../plots/font_attributes":231,"../../plots/pad_attributes":236,"./constants":132}],132:[function(t,e,n){"use strict";e.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},{}],133:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../plots/array_container_defaults"),o=t("./attributes"),a=t("./constants").name,l=o.steps;function s(t,e,n){function i(n,i){return r.coerce(t,e,o,n,i)}i("visible",function(t,e){var n,i,o=t.steps||[],a=e.steps=[];function s(t,e){return r.coerce(n,i,l,t,e)}for(var u=0;u<o.length;u++)n=o[u],i={},s("method"),r.isPlainObject(n)&&("skip"===i.method||Array.isArray(n.args))&&(s("args"),s("label","step-"+u),s("value",i.label),s("execute"),a.push(i));return a}(t,e).length>0)&&(i("active"),i("x"),i("y"),r.noneOrAll(t,e,["x","y"]),i("xanchor"),i("yanchor"),i("len"),i("lenmode"),i("pad.t"),i("pad.r"),i("pad.b"),i("pad.l"),r.coerceFont(i,"font",n.font),i("currentvalue.visible")&&(i("currentvalue.xanchor"),i("currentvalue.prefix"),i("currentvalue.suffix"),i("currentvalue.offset"),r.coerceFont(i,"currentvalue.font",e.font)),i("transition.duration"),i("transition.easing"),i("bgcolor"),i("activebgcolor"),i("bordercolor"),i("borderwidth"),i("ticklen"),i("tickwidth"),i("tickcolor"),i("minorticklen"))}e.exports=function(t,e){i(t,e,{name:a,handleItemDefaults:s})}},{"../../lib":163,"../../plots/array_container_defaults":201,"./attributes":131,"./constants":132}],134:[function(t,e,n){"use strict";var r=t("d3"),i=t("../../plots/plots"),o=t("../color"),a=t("../drawing"),l=t("../../lib"),s=t("../../lib/svg_text_utils"),u=t("../legend/anchor_utils"),c=t("./constants"),d=t("../../constants/alignment"),f=d.LINE_SPACING,h=d.FROM_TL,p=d.FROM_BR;function g(t){return t._index}function m(t,e){var n=a.tester.selectAll("g."+c.labelGroupClass).data(e.steps);n.enter().append("g").classed(c.labelGroupClass,!0);var o=0,l=0;n.each(function(t){var n=b(r.select(this),{step:t},e).node();if(n){var i=a.bBox(n);l=Math.max(l,i.height),o=Math.max(o,i.width)}}),n.remove();var d=e._dims={};d.inputAreaWidth=Math.max(c.railWidth,c.gripHeight);var f=t._fullLayout._size;if(d.lx=f.l+f.w*e.x,d.ly=f.t+f.h*(1-e.y),d.outerLength="fraction"===e.lenmode?Math.round(f.w*e.len):e.len,d.inputAreaStart=0,d.inputAreaLength=Math.round(d.outerLength-e.pad.l-e.pad.r),d.labelStride=Math.max(1,Math.ceil((o+c.labelPadding)/((d.inputAreaLength-2*c.stepInset)/(e.steps.length-1)))),d.labelHeight=l,d.currentValueMaxWidth=0,d.currentValueHeight=0,d.currentValueTotalHeight=0,d.currentValueMaxLines=1,e.currentvalue.visible){var g=a.tester.append("g");n.each(function(t){var n=y(g,e,t.label),r=n.node()&&a.bBox(n.node())||{width:0,height:0},i=s.lineCount(n);d.currentValueMaxWidth=Math.max(d.currentValueMaxWidth,Math.ceil(r.width)),d.currentValueHeight=Math.max(d.currentValueHeight,Math.ceil(r.height)),d.currentValueMaxLines=Math.max(d.currentValueMaxLines,i)}),d.currentValueTotalHeight=d.currentValueHeight+e.currentvalue.offset,g.remove()}d.height=d.currentValueTotalHeight+c.tickOffset+e.ticklen+c.labelOffset+d.labelHeight+e.pad.t+e.pad.b;var m="left";u.isRightAnchor(e)&&(d.lx-=d.outerLength,m="right"),u.isCenterAnchor(e)&&(d.lx-=d.outerLength/2,m="center");var v="top";u.isBottomAnchor(e)&&(d.ly-=d.height,v="bottom"),u.isMiddleAnchor(e)&&(d.ly-=d.height/2,v="middle"),d.outerLength=Math.ceil(d.outerLength),d.height=Math.ceil(d.height),d.lx=Math.round(d.lx),d.ly=Math.round(d.ly),i.autoMargin(t,c.autoMarginIdRoot+e._index,{x:e.x,y:e.y,l:d.outerLength*h[m],r:d.outerLength*p[m],b:d.height*p[v],t:d.height*h[v]})}function y(t,e,n){if(e.currentvalue.visible){var r,i,o=e._dims;switch(e.currentvalue.xanchor){case"right":r=o.inputAreaLength-c.currentValueInset-o.currentValueMaxWidth,i="left";break;case"center":r=.5*o.inputAreaLength,i="middle";break;default:r=c.currentValueInset,i="left"}var u=l.ensureSingle(t,"text",c.labelClass,function(t){t.classed("user-select-none",!0).attr({"text-anchor":i,"data-notex":1})}),d=e.currentvalue.prefix?e.currentvalue.prefix:"";d+="string"==typeof n?n:e.steps[e.active].label,e.currentvalue.suffix&&(d+=e.currentvalue.suffix),u.call(a.font,e.currentvalue.font).text(d).call(s.convertToTspans,e._gd);var h=s.lineCount(u);return s.positionText(u,r,(o.currentValueMaxLines+1-h)*e.currentvalue.font.size*f),u}}function v(t,e,n){l.ensureSingle(t,"rect",c.gripRectClass,function(r){r.call(k,e,t,n).style("pointer-events","all")}).attr({width:c.gripWidth,height:c.gripHeight,rx:c.gripRadius,ry:c.gripRadius}).call(o.stroke,n.bordercolor).call(o.fill,n.bgcolor).style("stroke-width",n.borderwidth+"px")}function b(t,e,n){var r=l.ensureSingle(t,"text",c.labelClass,function(t){t.classed("user-select-none",!0).attr({"text-anchor":"middle","data-notex":1})});return r.call(a.font,n.font).text(e.step.label).call(s.convertToTspans,n._gd),r}function _(t,e){var n=l.ensureSingle(t,"g",c.labelsClass),i=e._dims,o=n.selectAll("g."+c.labelGroupClass).data(i.labelSteps);o.enter().append("g").classed(c.labelGroupClass,!0),o.exit().remove(),o.each(function(t){var n=r.select(this);n.call(b,t,e),a.setTranslate(n,A(e,t.fraction),c.tickOffset+e.ticklen+e.font.size*f+c.labelOffset+i.currentValueTotalHeight)})}function x(t,e,n,r,i){var o=Math.round(r*(n.steps.length-1));o!==n.active&&w(t,e,n,o,!0,i)}function w(t,e,n,r,o,a){var l=n.active;n._input.active=n.active=r;var s=n.steps[n.active];e.call(C,n,n.active/(n.steps.length-1),a),e.call(y,n),t.emit("plotly_sliderchange",{slider:n,step:n.steps[n.active],interaction:o,previousActive:l}),s&&s.method&&o&&(e._nextMethod?(e._nextMethod.step=s,e._nextMethod.doCallback=o,e._nextMethod.doTransition=a):(e._nextMethod={step:s,doCallback:o,doTransition:a},e._nextMethodRaf=window.requestAnimationFrame(function(){var n=e._nextMethod.step;n.method&&(n.execute&&i.executeAPICommand(t,n.method,n.args),e._nextMethod=null,e._nextMethodRaf=null)})))}function k(t,e,n){var i=n.node(),a=r.select(e);function l(){return n.data()[0]}t.on("mousedown",function(){var t=l();e.emit("plotly_sliderstart",{slider:t});var s=n.select("."+c.gripRectClass);r.event.stopPropagation(),r.event.preventDefault(),s.call(o.fill,t.activebgcolor);var u=M(t,r.mouse(i)[0]);x(e,n,t,u,!0),t._dragging=!0,a.on("mousemove",function(){var t=l(),o=M(t,r.mouse(i)[0]);x(e,n,t,o,!1)}),a.on("mouseup",function(){var t=l();t._dragging=!1,s.call(o.fill,t.bgcolor),a.on("mouseup",null),a.on("mousemove",null),e.emit("plotly_sliderend",{slider:t,step:t.steps[t.active]})})})}function T(t,e){var n=t.selectAll("rect."+c.tickRectClass).data(e.steps),i=e._dims;n.enter().append("rect").classed(c.tickRectClass,!0),n.exit().remove(),n.attr({width:e.tickwidth+"px","shape-rendering":"crispEdges"}),n.each(function(t,n){var l=n%i.labelStride==0,s=r.select(this);s.attr({height:l?e.ticklen:e.minorticklen}).call(o.fill,e.tickcolor),a.setTranslate(s,A(e,n/(e.steps.length-1))-.5*e.tickwidth,(l?c.tickOffset:c.minorTickOffset)+i.currentValueTotalHeight)})}function C(t,e,n,r){var i=t.select("rect."+c.gripRectClass),o=A(e,n);if(!e._invokingCommand){var a=i;r&&e.transition.duration>0&&(a=a.transition().duration(e.transition.duration).ease(e.transition.easing)),a.attr("transform","translate("+(o-.5*c.gripWidth)+","+e._dims.currentValueTotalHeight+")")}}function A(t,e){var n=t._dims;return n.inputAreaStart+c.stepInset+(n.inputAreaLength-2*c.stepInset)*Math.min(1,Math.max(0,e))}function M(t,e){var n=t._dims;return Math.min(1,Math.max(0,(e-c.stepInset-n.inputAreaStart)/(n.inputAreaLength-2*c.stepInset-2*n.inputAreaStart)))}function S(t,e,n){var r=n._dims,i=l.ensureSingle(t,"rect",c.railTouchRectClass,function(r){r.call(k,e,t,n).style("pointer-events","all")});i.attr({width:r.inputAreaLength,height:Math.max(r.inputAreaWidth,c.tickOffset+n.ticklen+r.labelHeight)}).call(o.fill,n.bgcolor).attr("opacity",0),a.setTranslate(i,0,r.currentValueTotalHeight)}function E(t,e){var n=e._dims,r=n.inputAreaLength-2*c.railInset,i=l.ensureSingle(t,"rect",c.railRectClass);i.attr({width:r,height:c.railWidth,rx:c.railRadius,ry:c.railRadius,"shape-rendering":"crispEdges"}).call(o.stroke,e.bordercolor).call(o.fill,e.bgcolor).style("stroke-width",e.borderwidth+"px"),a.setTranslate(i,c.railInset,.5*(n.inputAreaWidth-c.railWidth)+n.currentValueTotalHeight)}e.exports=function(t){var e=t._fullLayout,n=function(t,e){for(var n=t[c.name],r=[],i=0;i<n.length;i++){var o=n[i];o.visible&&o.steps.length&&(o._gd=e,r.push(o))}return r}(e,t),o=e._infolayer.selectAll("g."+c.containerClassName).data(n.length>0?[0]:[]);if(o.enter().append("g").classed(c.containerClassName,!0).style("cursor","ew-resize"),o.exit().remove(),o.exit().size()&&function(t){for(var e=Object.keys(t._fullLayout._pushmargin||{}),n=0;n<e.length;n++){var r=e[n];-1!==r.indexOf(c.autoMarginIdRoot)&&i.autoMargin(t,r)}}(t),0!==n.length){var l=o.selectAll("g."+c.groupClassName).data(n,g);l.enter().append("g").classed(c.groupClassName,!0),l.exit().each(function(e){r.select(this).remove(),e._commandObserver.remove(),delete e._commandObserver,i.autoMargin(t,c.autoMarginIdRoot+e._index)});for(var s=0;s<n.length;s++)m(t,n[s]);l.each(function(e){if(!(e.steps.length<2)){var n=r.select(this);!function(t){var e=t._dims;e.labelSteps=[];for(var n=t.steps.length,r=0;r<n;r+=e.labelStride)e.labelSteps.push({fraction:r/(n-1),step:t.steps[r]})}(e),i.manageCommandObserver(t,e,e.steps,function(e){var r=n.data()[0];r.active!==e.index&&(r._dragging||w(t,n,r,e.index,!1,!0))}),function(t,e,n){n.active>=n.steps.length&&(n.active=0),e.call(y,n).call(E,n).call(_,n).call(T,n).call(S,t,n).call(v,t,n);var r=n._dims;a.setTranslate(e,r.lx+n.pad.l,r.ly+n.pad.t),e.call(C,n,n.active/(n.steps.length-1),!1),e.call(y,n)}(t,r.select(this),e)}})}}},{"../../constants/alignment":143,"../../lib":163,"../../lib/svg_text_utils":184,"../../plots/plots":237,"../color":43,"../drawing":68,"../legend/anchor_utils":95,"./constants":132,d3:7}],135:[function(t,e,n){"use strict";var r=t("./constants");e.exports={moduleType:"component",name:r.name,layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),draw:t("./draw")}},{"./attributes":131,"./constants":132,"./defaults":133,"./draw":134}],136:[function(t,e,n){"use strict";var r=t("d3"),i=t("fast-isnumeric"),o=t("../../plots/plots"),a=t("../../registry"),l=t("../../lib"),s=t("../drawing"),u=t("../color"),c=t("../../lib/svg_text_utils"),d=t("../../constants/interactions");e.exports={draw:function(t,e,n){var h,p=n.propContainer,g=n.propName,m=n.placeholder,y=n.traceIndex,v=n.avoid||{},b=n.attributes,_=n.transform,x=n.containerGroup,w=t._fullLayout,k=p.titlefont||{},T=k.family,C=k.size,A=k.color,M=1,S=!1,E=(p.title||"").trim();"title"===g?h="titleText":-1!==g.indexOf("axis")?h="axisTitleText":g.indexOf(!0)&&(h="colorbarTitleText");var O=t._context.edits[h];""===E?M=0:E.replace(f," % ")===m.replace(f," % ")&&(M=.2,S=!0,O||(E=""));var P=E||O;x||(x=l.ensureSingle(w._infolayer,"g","g-"+e));var I=x.selectAll("text").data(P?[0]:[]);if(I.enter().append("text"),I.text(E).attr("class",e),I.exit().remove(),!P)return x;function D(t){l.syncOrAsync([L,R],t)}function L(e){var n;return _?(n="",_.rotate&&(n+="rotate("+[_.rotate,b.x,b.y]+")"),_.offset&&(n+="translate(0, "+_.offset+")")):n=null,e.attr("transform",n),e.style({"font-family":T,"font-size":r.round(C,2)+"px",fill:u.rgb(A),opacity:M*u.opacity(A),"font-weight":o.fontWeight}).attr(b).call(c.convertToTspans,t),o.previousPromises(t)}function R(t){var e=r.select(t.node().parentNode);if(v&&v.selection&&v.side&&E){e.attr("transform",null);var n=0,o={left:"right",right:"left",top:"bottom",bottom:"top"}[v.side],a=-1!==["left","top"].indexOf(v.side)?-1:1,u=i(v.pad)?v.pad:2,c=s.bBox(e.node()),d=v.maxShift||({left:0,top:0,right:w.width,bottom:w.height}[v.side]-c[v.side])*("left"===v.side||"top"===v.side?-1:1);if(d<0)n=d;else{var f=v.offsetLeft||0,h=v.offsetTop||0;c.left-=f,c.right-=f,c.top-=h,c.bottom-=h,v.selection.each(function(){var t=s.bBox(this);l.bBoxIntersect(c,t,u)&&(n=Math.max(n,a*(t[v.side]-c[o])+u))}),n=Math.min(d,n)}(n>0||d<0)&&e.attr("transform","translate("+{left:[-n,0],right:[n,0],top:[0,-n],bottom:[0,n]}[v.side]+")")}}return I.call(D),O&&(E?I.on(".opacity",null):(M=0,S=!0,I.text(m).on("mouseover.opacity",function(){r.select(this).transition().duration(d.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){r.select(this).transition().duration(d.HIDE_PLACEHOLDER).style("opacity",0)})),I.call(c.makeEditable,{gd:t}).on("edit",function(e){void 0!==y?a.call("restyle",t,g,e,y):a.call("relayout",t,g,e)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(D)}).on("input",function(t){this.text(t||" ").call(c.positionText,b.x,b.y)})),I.classed("js-placeholder",S),x}};var f=/ [XY][0-9]* /},{"../../constants/interactions":144,"../../lib":163,"../../lib/svg_text_utils":184,"../../plots/plots":237,"../../registry":245,"../color":43,"../drawing":68,d3:7,"fast-isnumeric":10}],137:[function(t,e,n){"use strict";var r=t("../../plots/font_attributes"),i=t("../color/attributes"),o=t("../../lib/extend").extendFlat,a=t("../../plot_api/edit_types").overrideAll,l=t("../../plots/pad_attributes");e.exports=a({_isLinkedToArray:"updatemenu",_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:{_isLinkedToArray:"button",method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}},x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:o({},l,{}),font:r({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:i.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}},"arraydraw","from-root")},{"../../lib/extend":157,"../../plot_api/edit_types":190,"../../plots/font_attributes":231,"../../plots/pad_attributes":236,"../color/attributes":42}],138:[function(t,e,n){"use strict";e.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25c4",right:"\u25ba",up:"\u25b2",down:"\u25bc"}}},{}],139:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../plots/array_container_defaults"),o=t("./attributes"),a=t("./constants").name,l=o.buttons;function s(t,e,n){function i(n,i){return r.coerce(t,e,o,n,i)}i("visible",function(t,e){var n,i,o=t.buttons||[],a=e.buttons=[];function s(t,e){return r.coerce(n,i,l,t,e)}for(var u=0;u<o.length;u++)n=o[u],i={},s("method"),r.isPlainObject(n)&&("skip"===i.method||Array.isArray(n.args))&&(s("args"),s("label"),s("execute"),i._index=u,a.push(i));return a}(t,e).length>0)&&(i("active"),i("direction"),i("type"),i("showactive"),i("x"),i("y"),r.noneOrAll(t,e,["x","y"]),i("xanchor"),i("yanchor"),i("pad.t"),i("pad.r"),i("pad.b"),i("pad.l"),r.coerceFont(i,"font",n.font),i("bgcolor",n.paper_bgcolor),i("bordercolor"),i("borderwidth"))}e.exports=function(t,e){i(t,e,{name:a,handleItemDefaults:s})}},{"../../lib":163,"../../plots/array_container_defaults":201,"./attributes":137,"./constants":138}],140:[function(t,e,n){"use strict";var r=t("d3"),i=t("../../plots/plots"),o=t("../color"),a=t("../drawing"),l=t("../../lib"),s=t("../../lib/svg_text_utils"),u=t("../legend/anchor_utils"),c=t("../../constants/alignment").LINE_SPACING,d=t("./constants"),f=t("./scrollbox");function h(t){return t._index}function p(t,e){return+t.attr(d.menuIndexAttrName)===e._index}function g(t,e,n,r,i,o,a,l){e._input.active=e.active=a,"buttons"===e.type?y(t,r,null,null,e):"dropdown"===e.type&&(i.attr(d.menuIndexAttrName,"-1"),m(t,r,i,o,e),l||y(t,r,i,o,e))}function m(t,e,n,r,i){var o=l.ensureSingle(e,"g",d.headerClassName,function(t){t.style("pointer-events","all")}),s=i._dims,u={y:i.pad.t,yPad:0,x:i.pad.l,xPad:0,index:0},c={width:s.headerWidth,height:s.headerHeight};o.call(v,i,i.buttons[i.active]||d.blankHeaderOpts,t).call(C,i,u,c),l.ensureSingle(e,"text",d.headerArrowClassName,function(t){t.classed("user-select-none",!0).attr("text-anchor","end").call(a.font,i.font).text(d.arrowSymbol[i.direction])}).attr({x:s.headerWidth-d.arrowOffsetX+i.pad.l,y:s.headerHeight/2+d.textOffsetY+i.pad.t}),o.on("click",function(){n.call(A),n.attr(d.menuIndexAttrName,p(n,i)?-1:String(i._index)),y(t,e,n,r,i)}),o.on("mouseover",function(){o.call(w)}),o.on("mouseout",function(){o.call(k,i)}),a.setTranslate(e,s.lx,s.ly)}function y(t,e,n,o,a){n||(n=e).attr("pointer-events","all");var l=function(t){return-1==+t.attr(d.menuIndexAttrName)}(n)&&"buttons"!==a.type?[]:a.buttons,s="dropdown"===a.type?d.dropdownButtonClassName:d.buttonClassName,u=n.selectAll("g."+s).data(l),c=u.enter().append("g").classed(s,!0),f=u.exit();"dropdown"===a.type?(c.attr("opacity","0").transition().attr("opacity","1"),f.transition().attr("opacity","0").remove()):f.remove();var h=0,p=0,m=a._dims,y=-1!==["up","down"].indexOf(a.direction);"dropdown"===a.type&&(y?p=m.headerHeight+d.gapButtonHeader:h=m.headerWidth+d.gapButtonHeader),"dropdown"===a.type&&"up"===a.direction&&(p=-d.gapButtonHeader+d.gapButton-m.openHeight),"dropdown"===a.type&&"left"===a.direction&&(h=-d.gapButtonHeader+d.gapButton-m.openWidth);var b={x:m.lx+h+a.pad.l,y:m.ly+p+a.pad.t,yPad:d.gapButton,xPad:d.gapButton,index:0},_={l:b.x+a.borderwidth,t:b.y+a.borderwidth};u.each(function(l,s){var c=r.select(this);c.call(v,a,l,t).call(C,a,b),c.on("click",function(){r.event.defaultPrevented||(g(t,a,0,e,n,o,s),l.execute&&i.executeAPICommand(t,l.method,l.args),t.emit("plotly_buttonclicked",{menu:a,button:l,active:a.active}))}),c.on("mouseover",function(){c.call(w)}),c.on("mouseout",function(){c.call(k,a),u.call(x,a)})}),u.call(x,a),y?(_.w=Math.max(m.openWidth,m.headerWidth),_.h=b.y-_.t):(_.w=b.x-_.l,_.h=Math.max(m.openHeight,m.headerHeight)),_.direction=a.direction,o&&(u.size()?function(t,e,n,r,i,o){var a,l,s,u=i.direction,c=i._dims,f=i.active;if("up"===u||"down"===u)for(l=0,s=0;s<f;s++)l+=c.heights[s]+d.gapButton;else for(a=0,s=0;s<f;s++)a+=c.widths[s]+d.gapButton;r.enable(o,a,l),r.hbar&&r.hbar.attr("opacity","0").transition().attr("opacity","1"),r.vbar&&r.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,o,a,_):function(t){var e=!!t.hbar,n=!!t.vbar;e&&t.hbar.transition().attr("opacity","0").each("end",function(){e=!1,n||t.disable()}),n&&t.vbar.transition().attr("opacity","0").each("end",function(){n=!1,e||t.disable()})}(o))}function v(t,e,n,r){t.call(b,e).call(_,e,n,r)}function b(t,e){l.ensureSingle(t,"rect",d.itemRectClassName,function(t){t.attr({rx:d.rx,ry:d.ry,"shape-rendering":"crispEdges"})}).call(o.stroke,e.bordercolor).call(o.fill,e.bgcolor).style("stroke-width",e.borderwidth+"px")}function _(t,e,n,r){l.ensureSingle(t,"text",d.itemTextClassName,function(t){t.classed("user-select-none",!0).attr({"text-anchor":"start","data-notex":1})}).call(a.font,e.font).text(n.label).call(s.convertToTspans,r)}function x(t,e){var n=e.active;t.each(function(t,i){var a=r.select(this);i===n&&e.showactive&&a.select("rect."+d.itemRectClassName).call(o.fill,d.activeColor)})}function w(t){t.select("rect."+d.itemRectClassName).call(o.fill,d.hoverColor)}function k(t,e){t.select("rect."+d.itemRectClassName).call(o.fill,e.bgcolor)}function T(t,e){var n=e._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},o=a.tester.selectAll("g."+d.dropdownButtonClassName).data(e.buttons);o.enter().append("g").classed(d.dropdownButtonClassName,!0);var l=-1!==["up","down"].indexOf(e.direction);o.each(function(i,o){var u=r.select(this);u.call(v,e,i,t);var f=u.select("."+d.itemTextClassName),h=f.node()&&a.bBox(f.node()).width,p=Math.max(h+d.textPadX,d.minWidth),g=e.font.size*c,m=s.lineCount(f),y=Math.max(g*m,d.minHeight)+d.textOffsetY;y=Math.ceil(y),p=Math.ceil(p),n.widths[o]=p,n.heights[o]=y,n.height1=Math.max(n.height1,y),n.width1=Math.max(n.width1,p),l?(n.totalWidth=Math.max(n.totalWidth,p),n.openWidth=n.totalWidth,n.totalHeight+=y+d.gapButton,n.openHeight+=y+d.gapButton):(n.totalWidth+=p+d.gapButton,n.openWidth+=p+d.gapButton,n.totalHeight=Math.max(n.totalHeight,y),n.openHeight=n.totalHeight)}),l?n.totalHeight-=d.gapButton:n.totalWidth-=d.gapButton,n.headerWidth=n.width1+d.arrowPadX,n.headerHeight=n.height1,"dropdown"===e.type&&(l?(n.width1+=d.arrowPadX,n.totalHeight=n.height1):n.totalWidth=n.width1,n.totalWidth+=d.arrowPadX),o.remove();var f=n.totalWidth+e.pad.l+e.pad.r,h=n.totalHeight+e.pad.t+e.pad.b,p=t._fullLayout._size;n.lx=p.l+p.w*e.x,n.ly=p.t+p.h*(1-e.y);var g="left";u.isRightAnchor(e)&&(n.lx-=f,g="right"),u.isCenterAnchor(e)&&(n.lx-=f/2,g="center");var m="top";u.isBottomAnchor(e)&&(n.ly-=h,m="bottom"),u.isMiddleAnchor(e)&&(n.ly-=h/2,m="middle"),n.totalWidth=Math.ceil(n.totalWidth),n.totalHeight=Math.ceil(n.totalHeight),n.lx=Math.round(n.lx),n.ly=Math.round(n.ly),i.autoMargin(t,d.autoMarginIdRoot+e._index,{x:e.x,y:e.y,l:f*({right:1,center:.5}[g]||0),r:f*({left:1,center:.5}[g]||0),b:h*({top:1,middle:.5}[m]||0),t:h*({bottom:1,middle:.5}[m]||0)})}function C(t,e,n,r){r=r||{};var i=t.select("."+d.itemRectClassName),o=t.select("."+d.itemTextClassName),l=e.borderwidth,u=n.index,f=e._dims;a.setTranslate(t,l+n.x,l+n.y);var h=-1!==["up","down"].indexOf(e.direction),p=r.height||(h?f.heights[u]:f.height1);i.attr({x:0,y:0,width:r.width||(h?f.width1:f.widths[u]),height:p});var g=e.font.size*c,m=s.lineCount(o);s.positionText(o,d.textOffsetX,p/2-(m-1)*g/2+d.textOffsetY),h?n.y+=f.heights[u]+n.yPad:n.x+=f.widths[u]+n.xPad,n.index++}function A(t){t.selectAll("g."+d.dropdownButtonClassName).remove()}e.exports=function(t){var e=t._fullLayout,n=function(t){for(var e=t[d.name],n=[],r=0;r<e.length;r++){var i=e[r];i.visible&&n.push(i)}return n}(e),o=e._menulayer.selectAll("g."+d.containerClassName).data(n.length>0?[0]:[]);if(o.enter().append("g").classed(d.containerClassName,!0).style("cursor","pointer"),o.exit().remove(),o.exit().size()&&function(t){for(var e=Object.keys(t._fullLayout._pushmargin||{}),n=0;n<e.length;n++){var r=e[n];-1!==r.indexOf(d.autoMarginIdRoot)&&i.autoMargin(t,r)}}(t),0!==n.length){var a=o.selectAll("g."+d.headerGroupClassName).data(n,h);a.enter().append("g").classed(d.headerGroupClassName,!0);for(var s=l.ensureSingle(o,"g",d.dropdownButtonGroupClassName,function(t){t.style("pointer-events","all")}),u=0;u<n.length;u++)T(t,n[u]);var c=new f(t,s,"updatemenus"+e._uid);a.enter().size()&&(s.node().parentNode.appendChild(s.node()),s.call(A).attr(d.menuIndexAttrName,"-1")),a.exit().each(function(e){r.select(this).remove(),s.call(A).attr(d.menuIndexAttrName,"-1"),i.autoMargin(t,d.autoMarginIdRoot+e._index)}),a.each(function(e){var n=r.select(this),o="dropdown"===e.type?s:null;i.manageCommandObserver(t,e,e.buttons,function(r){g(t,e,0,n,o,c,r.index,!0)}),"dropdown"===e.type?(m(t,n,s,c,e),p(s,e)&&y(t,n,s,c,e)):y(t,n,null,null,e)})}}},{"../../constants/alignment":143,"../../lib":163,"../../lib/svg_text_utils":184,"../../plots/plots":237,"../color":43,"../drawing":68,"../legend/anchor_utils":95,"./constants":138,"./scrollbox":142,d3:7}],141:[function(t,e,n){arguments[4][135][0].apply(n,arguments)},{"./attributes":137,"./constants":138,"./defaults":139,"./draw":140,dup:135}],142:[function(t,e,n){"use strict";e.exports=l;var r=t("d3"),i=t("../color"),o=t("../drawing"),a=t("../../lib");function l(t,e,n){this.gd=t,this.container=e,this.id=n,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}l.barWidth=2,l.barLength=20,l.barRadius=2,l.barPad=1,l.barColor="#808BA4",l.prototype.enable=function(t,e,n){var a=this.gd._fullLayout,s=a.width,u=a.height;this.position=t;var c,d,f,h,p=this.position.l,g=this.position.w,m=this.position.t,y=this.position.h,v=this.position.direction,b="down"===v,_="left"===v,x="up"===v,w=g,k=y;b||_||"right"===v||x||(this.position.direction="down",b=!0),b||x?(d=(c=p)+w,b?(f=m,k=(h=Math.min(f+k,u))-f):k=(h=m+k)-(f=Math.max(h-k,0))):(h=(f=m)+k,_?w=(d=p+w)-(c=Math.max(d-w,0)):(c=p,w=(d=Math.min(c+w,s))-c)),this._box={l:c,t:f,w:w,h:k};var T=g>w,C=l.barLength+2*l.barPad,A=l.barWidth+2*l.barPad,M=p,S=m+y;S+A>u&&(S=u-A);var E=this.container.selectAll("rect.scrollbar-horizontal").data(T?[0]:[]);E.exit().on(".drag",null).remove(),E.enter().append("rect").classed("scrollbar-horizontal",!0).call(i.fill,l.barColor),T?(this.hbar=E.attr({rx:l.barRadius,ry:l.barRadius,x:M,y:S,width:C,height:A}),this._hbarXMin=M+C/2,this._hbarTranslateMax=w-C):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var O=y>k,P=l.barWidth+2*l.barPad,I=l.barLength+2*l.barPad,D=p+g,L=m;D+P>s&&(D=s-P);var R=this.container.selectAll("rect.scrollbar-vertical").data(O?[0]:[]);R.exit().on(".drag",null).remove(),R.enter().append("rect").classed("scrollbar-vertical",!0).call(i.fill,l.barColor),O?(this.vbar=R.attr({rx:l.barRadius,ry:l.barRadius,x:D,y:L,width:P,height:I}),this._vbarYMin=L+I/2,this._vbarTranslateMax=k-I):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var N=this.id,F=c-.5,z=O?d+P+.5:d+.5,j=f-.5,V=T?h+A+.5:h+.5,B=a._topdefs.selectAll("#"+N).data(T||O?[0]:[]);if(B.exit().remove(),B.enter().append("clipPath").attr("id",N).append("rect"),T||O?(this._clipRect=B.select("rect").attr({x:Math.floor(F),y:Math.floor(j),width:Math.ceil(z)-Math.floor(F),height:Math.ceil(V)-Math.floor(j)}),this.container.call(o.setClipUrl,N),this.bg.attr({x:p,y:m,width:g,height:y})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),T||O){var H=r.behavior.drag().on("dragstart",function(){r.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(H);var q=r.behavior.drag().on("dragstart",function(){r.event.sourceEvent.preventDefault(),r.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));T&&this.hbar.on(".drag",null).call(q),O&&this.vbar.on(".drag",null).call(q)}this.setTranslate(e,n)},l.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},l.prototype._onBoxDrag=function(){var t=this.translateX,e=this.translateY;this.hbar&&(t-=r.event.dx),this.vbar&&(e-=r.event.dy),this.setTranslate(t,e)},l.prototype._onBoxWheel=function(){var t=this.translateX,e=this.translateY;this.hbar&&(t+=r.event.deltaY),this.vbar&&(e+=r.event.deltaY),this.setTranslate(t,e)},l.prototype._onBarDrag=function(){var t=this.translateX,e=this.translateY;if(this.hbar){var n=t+this._hbarXMin,i=n+this._hbarTranslateMax;t=(a.constrain(r.event.x,n,i)-n)/(i-n)*(this.position.w-this._box.w)}if(this.vbar){var o=e+this._vbarYMin,l=o+this._vbarTranslateMax;e=(a.constrain(r.event.y,o,l)-o)/(l-o)*(this.position.h-this._box.h)}this.setTranslate(t,e)},l.prototype.setTranslate=function(t,e){var n=this.position.w-this._box.w,r=this.position.h-this._box.h;t=a.constrain(t||0,0,n),e=a.constrain(e||0,0,r),this.translateX=t,this.translateY=e,this.container.call(o.setTranslate,this._box.l-this.position.l-t,this._box.t-this.position.t-e),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+t-.5),y:Math.floor(this.position.t+e-.5)}),this.hbar&&this.hbar.call(o.setTranslate,t+t/n*this._hbarTranslateMax,e),this.vbar&&this.vbar.call(o.setTranslate,t,e+e/r*this._vbarTranslateMax)}},{"../../lib":163,"../color":43,"../drawing":68,d3:7}],143:[function(t,e,n){"use strict";e.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},{}],144:[function(t,e,n){"use strict";e.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DBLCLICKDELAY:300,DESELECTDIM:.2}},{}],145:[function(t,e,n){"use strict";e.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE/1e4,ONEAVGYEAR:315576e5,ONEAVGMONTH:26298e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:1-1e-6,MINUS_SIGN:"\u2212"}},{}],146:[function(t,e,n){"use strict";e.exports={entityToUnicode:{mu:"\u03bc","#956":"\u03bc",amp:"&","#28":"&",lt:"<","#60":"<",gt:">","#62":">",nbsp:"\xa0","#160":"\xa0",times:"\xd7","#215":"\xd7",plusmn:"\xb1","#177":"\xb1",deg:"\xb0","#176":"\xb0"}}},{}],147:[function(t,e,n){"use strict";n.xmlns="http://www.w3.org/2000/xmlns/",n.svg="http://www.w3.org/2000/svg",n.xlink="http://www.w3.org/1999/xlink",n.svgAttrs={xmlns:n.svg,"xmlns:xlink":n.xlink}},{}],148:[function(t,e,n){"use strict";n.version="1.38.1",t("es6-promise").polyfill(),t("../build/plotcss"),t("./fonts/mathjax_config");for(var r=t("./registry"),i=n.register=r.register,o=t("./plot_api"),a=Object.keys(o),l=0;l<a.length;l++){var s=a[l];n[s]=o[s],i({moduleType:"apiMethod",name:s,fn:o[s]})}i(t("./traces/scatter")),i([t("./components/fx"),t("./components/legend"),t("./components/annotations"),t("./components/annotations3d"),t("./components/shapes"),t("./components/images"),t("./components/updatemenus"),t("./components/sliders"),t("./components/rangeslider"),t("./components/rangeselector"),t("./components/grid"),t("./components/errorbars")]),i([t("./locale-en"),t("./locale-en-us")]),n.Icons=t("../build/ploticon"),n.Plots=t("./plots/plots"),n.Fx=t("./components/fx"),n.Snapshot=t("./snapshot"),n.PlotSchema=t("./plot_api/plot_schema"),n.Queue=t("./lib/queue"),n.d3=t("d3")},{"../build/plotcss":1,"../build/ploticon":2,"./components/annotations":36,"./components/annotations3d":41,"./components/errorbars":74,"./components/fx":85,"./components/grid":89,"./components/images":94,"./components/legend":103,"./components/rangeselector":115,"./components/rangeslider":121,"./components/shapes":129,"./components/sliders":135,"./components/updatemenus":141,"./fonts/mathjax_config":149,"./lib/queue":177,"./locale-en":188,"./locale-en-us":187,"./plot_api":192,"./plot_api/plot_schema":196,"./plots/plots":237,"./registry":245,"./snapshot":250,"./traces/scatter":293,d3:7,"es6-promise":8}],149:[function(t,e,n){"use strict";"undefined"!=typeof MathJax?(n.MathJax=!0,MathJax.Hub.Config({messageStyle:"none",skipStartupTypeset:!0,displayAlign:"left",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}}),MathJax.Hub.Configured()):n.MathJax=!1},{}],150:[function(t,e,n){"use strict";var r=Math.PI;n.deg2rad=function(t){return t/180*r},n.rad2deg=function(t){return t/r*180},n.wrap360=function(t){var e=t%360;return e<0?e+360:e},n.wrap180=function(t){return Math.abs(t)>180&&(t-=360*Math.round(t/360)),t}},{}],151:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("../constants/numerical").BADNUM,o=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;e.exports=function(t){return"string"==typeof t&&(t=t.replace(o,"")),r(t)?Number(t):i}},{"../constants/numerical":145,"fast-isnumeric":10}],152:[function(t,e,n){"use strict";e.exports=function(t){var e=t._fullLayout;e._glcanvas&&e._glcanvas.size()&&e._glcanvas.each(function(t){t.regl&&t.regl.clear({color:!0,depth:!0})})}},{}],153:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("tinycolor2"),o=t("../plots/attributes"),a=t("../components/colorscale/get_scale"),l=(Object.keys(t("../components/colorscale/scales")),t("./nested_property")),s=t("./regex").counter,u=t("../constants/interactions").DESELECTDIM,c=t("./angles").wrap180,d=t("./is_array").isArrayOrTypedArray;n.valObjectMeta={data_array:{coerceFunction:function(t,e,n){d(t)?e.set(t):void 0!==n&&e.set(n)}},enumerated:{coerceFunction:function(t,e,n,r){r.coerceNumber&&(t=+t),-1===r.values.indexOf(t)?e.set(n):e.set(t)},validateFunction:function(t,e){e.coerceNumber&&(t=+t);for(var n=e.values,r=0;r<n.length;r++){var i=String(n[r]);if("/"===i.charAt(0)&&"/"===i.charAt(i.length-1)){if(new RegExp(i.substr(1,i.length-2)).test(t))return!0}else if(t===n[r])return!0}return!1}},boolean:{coerceFunction:function(t,e,n){e.set(!0===t||!1===t?t:n)}},number:{coerceFunction:function(t,e,n,i){!r(t)||void 0!==i.min&&t<i.min||void 0!==i.max&&t>i.max?e.set(n):e.set(+t)}},integer:{coerceFunction:function(t,e,n,i){t%1||!r(t)||void 0!==i.min&&t<i.min||void 0!==i.max&&t>i.max?e.set(n):e.set(+t)}},string:{coerceFunction:function(t,e,n,r){e.set("string"!=typeof t?!0!==r.strict&&"number"==typeof t?String(t):n:r.noBlank&&!t?n:t)}},color:{coerceFunction:function(t,e,n){i(t).isValid()?e.set(t):e.set(n)}},colorlist:{coerceFunction:function(t,e,n){Array.isArray(t)&&t.length&&t.every(function(t){return i(t).isValid()})?e.set(t):e.set(n)}},colorscale:{coerceFunction:function(t,e,n){e.set(a(t,n))}},angle:{coerceFunction:function(t,e,n){"auto"===t?e.set("auto"):r(t)?e.set(c(+t)):e.set(n)}},subplotid:{coerceFunction:function(t,e,n,r){var i=r.regex||s(n);"string"==typeof t&&i.test(t)?e.set(t):e.set(n)},validateFunction:function(t,e){var n=e.dflt;return t===n||"string"==typeof t&&!!s(n).test(t)}},flaglist:{coerceFunction:function(t,e,n,r){if("string"==typeof t)if(-1===(r.extras||[]).indexOf(t)){for(var i=t.split("+"),o=0;o<i.length;){var a=i[o];-1===r.flags.indexOf(a)||i.indexOf(a)<o?i.splice(o,1):o++}e.set(i.length?i.join("+"):n)}else e.set(t);else e.set(n)}},any:{coerceFunction:function(t,e,n){e.set(void 0===t?n:t)}},info_array:{coerceFunction:function(t,e,r,i){function o(t,e,r){var i;return void 0===r&&(r=e.dflt),n.valObjectMeta[e.valType].coerceFunction(t,{set:function(t){i=t}},r,e),i}var a=2===i.dimensions||"1-2"===i.dimensions&&Array.isArray(t)&&Array.isArray(t[0]);if(Array.isArray(t)){var l,s,u,c,d,f=i.items,h=[],p=Array.isArray(f),g=p&&a&&Array.isArray(f[0]),m=a&&p&&!g,y=p&&!m?f.length:t.length;if(r=Array.isArray(r)?r:[],a)for(l=0;l<y;l++)for(h[l]=[],u=Array.isArray(t[l])?t[l]:[],c=m?f.length:p?f[l].length:u.length,s=0;s<c;s++)void 0!==(d=o(u[s],m?f[s]:p?f[l][s]:f,(r[l]||[])[s]))&&(h[l][s]=d);else for(l=0;l<y;l++)void 0!==(d=o(t[l],p?f[l]:f,r[l]))&&(h[l]=d);e.set(h)}else e.set(r)},validateFunction:function(t,e){if(!Array.isArray(t))return!1;var r=e.items,i=Array.isArray(r),o=2===e.dimensions;if(!e.freeLength&&t.length!==r.length)return!1;for(var a=0;a<t.length;a++)if(o){if(!Array.isArray(t[a])||!e.freeLength&&t[a].length!==r[a].length)return!1;for(var l=0;l<t[a].length;l++)if(!n.validate(t[a][l],i?r[a][l]:r))return!1}else if(!n.validate(t[a],i?r[a]:r))return!1;return!0}}},n.coerce=function(t,e,r,i,o){var a=l(r,i).get(),s=l(t,i),u=l(e,i),c=s.get();return void 0===o&&(o=a.dflt),a.arrayOk&&d(c)?(u.set(c),c):(n.valObjectMeta[a.valType].coerceFunction(c,u,o,a),u.get())},n.coerce2=function(t,e,r,i,o){var a=l(t,i),s=n.coerce(t,e,r,i,o),u=a.get();return void 0!==u&&null!==u&&s},n.coerceFont=function(t,e,n){var r={};return r.family=t(e+".family",(n=n||{}).family),r.size=t(e+".size",n.size),r.color=t(e+".color",n.color),r},n.coerceHoverinfo=function(t,e,r){var i,a=e._module.attributes,l=a.hoverinfo?a:o,s=l.hoverinfo;if(1===r._dataLength){var u="all"===s.dflt?s.flags.slice():s.dflt.split("+");u.splice(u.indexOf("name"),1),i=u.join("+")}return n.coerce(t,e,l,"hoverinfo",i)},n.coerceSelectionMarkerOpacity=function(t,e){if(t.marker){var n,r,i=t.marker.opacity;void 0!==i&&(d(i)||t.selected||t.unselected||(n=i,r=u*i),e("selected.marker.opacity",n),e("unselected.marker.opacity",r))}},n.validate=function(t,e){var r=n.valObjectMeta[e.valType];if(e.arrayOk&&d(t))return!0;if(r.validateFunction)return r.validateFunction(t,e);var i={},o=i;return r.coerceFunction(t,{set:function(t){o=t}},i,e),o!==i}},{"../components/colorscale/get_scale":56,"../components/colorscale/scales":62,"../constants/interactions":144,"../plots/attributes":202,"./angles":150,"./is_array":164,"./nested_property":171,"./regex":178,"fast-isnumeric":10,tinycolor2:25}],154:[function(t,e,n){"use strict";var r,i,o=t("d3"),a=t("fast-isnumeric"),l=t("./loggers"),s=t("./mod"),u=t("../constants/numerical"),c=u.BADNUM,d=u.ONEDAY,f=u.ONEHOUR,h=u.ONEMIN,p=u.ONESEC,g=u.EPOCHJD,m=t("../registry"),y=o.time.format.utc,v=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d:?\d\d)?)?)?)?)?\s*$/m,b=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d:?\d\d)?)?)?)?)?\s*$/m,_=(new Date).getFullYear()-70;function x(t){return t&&m.componentsRegistry.calendars&&"string"==typeof t&&"gregorian"!==t}function w(t,e){return String(t+Math.pow(10,e)).substr(1)}n.dateTick0=function(t,e){return x(t)?e?m.getComponentMethod("calendars","CANONICAL_SUNDAY")[t]:m.getComponentMethod("calendars","CANONICAL_TICK")[t]:e?"2000-01-02":"2000-01-01"},n.dfltRange=function(t){return x(t)?m.getComponentMethod("calendars","DFLTRANGE")[t]:["2000-01-01","2001-01-01"]},n.isJSDate=function(t){return"object"==typeof t&&null!==t&&"function"==typeof t.getTime},n.dateTime2ms=function(t,e){if(n.isJSDate(t))return(t=Number(t)-t.getTimezoneOffset()*h)>=r&&t<=i?t:c;if("string"!=typeof t&&"number"!=typeof t)return c;t=String(t);var o=x(e),a=t.charAt(0);!o||"G"!==a&&"g"!==a||(t=t.substr(1),e="");var l=o&&"chinese"===e.substr(0,7),s=t.match(l?b:v);if(!s)return c;var u=s[1],y=s[3]||"1",w=Number(s[5]||1),k=Number(s[7]||0),T=Number(s[9]||0),C=Number(s[11]||0);if(o){if(2===u.length)return c;var A;u=Number(u);try{var M=m.getComponentMethod("calendars","getCal")(e);if(l){var S="i"===y.charAt(y.length-1);y=parseInt(y,10),A=M.newDate(u,M.toMonthIndex(u,y,S),w)}else A=M.newDate(u,Number(y),w)}catch(t){return c}return A?(A.toJD()-g)*d+k*f+T*h+C*p:c}u=2===u.length?(Number(u)+2e3-_)%100+_:Number(u),y-=1;var E=new Date(Date.UTC(2e3,y,w,k,T));return E.setUTCFullYear(u),E.getUTCMonth()!==y?c:E.getUTCDate()!==w?c:E.getTime()+C*p},r=n.MIN_MS=n.dateTime2ms("-9999"),i=n.MAX_MS=n.dateTime2ms("9999-12-31 23:59:59.9999"),n.isDateTime=function(t,e){return n.dateTime2ms(t,e)!==c};var k=90*d,T=3*f,C=5*h;function A(t,e,n,r,i){if((e||n||r||i)&&(t+=" "+w(e,2)+":"+w(n,2),(r||i)&&(t+=":"+w(r,2),i))){for(var o=4;i%10==0;)o-=1,i/=10;t+="."+w(i,o)}return t}n.ms2DateTime=function(t,e,n){if("number"!=typeof t||!(t>=r&&t<=i))return c;e||(e=0);var o,a,l,u,v,b,_=Math.floor(10*s(t+.05,1)),w=Math.round(t-_/10);if(x(n)){var M=Math.floor(w/d)+g,S=Math.floor(s(t,d));try{o=m.getComponentMethod("calendars","getCal")(n).fromJD(M).formatDate("yyyy-mm-dd")}catch(t){o=y("G%Y-%m-%d")(new Date(w))}if("-"===o.charAt(0))for(;o.length<11;)o="-0"+o.substr(1);else for(;o.length<10;)o="0"+o;a=e<k?Math.floor(S/f):0,l=e<k?Math.floor(S%f/h):0,u=e<T?Math.floor(S%h/p):0,v=e<C?S%p*10+_:0}else b=new Date(w),o=y("%Y-%m-%d")(b),a=e<k?b.getUTCHours():0,l=e<k?b.getUTCMinutes():0,u=e<T?b.getUTCSeconds():0,v=e<C?10*b.getUTCMilliseconds()+_:0;return A(o,a,l,u,v)},n.ms2DateTimeLocal=function(t){if(!(t>=r+d&&t<=i-d))return c;var e=Math.floor(10*s(t+.05,1)),n=new Date(Math.round(t-e/10));return A(o.time.format("%Y-%m-%d")(n),n.getHours(),n.getMinutes(),n.getSeconds(),10*n.getUTCMilliseconds()+e)},n.cleanDate=function(t,e,r){if(n.isJSDate(t)||"number"==typeof t){if(x(r))return l.error("JS Dates and milliseconds are incompatible with world calendars",t),e;if(!(t=n.ms2DateTimeLocal(+t))&&void 0!==e)return e}else if(!n.isDateTime(t,r))return l.error("unrecognized date",t),e;return t};var M=/%\d?f/g;function S(t,e,n,r){t=t.replace(M,function(t){var n=Math.min(+t.charAt(1)||6,6);return(e/1e3%1+2).toFixed(n).substr(2).replace(/0+$/,"")||"0"});var i=new Date(Math.floor(e+.05));if(x(r))try{t=m.getComponentMethod("calendars","worldCalFmt")(t,e,r)}catch(t){return"Invalid"}return n(t)(i)}var E=[59,59.9,59.99,59.999,59.9999];n.formatDate=function(t,e,n,r,i,o){if(i=x(i)&&i,!e)if("y"===n)e=o.year;else if("m"===n)e=o.month;else{if("d"!==n)return function(t,e){var n=s(t+.05,d),r=w(Math.floor(n/f),2)+":"+w(s(Math.floor(n/h),60),2);if("M"!==e){a(e)||(e=0);var i=(100+Math.min(s(t/p,60),E[e])).toFixed(e).substr(1);e>0&&(i=i.replace(/0+$/,"").replace(/[\.]$/,"")),r+=":"+i}return r}(t,n)+"\n"+S(o.dayMonthYear,t,r,i);e=o.dayMonth+"\n"+o.year}return S(e,t,r,i)};var O=3*d;n.incrementMonth=function(t,e,n){n=x(n)&&n;var r=s(t,d);if(t=Math.round(t-r),n)try{var i=Math.round(t/d)+g,o=m.getComponentMethod("calendars","getCal")(n),a=o.fromJD(i);return e%12?o.add(a,e,"m"):o.add(a,e/12,"y"),(a.toJD()-g)*d+r}catch(e){l.error("invalid ms "+t+" in calendar "+n)}var u=new Date(t+O);return u.setUTCMonth(u.getUTCMonth()+e)+r-O},n.findExactDates=function(t,e){for(var n,r,i=0,o=0,l=0,s=0,u=x(e)&&m.getComponentMethod("calendars","getCal")(e),c=0;c<t.length;c++)if(a(r=t[c])){if(!(r%d))if(u)try{1===(n=u.fromJD(r/d+g)).day()?1===n.month()?i++:o++:l++}catch(t){}else 1===(n=new Date(r)).getUTCDate()?0===n.getUTCMonth()?i++:o++:l++}else s++;var f=t.length-s;return{exactYears:i/f,exactMonths:(o+=i)/f,exactDays:(l+=o)/f}}},{"../constants/numerical":145,"../registry":245,"./loggers":168,"./mod":170,d3:7,"fast-isnumeric":10}],155:[function(t,e,n){"use strict";e.exports=function(t,e){return Array.isArray(t)||(t=[]),t.length=e,t}},{}],156:[function(t,e,n){"use strict";var r=t("events").EventEmitter;e.exports={init:function(t){if(t._ev instanceof r)return t;var e=new r,n=new r;return t._ev=e,t._internalEv=n,t.on=e.on.bind(e),t.once=e.once.bind(e),t.removeListener=e.removeListener.bind(e),t.removeAllListeners=e.removeAllListeners.bind(e),t._internalOn=n.on.bind(n),t._internalOnce=n.once.bind(n),t._removeInternalListener=n.removeListener.bind(n),t._removeAllInternalListeners=n.removeAllListeners.bind(n),t.emit=function(r,i){"undefined"!=typeof jQuery&&jQuery(t).trigger(r,i),e.emit(r,i),n.emit(r,i)},t},triggerHandler:function(t,e,n){var r,i;"undefined"!=typeof jQuery&&(r=jQuery(t).triggerHandler(e,n));var o=t._ev;if(!o)return r;var a,l=o._events[e];if(!l)return r;function s(t){return t.listener?(o.removeListener(e,t.listener),t.fired?void 0:(t.fired=!0,t.listener.apply(o,[n]))):t.apply(o,[n])}for(l=Array.isArray(l)?l:[l],a=0;a<l.length-1;a++)s(l[a]);return i=s(l[a]),void 0!==r?r:i},purge:function(t){return delete t._ev,delete t.on,delete t.once,delete t.removeListener,delete t.removeAllListeners,delete t.emit,delete t._ev,delete t._internalEv,delete t._internalOn,delete t._internalOnce,delete t._removeInternalListener,delete t._removeAllInternalListeners,t}}},{events:9}],157:[function(t,e,n){"use strict";var r=t("./is_plain_object.js"),i=Array.isArray;function o(t,e,n,a){var l,s,u,c,d,f,h=t[0],p=t.length;if(2===p&&i(h)&&i(t[1])&&0===h.length){if(function(t,e){var n,r;for(n=0;n<t.length;n++){if(null!==(r=t[n])&&"object"==typeof r)return!1;void 0!==r&&(e[n]=r)}return!0}(t[1],h))return h;h.splice(0,h.length)}for(var g=1;g<p;g++)for(s in l=t[g])u=h[s],c=l[s],a&&i(c)?h[s]=c:e&&c&&(r(c)||(d=i(c)))?(d?(d=!1,f=u&&i(u)?u:[]):f=u&&r(u)?u:{},h[s]=o([f,c],e,n,a)):(void 0!==c||n)&&(h[s]=c);return h}n.extendFlat=function(){return o(arguments,!1,!1,!1)},n.extendDeep=function(){return o(arguments,!0,!1,!1)},n.extendDeepAll=function(){return o(arguments,!0,!0,!1)},n.extendDeepNoArrays=function(){return o(arguments,!0,!1,!0)}},{"./is_plain_object.js":165}],158:[function(t,e,n){"use strict";e.exports=function(t){for(var e={},n=[],r=0,i=0;i<t.length;i++){var o=t[i];1!==e[o]&&(e[o]=1,n[r++]=o)}return n}},{}],159:[function(t,e,n){"use strict";function r(t){return!0===t.visible}function i(t){return!0===t[0].trace.visible}e.exports=function(t){for(var e,n=(e=t,Array.isArray(e)&&Array.isArray(e[0])&&e[0][0]&&e[0][0].trace?i:r),o=[],a=0;a<t.length;a++){var l=t[a];n(l)&&o.push(l)}return o}},{}],160:[function(t,e,n){"use strict";var r,i,o,a=t("./mod");function l(t,e,n,r,i,o,a,l){var s=n-t,u=i-t,c=a-i,d=r-e,f=o-e,h=l-o,p=s*h-c*d;if(0===p)return null;var g=(u*h-c*f)/p,m=(u*d-s*f)/p;return m<0||m>1||g<0||g>1?null:{x:t+s*g,y:e+d*g}}function s(t,e,n,r,i){var o=r*t+i*e;if(o<0)return r*r+i*i;if(o>n){var a=r-t,l=i-e;return a*a+l*l}var s=r*e-i*t;return s*s/n}n.segmentsIntersect=l,n.segmentDistance=function(t,e,n,r,i,o,a,u){if(l(t,e,n,r,i,o,a,u))return 0;var c=n-t,d=r-e,f=a-i,h=u-o,p=c*c+d*d,g=f*f+h*h,m=Math.min(s(c,d,p,i-t,o-e),s(c,d,p,a-t,u-e),s(f,h,g,t-i,e-o),s(f,h,g,n-i,r-o));return Math.sqrt(m)},n.getTextLocation=function(t,e,n,l){if(t===i&&l===o||(r={},i=t,o=l),r[n])return r[n];var s=t.getPointAtLength(a(n-l/2,e)),u=t.getPointAtLength(a(n+l/2,e)),c=Math.atan((u.y-s.y)/(u.x-s.x)),d=t.getPointAtLength(a(n,e)),f={x:(4*d.x+s.x+u.x)/6,y:(4*d.y+s.y+u.y)/6,theta:c};return r[n]=f,f},n.clearLocationCache=function(){i=null},n.getVisibleSegment=function(t,e,n){var r,i,o=e.left,a=e.right,l=e.top,s=e.bottom,u=0,c=t.getTotalLength(),d=c;function f(e){var n=t.getPointAtLength(e);0===e?r=n:e===c&&(i=n);var u=n.x<o?o-n.x:n.x>a?n.x-a:0,d=n.y<l?l-n.y:n.y>s?n.y-s:0;return Math.sqrt(u*u+d*d)}for(var h=f(u);h;){if((u+=h+n)>d)return;h=f(u)}for(h=f(d);h;){if(u>(d-=h+n))return;h=f(d)}return{min:u,max:d,len:d-u,total:c,isClosed:0===u&&d===c&&Math.abs(r.x-i.x)<.1&&Math.abs(r.y-i.y)<.1}},n.findPointOnPath=function(t,e,n,r){for(var i,o,a,l=(r=r||{}).pathLength||t.getTotalLength(),s=r.tolerance||.001,u=r.iterationLimit||30,c=t.getPointAtLength(0)[n]>t.getPointAtLength(l)[n]?-1:1,d=0,f=0,h=l;d<u;){if(a=(o=t.getPointAtLength(i=(f+h)/2))[n]-e,Math.abs(a)<s)return o;c*a>0?h=i:f=i,d++}return o}},{"./mod":170}],161:[function(t,e,n){"use strict";e.exports=function(t){var e;if("string"==typeof t){if(null===(e=document.getElementById(t)))throw new Error("No DOM element with id '"+t+"' exists on the page.");return e}if(null===t||void 0===t)throw new Error("DOM element provided is null or undefined");return t}},{}],162:[function(t,e,n){"use strict";e.exports=function(t){return t}},{}],163:[function(t,e,n){"use strict";var r=t("d3"),i=t("fast-isnumeric"),o=t("../constants/numerical"),a=o.FP_SAFE,l=o.BADNUM,s=e.exports={};s.nestedProperty=t("./nested_property"),s.keyedContainer=t("./keyed_container"),s.relativeAttr=t("./relative_attr"),s.isPlainObject=t("./is_plain_object"),s.mod=t("./mod"),s.toLogRange=t("./to_log_range"),s.relinkPrivateKeys=t("./relink_private"),s.ensureArray=t("./ensure_array");var u=t("./is_array");s.isTypedArray=u.isTypedArray,s.isArrayOrTypedArray=u.isArrayOrTypedArray,s.isArray1D=u.isArray1D;var c=t("./coerce");s.valObjectMeta=c.valObjectMeta,s.coerce=c.coerce,s.coerce2=c.coerce2,s.coerceFont=c.coerceFont,s.coerceHoverinfo=c.coerceHoverinfo,s.coerceSelectionMarkerOpacity=c.coerceSelectionMarkerOpacity,s.validate=c.validate;var d=t("./dates");s.dateTime2ms=d.dateTime2ms,s.isDateTime=d.isDateTime,s.ms2DateTime=d.ms2DateTime,s.ms2DateTimeLocal=d.ms2DateTimeLocal,s.cleanDate=d.cleanDate,s.isJSDate=d.isJSDate,s.formatDate=d.formatDate,s.incrementMonth=d.incrementMonth,s.dateTick0=d.dateTick0,s.dfltRange=d.dfltRange,s.findExactDates=d.findExactDates,s.MIN_MS=d.MIN_MS,s.MAX_MS=d.MAX_MS;var f=t("./search");s.findBin=f.findBin,s.sorterAsc=f.sorterAsc,s.sorterDes=f.sorterDes,s.distinctVals=f.distinctVals,s.roundUp=f.roundUp;var h=t("./stats");s.aggNums=h.aggNums,s.len=h.len,s.mean=h.mean,s.midRange=h.midRange,s.variance=h.variance,s.stdev=h.stdev,s.interp=h.interp;var p=t("./matrix");s.init2dArray=p.init2dArray,s.transposeRagged=p.transposeRagged,s.dot=p.dot,s.translationMatrix=p.translationMatrix,s.rotationMatrix=p.rotationMatrix,s.rotationXYMatrix=p.rotationXYMatrix,s.apply2DTransform=p.apply2DTransform,s.apply2DTransform2=p.apply2DTransform2;var g=t("./angles");s.deg2rad=g.deg2rad,s.rad2deg=g.rad2deg,s.wrap360=g.wrap360,s.wrap180=g.wrap180;var m=t("./geometry2d");s.segmentsIntersect=m.segmentsIntersect,s.segmentDistance=m.segmentDistance,s.getTextLocation=m.getTextLocation,s.clearLocationCache=m.clearLocationCache,s.getVisibleSegment=m.getVisibleSegment,s.findPointOnPath=m.findPointOnPath;var y=t("./extend");s.extendFlat=y.extendFlat,s.extendDeep=y.extendDeep,s.extendDeepAll=y.extendDeepAll,s.extendDeepNoArrays=y.extendDeepNoArrays;var v=t("./loggers");s.log=v.log,s.warn=v.warn,s.error=v.error;var b=t("./regex");s.counterRegex=b.counter;var _=t("./throttle");function x(t){var e={};for(var n in t)for(var r=t[n],i=0;i<r.length;i++)e[r[i]]=+n;return e}s.throttle=_.throttle,s.throttleDone=_.done,s.clearThrottle=_.clear,s.getGraphDiv=t("./get_graph_div"),s._=t("./localize"),s.notifier=t("./notifier"),s.filterUnique=t("./filter_unique"),s.filterVisible=t("./filter_visible"),s.pushUnique=t("./push_unique"),s.cleanNumber=t("./clean_number"),s.ensureNumber=function(t){return i(t)?(t=Number(t))<-a||t>a?l:i(t)?Number(t):l:l},s.isIndex=function(t,e){return!(void 0!==e&&t>=e)&&i(t)&&t>=0&&t%1==0},s.noop=t("./noop"),s.identity=t("./identity"),s.swapAttrs=function(t,e,n,r){n||(n="x"),r||(r="y");for(var i=0;i<e.length;i++){var o=e[i],a=s.nestedProperty(t,o.replace("?",n)),l=s.nestedProperty(t,o.replace("?",r)),u=a.get();a.set(l.get()),l.set(u)}},s.raiseToTop=function(t){t.parentNode.appendChild(t)},s.cancelTransition=function(t){return t.transition().duration(0)},s.constrain=function(t,e,n){return e>n?Math.max(n,Math.min(e,t)):Math.max(e,Math.min(n,t))},s.bBoxIntersect=function(t,e,n){return t.left<=e.right+(n=n||0)&&e.left<=t.right+n&&t.top<=e.bottom+n&&e.top<=t.bottom+n},s.simpleMap=function(t,e,n,r){for(var i=t.length,o=new Array(i),a=0;a<i;a++)o[a]=e(t[a],n,r);return o},s.randstr=function t(e,n,r){if(r||(r=16),void 0===n&&(n=24),n<=0)return"0";var i,o,a=Math.log(Math.pow(2,n))/Math.log(r),l="";for(i=2;a===1/0;i*=2)a=Math.log(Math.pow(2,n/i))/Math.log(r)*i;var s=a-Math.floor(a);for(i=0;i<Math.floor(a);i++)l=Math.floor(Math.random()*r).toString(r)+l;s&&(o=Math.pow(r,s),l=Math.floor(Math.random()*o).toString(r)+l);var u=parseInt(l,r);return e&&e.indexOf(l)>-1||u!==1/0&&u>=Math.pow(2,n)?t(e,n,r):l},s.OptionControl=function(t,e){t||(t={}),e||(e="opt");var n={optionList:[],_newoption:function(r){r[e]=t,n[r.name]=r,n.optionList.push(r)}};return n["_"+e]=t,n},s.smooth=function(t,e){if((e=Math.round(e)||0)<2)return t;var n,r,i,o,a=t.length,l=2*a,s=2*e-1,u=new Array(s),c=new Array(a);for(n=0;n<s;n++)u[n]=(1-Math.cos(Math.PI*(n+1)/e))/(2*e);for(n=0;n<a;n++){for(o=0,r=0;r<s;r++)(i=n+r+1-e)<-a?i-=l*Math.round(i/l):i>=l&&(i-=l*Math.floor(i/l)),i<0?i=-1-i:i>=a&&(i=l-1-i),o+=t[i]*u[r];c[n]=o}return c},s.syncOrAsync=function(t,e,n){var r;function i(){return s.syncOrAsync(t,e,n)}for(;t.length;)if((r=(0,t.splice(0,1)[0])(e))&&r.then)return r.then(i).then(void 0,s.promiseError);return n&&n(e)},s.stripTrailingSlash=function(t){return"/"===t.substr(-1)?t.substr(0,t.length-1):t},s.noneOrAll=function(t,e,n){if(t){var r,i,o=!1,a=!0;for(r=0;r<n.length;r++)void 0!==(i=t[n[r]])&&null!==i?o=!0:a=!1;if(o&&!a)for(r=0;r<n.length;r++)t[n[r]]=e[n[r]]}},s.mergeArray=function(t,e,n){if(s.isArrayOrTypedArray(t))for(var r=Math.min(t.length,e.length),i=0;i<r;i++)e[i][n]=t[i]},s.fillArray=function(t,e,n,r){if(r=r||s.identity,s.isArrayOrTypedArray(t))for(var i=0;i<e.length;i++)e[i][n]=r(t[i])},s.castOption=function(t,e,n,r){r=r||s.identity;var i=s.nestedProperty(t,n).get();return s.isArrayOrTypedArray(i)?Array.isArray(e)&&s.isArrayOrTypedArray(i[e[0]])?r(i[e[0]][e[1]]):r(i[e]):i},s.extractOption=function(t,e,n,r){if(n in t)return t[n];var i=s.nestedProperty(e,r).get();return Array.isArray(i)?void 0:i},s.tagSelected=function(t,e,n){var r,i,o=e.selectedpoints,a=e._indexToPoints;a&&(r=x(a));for(var l=0;l<o.length;l++){var u=o[l];if(s.isIndex(u)){var c=r?r[u]:u,d=n?n[c]:c;void 0!==(i=d)&&i<t.length&&(t[d].selected=1)}}},s.selIndices2selPoints=function(t){var e=t.selectedpoints,n=t._indexToPoints;if(n){for(var r=x(n),i=[],o=0;o<e.length;o++){var a=e[o];if(s.isIndex(a)){var l=r[a];s.isIndex(l)&&i.push(l)}}return i}return e},s.getTargetArray=function(t,e){var n=e.target;if("string"==typeof n&&n){var r=s.nestedProperty(t,n).get();return!!Array.isArray(r)&&r}return!!Array.isArray(n)&&n},s.minExtend=function(t,e){var n={};"object"!=typeof e&&(e={});var r,i,o,a=Object.keys(t);for(r=0;r<a.length;r++)o=t[i=a[r]],"_"!==i.charAt(0)&&"function"!=typeof o&&(n[i]="module"===i?o:Array.isArray(o)?o.slice(0,3):o&&"object"==typeof o?s.minExtend(t[i],e[i]):o);for(a=Object.keys(e),r=0;r<a.length;r++)"object"==typeof(o=e[i=a[r]])&&i in n&&"object"==typeof n[i]||(n[i]=o);return n},s.titleCase=function(t){return t.charAt(0).toUpperCase()+t.substr(1)},s.containsAny=function(t,e){for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n]))return!0;return!1},s.isPlotDiv=function(t){var e=r.select(t);return e.node()instanceof HTMLElement&&e.size()&&e.classed("js-plotly-plot")},s.removeElement=function(t){var e=t&&t.parentNode;e&&e.removeChild(t)},s.addStyleRule=function(t,e){if(!s.styleSheet){var n=document.createElement("style");n.appendChild(document.createTextNode("")),document.head.appendChild(n),s.styleSheet=n.sheet}var r=s.styleSheet;r.insertRule?r.insertRule(t+"{"+e+"}",0):r.addRule?r.addRule(t,e,0):s.warn("addStyleRule failed")},s.isIE=function(){return void 0!==window.navigator.msSaveBlob},s.isD3Selection=function(t){return t&&"function"==typeof t.classed},s.ensureSingle=function(t,e,n,r){var i=t.select(e+(n?"."+n:""));if(i.size())return i;var o=t.append(e).classed(n,!0);return r&&o.call(r),o},s.ensureSingleById=function(t,e,n,r){var i=t.select(e+"#"+n);if(i.size())return i;var o=t.append(e).attr("id",n);return r&&o.call(r),o},s.objectFromPath=function(t,e){for(var n,r=t.split("."),i=n={},o=0;o<r.length;o++){var a=r[o],l=null,s=r[o].match(/(.*)\[([0-9]+)\]/);s?(l=s[2],(n=n[a=s[1]]=[])[l]=o===r.length-1?e:{},n=n[l]):(n[a]=o===r.length-1?e:{},n=n[a])}return i};var w=/^([^\[\.]+)\.(.+)?/,k=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;s.expandObjectPaths=function(t){var e,n,r,i,o,a,l;if("object"==typeof t&&!Array.isArray(t))for(n in t)t.hasOwnProperty(n)&&((e=n.match(w))?(i=t[n],r=e[1],delete t[n],t[r]=s.extendDeepNoArrays(t[r]||{},s.objectFromPath(n,s.expandObjectPaths(i))[r])):(e=n.match(k))?(i=t[n],r=e[1],o=parseInt(e[2]),delete t[n],t[r]=t[r]||[],"."===e[3]?(l=e[4],a=t[r][o]=t[r][o]||{},s.extendDeepNoArrays(a,s.objectFromPath(l,s.expandObjectPaths(i)))):t[r][o]=s.expandObjectPaths(i)):t[n]=s.expandObjectPaths(t[n]));return t},s.numSeparate=function(t,e,n){if(n||(n=!1),"string"!=typeof e||0===e.length)throw new Error("Separator string required for formatting!");"number"==typeof t&&(t=String(t));var r=/(\d+)(\d{3})/,i=e.charAt(0),o=e.charAt(1),a=t.split("."),l=a[0],s=a.length>1?i+a[1]:"";if(o&&(a.length>1||l.length>4||n))for(;r.test(l);)l=l.replace(r,"$1"+o+"$2");return l+s};var T=/%{([^\s%{}]*)}/g,C=/^\w*$/;s.templateString=function(t,e){var n={};return t.replace(T,function(t,r){return C.test(r)?e[r]||"":(n[r]=n[r]||s.nestedProperty(e,r).get,n[r]()||"")})},s.subplotSort=function(t,e){for(var n=Math.min(t.length,e.length)+1,r=0,i=0,o=0;o<n;o++){var a=t.charCodeAt(o)||0,l=e.charCodeAt(o)||0,s=a>=48&&a<=57,u=l>=48&&l<=57;if(s&&(r=10*r+a-48),u&&(i=10*i+l-48),!s||!u){if(r!==i)return r-i;if(a!==l)return a-l}}return i-r};var A=2e9;s.seedPseudoRandom=function(){A=2e9},s.pseudoRandom=function(){var t=A;return A=(69069*A+1)%4294967296,Math.abs(A-t)<429496729?s.pseudoRandom():A/4294967296}},{"../constants/numerical":145,"./angles":150,"./clean_number":151,"./coerce":153,"./dates":154,"./ensure_array":155,"./extend":157,"./filter_unique":158,"./filter_visible":159,"./geometry2d":160,"./get_graph_div":161,"./identity":162,"./is_array":164,"./is_plain_object":165,"./keyed_container":166,"./localize":167,"./loggers":168,"./matrix":169,"./mod":170,"./nested_property":171,"./noop":172,"./notifier":173,"./push_unique":176,"./regex":178,"./relative_attr":179,"./relink_private":180,"./search":181,"./stats":183,"./throttle":185,"./to_log_range":186,d3:7,"fast-isnumeric":10}],164:[function(t,e,n){"use strict";var r="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer:{isView:function(){return!1}},i="undefined"==typeof DataView?function(){}:DataView;function o(t){return r.isView(t)&&!(t instanceof i)}function a(t){return Array.isArray(t)||o(t)}e.exports={isTypedArray:o,isArrayOrTypedArray:a,isArray1D:function(t){return!a(t[0])}}},{}],165:[function(t,e,n){"use strict";e.exports=function(t){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(t):"[object Object]"===Object.prototype.toString.call(t)&&Object.getPrototypeOf(t)===Object.prototype}},{}],166:[function(t,e,n){"use strict";var r=t("./nested_property"),i=/^\w*$/;e.exports=function(t,e,n,o){var a,l,s;n=n||"name",o=o||"value";var u={};e&&e.length?(s=r(t,e),l=s.get()):l=t,e=e||"";var c={};if(l)for(a=0;a<l.length;a++)c[l[a][n]]=a;var d=i.test(o),f={set:function(t,e){var i=null===e?4:0;if(!l){if(!s||4===i)return;s.set(l=[])}var a=c[t];if(void 0===a){if(4===i)return;i|=3,c[t]=a=l.length}else e!==(d?l[a][o]:r(l[a],o).get())&&(i|=2);var h=l[a]=l[a]||{};return h[n]=t,d?h[o]=e:r(h,o).set(e),null!==e&&(i&=-5),u[a]=u[a]|i,f},get:function(t){if(l){var e=c[t];return void 0===e?void 0:d?l[e][o]:r(l[e],o).get()}},rename:function(t,e){var r=c[t];return void 0===r?f:(u[r]=1|u[r],c[e]=r,delete c[t],l[r][n]=e,f)},remove:function(t){var e=c[t];if(void 0===e)return f;var i=l[e];if(Object.keys(i).length>2)return u[e]=2|u[e],f.set(t,null);if(d){for(a=e;a<l.length;a++)u[a]=3|u[a];for(a=e;a<l.length;a++)c[l[a][n]]--;l.splice(e,1),delete c[t]}else r(i,o).set(null),u[e]=6|u[e];return f},constructUpdate:function(){for(var t,i,a={},s=Object.keys(u),c=0;c<s.length;c++)t=e+"["+(i=s[c])+"]",l[i]?(1&u[i]&&(a[t+"."+n]=l[i][n]),2&u[i]&&(a[t+"."+o]=d?4&u[i]?null:l[i][o]:4&u[i]?null:r(l[i],o).get())):a[t]=null;return a}};return f}},{"./nested_property":171}],167:[function(t,e,n){"use strict";var r=t("../registry");e.exports=function(t,e){for(var n=t._context.locale,i=0;i<2;i++){for(var o=t._context.locales,a=0;a<2;a++){var l=(o[n]||{}).dictionary;if(l){var s=l[e];if(s)return s}o=r.localeRegistry}var u=n.split("-")[0];if(u===n)break;n=u}return e}},{"../registry":245}],168:[function(t,e,n){"use strict";var r=t("../plot_api/plot_config"),i=e.exports={};function o(t,e){if(t.apply)t.apply(t,e);else for(var n=0;n<e.length;n++)t(e[n])}i.log=function(){if(r.logging>1){for(var t=["LOG:"],e=0;e<arguments.length;e++)t.push(arguments[e]);o(console.trace||console.log,t)}},i.warn=function(){if(r.logging>0){for(var t=["WARN:"],e=0;e<arguments.length;e++)t.push(arguments[e]);o(console.trace||console.log,t)}},i.error=function(){if(r.logging>0){for(var t=["ERROR:"],e=0;e<arguments.length;e++)t.push(arguments[e]);o(console.error,t)}}},{"../plot_api/plot_config":195}],169:[function(t,e,n){"use strict";n.init2dArray=function(t,e){for(var n=new Array(t),r=0;r<t;r++)n[r]=new Array(e);return n},n.transposeRagged=function(t){var e,n,r=0,i=t.length;for(e=0;e<i;e++)r=Math.max(r,t[e].length);var o=new Array(r);for(e=0;e<r;e++)for(o[e]=new Array(i),n=0;n<i;n++)o[e][n]=t[n][e];return o},n.dot=function(t,e){if(!t.length||!e.length||t.length!==e.length)return null;var r,i,o=t.length;if(t[0].length)for(r=new Array(o),i=0;i<o;i++)r[i]=n.dot(t[i],e);else if(e[0].length){var a=n.transposeRagged(e);for(r=new Array(a.length),i=0;i<a.length;i++)r[i]=n.dot(t,a[i])}else for(r=0,i=0;i<o;i++)r+=t[i]*e[i];return r},n.translationMatrix=function(t,e){return[[1,0,t],[0,1,e],[0,0,1]]},n.rotationMatrix=function(t){var e=t*Math.PI/180;return[[Math.cos(e),-Math.sin(e),0],[Math.sin(e),Math.cos(e),0],[0,0,1]]},n.rotationXYMatrix=function(t,e,r){return n.dot(n.dot(n.translationMatrix(e,r),n.rotationMatrix(t)),n.translationMatrix(-e,-r))},n.apply2DTransform=function(t){return function(){var e=arguments;3===e.length&&(e=e[0]);var r=1===arguments.length?e[0]:[e[0],e[1]];return n.dot(t,[r[0],r[1],1]).slice(0,2)}},n.apply2DTransform2=function(t){var e=n.apply2DTransform(t);return function(t){return e(t.slice(0,2)).concat(e(t.slice(2,4)))}}},{}],170:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t%e;return n<0?n+e:n}},{}],171:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("./is_array").isArrayOrTypedArray;e.exports=function(t,e){if(r(e))e=String(e);else if("string"!=typeof e||"[-1]"===e.substr(e.length-4))throw"bad property string";for(var n,o,a,s=0,u=e.split(".");s<u.length;){if(n=String(u[s]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(n[1])u[s]=n[1];else{if(0!==s)throw"bad property string";u.splice(0,1)}for(o=n[2].substr(1,n[2].length-2).split("]["),a=0;a<o.length;a++)u.splice(++s,0,Number(o[a]))}s++}return"object"!=typeof t?function(t,e,n){return{set:function(){throw"bad container"},get:function(){},astr:e,parts:n,obj:t}}(t,e,u):{set:l(t,u,e),get:function t(e,n){return function(){var r,o,a,l,s,u=e;for(l=0;l<n.length-1;l++){if(-1===(r=n[l])){for(o=!0,a=[],s=0;s<u.length;s++)a[s]=t(u[s],n.slice(l+1))(),a[s]!==a[0]&&(o=!1);return o?a[0]:a}if("number"==typeof r&&!i(u))return;if("object"!=typeof(u=u[r])||null===u)return}if("object"==typeof u&&null!==u&&null!==(a=u[n[l]]))return a}}(t,u),astr:e,parts:u,obj:t}};var o=/(^|\.)args\[/;function a(t,e){return void 0===t||null===t&&!e.match(o)}function l(t,e,n){return function(r){var o,l,d=t,f="",h=[[t,f]],p=a(r,n);for(l=0;l<e.length-1;l++){if("number"==typeof(o=e[l])&&!i(d))throw"array index but container is not an array";if(-1===o){if(p=!u(d,e.slice(l+1),r,n))break;return}if(!c(d,o,e[l+1],p))break;if("object"!=typeof(d=d[o])||null===d)throw"container is not an object";f=s(f,o),h.push([d,f])}if(p){if(l===e.length-1&&(delete d[e[l]],Array.isArray(d)&&+e[l]==d.length-1))for(;d.length&&void 0===d[d.length-1];)d.pop()}else d[e[l]]=r}}function s(t,e){var n=e;return r(e)?n="["+e+"]":t&&(n="."+e),t+n}function u(t,e,n,r){var o,s=i(n),u=!0,d=n,f=r.replace("-1",0),h=!s&&a(n,f),p=e[0];for(o=0;o<t.length;o++)f=r.replace("-1",o),s&&(h=a(d=n[o%n.length],f)),h&&(u=!1),c(t,o,p,h)&&l(t[o],e,r.replace("-1",o))(d);return u}function c(t,e,n,r){if(void 0===t[e]){if(r)return!1;t[e]="number"==typeof n?[]:{}}return!0}},{"./is_array":164,"fast-isnumeric":10}],172:[function(t,e,n){"use strict";e.exports=function(){}},{}],173:[function(t,e,n){"use strict";var r=t("d3"),i=t("fast-isnumeric"),o=[];e.exports=function(t,e){if(-1===o.indexOf(t)){o.push(t);var n=1e3;i(e)?n=e:"long"===e&&(n=3e3);var a=r.select("body").selectAll(".plotly-notifier").data([0]);a.enter().append("div").classed("plotly-notifier",!0),a.selectAll(".notifier-note").data(o).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(t){var e=r.select(this);e.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){e.transition().call(l)});for(var i=e.append("p"),o=t.split(/<br\s*\/?>/g),a=0;a<o.length;a++)a&&i.append("br"),i.append("span").text(o[a]);e.transition().duration(700).style("opacity",1).transition().delay(n).call(l)})}function l(t){t.duration(700).style("opacity",0).each("end",function(t){var e=o.indexOf(t);-1!==e&&o.splice(e,1),r.select(this).remove()})}}},{d3:7,"fast-isnumeric":10}],174:[function(t,e,n){"use strict";var r=t("./setcursor"),i="data-savedcursor";e.exports=function(t,e){var n=t.attr(i);if(e){if(!n){for(var o=(t.attr("class")||"").split(" "),a=0;a<o.length;a++){var l=o[a];0===l.indexOf("cursor-")&&t.attr(i,l.substr(7)).classed(l,!1)}t.attr(i)||t.attr(i,"!!")}r(t,e)}else n&&(t.attr(i,null),"!!"===n?r(t):r(t,n))}},{"./setcursor":182}],175:[function(t,e,n){"use strict";var r=t("./matrix").dot,i=t("../constants/numerical").BADNUM,o=e.exports={};o.tester=function(t){if(Array.isArray(t[0][0]))return o.multitester(t);var e,n=t.slice(),r=n[0][0],a=r,l=n[0][1],s=l;for(n.push(n[0]),e=1;e<n.length;e++)r=Math.min(r,n[e][0]),a=Math.max(a,n[e][0]),l=Math.min(l,n[e][1]),s=Math.max(s,n[e][1]);var u,c=!1;5===n.length&&(n[0][0]===n[1][0]?n[2][0]===n[3][0]&&n[0][1]===n[3][1]&&n[1][1]===n[2][1]&&(c=!0,u=function(t){return t[0]===n[0][0]}):n[0][1]===n[1][1]&&n[2][1]===n[3][1]&&n[0][0]===n[3][0]&&n[1][0]===n[2][0]&&(c=!0,u=function(t){return t[1]===n[0][1]}));var d=!0,f=n[0];for(e=1;e<n.length;e++)if(f[0]!==n[e][0]||f[1]!==n[e][1]){d=!1;break}return{xmin:r,xmax:a,ymin:l,ymax:s,pts:n,contains:c?function(t,e){var n=t[0],o=t[1];return!(n===i||n<r||n>a||o===i||o<l||o>s||e&&u(t))}:function(t,e){var o=t[0],u=t[1];if(o===i||o<r||o>a||u===i||u<l||u>s)return!1;var c,d,f,h,p,g=n.length,m=n[0][0],y=n[0][1],v=0;for(c=1;c<g;c++)if(d=m,f=y,m=n[c][0],y=n[c][1],!(o<(h=Math.min(d,m))||o>Math.max(d,m)||u>Math.max(f,y)))if(u<Math.min(f,y))o!==h&&v++;else{if(u===(p=m===d?u:f+(o-d)*(y-f)/(m-d)))return 1!==c||!e;u<=p&&o!==h&&v++}return v%2==1},isRect:c,degenerate:d}},o.multitester=function(t){for(var e=[],n=t[0][0][0],r=n,i=t[0][0][1],a=i,l=0;l<t.length;l++){var s=o.tester(t[l]);s.subtract=t[l].subtract,e.push(s),n=Math.min(n,s.xmin),r=Math.max(r,s.xmax),i=Math.min(i,s.ymin),a=Math.max(a,s.ymax)}return{xmin:n,xmax:r,ymin:i,ymax:a,pts:[],contains:function(t,n){for(var r=!1,i=0;i<e.length;i++)e[i].contains(t,n)&&(r=!1===e[i].subtract);return r},isRect:!1,degenerate:!1}};var a=o.isSegmentBent=function(t,e,n,i){var o,a,l,s=t[e],u=[t[n][0]-s[0],t[n][1]-s[1]],c=r(u,u),d=Math.sqrt(c),f=[-u[1]/d,u[0]/d];for(o=e+1;o<n;o++)if((l=r(a=[t[o][0]-s[0],t[o][1]-s[1]],u))<0||l>c||Math.abs(r(a,f))>i)return!0;return!1};o.filter=function(t,e){var n=[t[0]],r=0,i=0;function o(o){t.push(o);var l=n.length,s=r;n.splice(i+1);for(var u=s+1;u<t.length;u++)(u===t.length-1||a(t,s,u+1,e))&&(n.push(t[u]),n.length<l-2&&(r=u,i=n.length-1),s=u)}return t.length>1&&o(t.pop()),{addPt:o,raw:t,filtered:n}}},{"../constants/numerical":145,"./matrix":169}],176:[function(t,e,n){"use strict";e.exports=function(t,e){if(e instanceof RegExp){var n,r=e.toString();for(n=0;n<t.length;n++)if(t[n]instanceof RegExp&&t[n].toString()===r)return t;t.push(e)}else!e&&0!==e||-1!==t.indexOf(e)||t.push(e);return t}},{}],177:[function(t,e,n){"use strict";var r=t("../lib"),i=t("../plot_api/plot_config"),o={add:function(t,e,n,r,o){var a,l;t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},l=t.undoQueue.index,t.autoplay?t.undoQueue.inSequence||(t.autoplay=!1):(!t.undoQueue.sequence||t.undoQueue.beginSequence?(t.undoQueue.queue.splice(l,t.undoQueue.queue.length-l,a={undo:{calls:[],args:[]},redo:{calls:[],args:[]}}),t.undoQueue.index+=1):a=t.undoQueue.queue[l-1],t.undoQueue.beginSequence=!1,a&&(a.undo.calls.unshift(e),a.undo.args.unshift(n),a.redo.calls.push(r),a.redo.args.push(o)),t.undoQueue.queue.length>i.queueLength&&(t.undoQueue.queue.shift(),t.undoQueue.index--))},startSequence:function(t){t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},t.undoQueue.sequence=!0,t.undoQueue.beginSequence=!0},stopSequence:function(t){t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},t.undoQueue.sequence=!1,t.undoQueue.beginSequence=!1},undo:function(t){var e,n;if(t.framework&&t.framework.isPolar)t.framework.undo();else if(!(void 0===t.undoQueue||isNaN(t.undoQueue.index)||t.undoQueue.index<=0)){for(t.undoQueue.index--,e=t.undoQueue.queue[t.undoQueue.index],t.undoQueue.inSequence=!0,n=0;n<e.undo.calls.length;n++)o.plotDo(t,e.undo.calls[n],e.undo.args[n]);t.undoQueue.inSequence=!1,t.autoplay=!1}},redo:function(t){var e,n;if(t.framework&&t.framework.isPolar)t.framework.redo();else if(!(void 0===t.undoQueue||isNaN(t.undoQueue.index)||t.undoQueue.index>=t.undoQueue.queue.length)){for(e=t.undoQueue.queue[t.undoQueue.index],t.undoQueue.inSequence=!0,n=0;n<e.redo.calls.length;n++)o.plotDo(t,e.redo.calls[n],e.redo.args[n]);t.undoQueue.inSequence=!1,t.autoplay=!1,t.undoQueue.index++}},plotDo:function(t,e,n){t.autoplay=!0,n=function(t,e){for(var n,i=[],o=0;o<e.length;o++)i[o]=(n=e[o])===t?n:"object"==typeof n?Array.isArray(n)?r.extendDeep([],n):r.extendDeepAll({},n):n;return i}(t,n),e.apply(null,n)}};e.exports=o},{"../lib":163,"../plot_api/plot_config":195}],178:[function(t,e,n){"use strict";n.counter=function(t,e,n){var r=(e||"")+(n?"":"$");return"xy"===t?new RegExp("^x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+r):new RegExp("^"+t+"([2-9]|[1-9][0-9]+)?"+r)}},{}],179:[function(t,e,n){"use strict";var r=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,i=/^[^\.\[\]]+$/;e.exports=function(t,e){for(;e;){var n=t.match(r);if(n)t=n[1];else{if(!t.match(i))throw new Error("bad relativeAttr call:"+[t,e]);t=""}if("^"!==e.charAt(0))break;e=e.slice(1)}return t&&"["!==e.charAt(0)?t+"."+e:t+e}},{}],180:[function(t,e,n){"use strict";var r=t("./is_array").isArrayOrTypedArray,i=t("./is_plain_object");e.exports=function t(e,n){for(var o in n){var a=n[o],l=e[o];if(l!==a)if("_"===o.charAt(0)||"function"==typeof a){if(o in e)continue;e[o]=a}else if(r(a)&&r(l)&&i(a[0])){if("customdata"===o||"ids"===o)continue;for(var s=Math.min(a.length,l.length),u=0;u<s;u++)l[u]!==a[u]&&i(a[u])&&i(l[u])&&t(l[u],a[u])}else i(a)&&i(l)&&(t(l,a),Object.keys(l).length||delete e[o])}}},{"./is_array":164,"./is_plain_object":165}],181:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("./loggers");function o(t,e){return t<e}function a(t,e){return t<=e}function l(t,e){return t>e}function s(t,e){return t>=e}n.findBin=function(t,e,n){if(r(e.start))return n?Math.ceil((t-e.start)/e.size-1e-9)-1:Math.floor((t-e.start)/e.size+1e-9);var u,c,d=0,f=e.length,h=0,p=f>1?(e[f-1]-e[0])/(f-1):1;for(c=p>=0?n?o:a:n?s:l,t+=1e-9*p*(n?-1:1)*(p>=0?1:-1);d<f&&h++<100;)c(e[u=Math.floor((d+f)/2)],t)?d=u+1:f=u;return h>90&&i.log("Long binary search..."),d-1},n.sorterAsc=function(t,e){return t-e},n.sorterDes=function(t,e){return e-t},n.distinctVals=function(t){var e=t.slice();e.sort(n.sorterAsc);for(var r=e.length-1,i=e[r]-e[0]||1,o=i/(r||1)/1e4,a=[e[0]],l=0;l<r;l++)e[l+1]>e[l]+o&&(i=Math.min(i,e[l+1]-e[l]),a.push(e[l+1]));return{vals:a,minDiff:i}},n.roundUp=function(t,e,n){for(var r,i=0,o=e.length-1,a=0,l=n?0:1,s=n?1:0,u=n?Math.ceil:Math.floor;i<o&&a++<100;)e[r=u((i+o)/2)]<=t?i=r+l:o=r-s;return e[i]}},{"./loggers":168,"fast-isnumeric":10}],182:[function(t,e,n){"use strict";e.exports=function(t,e){(t.attr("class")||"").split(" ").forEach(function(e){0===e.indexOf("cursor-")&&t.classed(e,!1)}),e&&t.classed("cursor-"+e,!0)}},{}],183:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("./is_array").isArrayOrTypedArray;n.aggNums=function(t,e,o,a){var l,s;if((!a||a>o.length)&&(a=o.length),r(e)||(e=!1),i(o[0])){for(s=new Array(a),l=0;l<a;l++)s[l]=n.aggNums(t,e,o[l]);o=s}for(l=0;l<a;l++)r(e)?r(o[l])&&(e=t(+e,+o[l])):e=o[l];return e},n.len=function(t){return n.aggNums(function(t){return t+1},0,t)},n.mean=function(t,e){return e||(e=n.len(t)),n.aggNums(function(t,e){return t+e},0,t)/e},n.midRange=function(t){if(void 0!==t&&0!==t.length)return(n.aggNums(Math.max,null,t)+n.aggNums(Math.min,null,t))/2},n.variance=function(t,e,i){return e||(e=n.len(t)),r(i)||(i=n.mean(t,e)),n.aggNums(function(t,e){return t+Math.pow(e-i,2)},0,t)/e},n.stdev=function(t,e,r){return Math.sqrt(n.variance(t,e,r))},n.interp=function(t,e){if(!r(e))throw"n should be a finite number";if((e=e*t.length-.5)<0)return t[0];if(e>t.length-1)return t[t.length-1];var n=e%1;return n*t[Math.ceil(e)]+(1-n)*t[Math.floor(e)]}},{"./is_array":164,"fast-isnumeric":10}],184:[function(t,e,n){"use strict";var r=t("d3"),i=t("../lib"),o=t("../constants/xmlns_namespaces"),a=t("../constants/string_mappings"),l=t("../constants/alignment").LINE_SPACING;function s(t,e){return t.node().getBoundingClientRect()[e]}var u=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;n.convertToTspans=function(t,e,a){var y=t.text(),E=!t.attr("data-notex")&&"undefined"!=typeof MathJax&&y.match(u),O=r.select(t.node().parentNode);if(!O.empty()){var P=t.attr("class")?t.attr("class").split(" ")[0]:"text";return O.selectAll("svg."+(P+="-math")).remove(),O.selectAll("g."+P+"-group").remove(),t.style("display",null).attr({"data-unformatted":y,"data-math":"N"}),E?(e&&e._promises||[]).push(new Promise(function(e){t.style("display","none");var n=parseInt(t.node().style.fontSize,10);!function(t,e,n){var o="math-output-"+i.randstr([],64),a=r.select("body").append("div").attr({id:o}).style({visibility:"hidden",position:"absolute"}).style({"font-size":e.fontSize+"px"}).text(t.replace(c,"\\lt ").replace(d,"\\gt "));MathJax.Hub.Queue(["Typeset",MathJax.Hub,a.node()],function(){var e=r.select("body").select("#MathJax_SVG_glyphs");if(a.select(".MathJax_SVG").empty()||!a.select("svg").node())i.log("There was an error in the tex syntax.",t),n();else{var o=a.select("svg").node().getBoundingClientRect();n(a.select(".MathJax_SVG"),e,o)}a.remove()})}(E[2],{fontSize:n},function(r,i,o){O.selectAll("svg."+P).remove(),O.selectAll("g."+P+"-group").remove();var l=r&&r.select("svg");if(!l||!l.node())return I(),void e();var u=O.append("g").classed(P+"-group",!0).attr({"pointer-events":"none","data-unformatted":y,"data-math":"Y"});u.node().appendChild(l.node()),i&&i.node()&&l.node().insertBefore(i.node().cloneNode(!0),l.node().firstChild),l.attr({class:P,height:o.height,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var c=t.node().style.fill||"black";l.select("g").attr({fill:c,stroke:c});var d=s(l,"width"),f=s(l,"height"),h=+t.attr("x")-d*{start:0,middle:.5,end:1}[t.attr("text-anchor")||"start"],p=-(n||s(t,"height"))/4;"y"===P[0]?(u.attr({transform:"rotate("+[-90,+t.attr("x"),+t.attr("y")]+") translate("+[-d/2,p-f/2]+")"}),l.attr({x:+t.attr("x"),y:+t.attr("y")})):l.attr("l"===P[0]?{x:t.attr("x"),y:p-f/2}:"a"===P[0]?{x:0,y:p}:{x:h,y:+t.attr("y")+p-f/2}),a&&a.call(t,u),e(u)})})):I(),t}function I(){O.empty()||(P=t.attr("class")+"-math",O.select("svg."+P).remove()),t.text("").style("white-space","pre"),function(t,e){var n;e=(n=e,function(t,e){if(!t)return"";for(var n=0;n<e.length;n++){var r=e[n];t=t.replace(r.regExp,r.sub)}return t}(n,v)).replace(b," ");var a,s=!1,u=[],c=-1;function d(){c++;var e=document.createElementNS(o.svg,"tspan");r.select(e).attr({class:"line",dy:c*l+"em"}),t.appendChild(e),a=e;var n=u;if(u=[{node:e}],n.length>1)for(var i=1;i<n.length;i++)y(n[i])}function y(t){var e,n=t.type,i={};if("a"===n){e="a";var l=t.target,s=t.href,c=t.popup;s&&(i={"xlink:xlink:show":"_blank"===l||"_"!==l.charAt(0)?"new":"replace",target:l,"xlink:xlink:href":s},c&&(i.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+c+'");return false;'))}else e="tspan";t.style&&(i.style=t.style);var d=document.createElementNS(o.svg,e);if("sup"===n||"sub"===n){E(a,g),a.appendChild(d);var f=document.createElementNS(o.svg,"tspan");E(f,g),r.select(f).attr("dy",p[n]),i.dy=h[n],a.appendChild(d),a.appendChild(f)}else a.appendChild(d);r.select(d).attr(i),a=t.node=d,u.push(t)}function E(t,e){t.appendChild(document.createTextNode(e))}function O(t){if(1!==u.length){var n=u.pop();t!==n.type&&i.log("Start tag <"+n.type+"> doesnt match end tag <"+t+">. Pretending it did match.",e),a=u[u.length-1].node}else i.log("Ignoring unexpected end tag </"+t+">.",e)}w.test(e)?d():(a=t,u=[{node:t}]);for(var P=e.split(_),I=0;I<P.length;I++){var D=P[I],L=D.match(x),R=L&&L[2].toLowerCase(),N=f[R];if("br"===R)d();else if(void 0===N)E(a,D);else if(L[1])O(R);else{var F=L[4],z={type:R},j=M(F,k);if(j?(j=j.replace(S,"$1 fill:"),N&&(j+=";"+N)):N&&(j=N),j&&(z.style=j),"a"===R){s=!0;var V=M(F,T);if(V){var B=document.createElement("a");B.href=V,-1!==m.indexOf(B.protocol)&&(z.href=encodeURI(decodeURI(V)),z.target=M(F,C)||"_blank",z.popup=M(F,A))}}y(z)}}return s}(t.node(),y)&&t.style("pointer-events","all"),n.positionText(t),a&&a.call(t)}};var c=/(<|&lt;|&#60;)/g,d=/(>|&gt;|&#62;)/g,f={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},h={sub:"0.3em",sup:"-0.6em"},p={sub:"-0.21em",sup:"0.42em"},g="\u200b",m=["http:","https:","mailto:","",void 0,":"],y=new RegExp("</?("+Object.keys(f).join("|")+")( [^>]*)?/?>","g"),v=Object.keys(a.entityToUnicode).map(function(t){return{regExp:new RegExp("&"+t+";","g"),sub:a.entityToUnicode[t]}}),b=/(\r\n?|\n)/g,_=/(<[^<>]*>)/,x=/<(\/?)([^ >]*)(\s+(.*))?>/i,w=/<br(\s+.*)?>/i,k=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,T=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,C=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,A=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function M(t,e){if(!t)return null;var n=t.match(e);return n&&(n[3]||n[4])}var S=/(^|;)\s*color:/;function E(t,e,n){var r,i,o,a=n.horizontalAlign,l=n.verticalAlign||"top",s=t.node().getBoundingClientRect(),u=e.node().getBoundingClientRect();return i="bottom"===l?function(){return s.bottom-r.height}:"middle"===l?function(){return s.top+(s.height-r.height)/2}:function(){return s.top},o="right"===a?function(){return s.right-r.width}:"center"===a?function(){return s.left+(s.width-r.width)/2}:function(){return s.left},function(){return r=this.node().getBoundingClientRect(),this.style({top:i()-u.top+"px",left:o()-u.left+"px","z-index":1e3}),this}}n.plainText=function(t){return(t||"").replace(y," ")},n.lineCount=function(t){return t.selectAll("tspan.line").size()||1},n.positionText=function(t,e,n){return t.each(function(){var t=r.select(this);function i(e,n){return void 0===n?null===(n=t.attr(e))&&(t.attr(e,0),n=0):t.attr(e,n),n}var o=i("x",e),a=i("y",n);"text"===this.nodeName&&t.selectAll("tspan.line").attr({x:o,y:a})})},n.makeEditable=function(t,e){var n=e.gd,i=e.delegate,o=r.dispatch("edit","input","cancel"),a=i||t;if(t.style({"pointer-events":i?"none":"all"}),1!==t.size())throw new Error("boo");function l(){var i,l,u,c,d;i=r.select(n).select(".svg-container"),l=i.append("div"),u=t.node().style,c=parseFloat(u.fontSize||12),void 0===(d=e.text)&&(d=t.attr("data-unformatted")),l.classed("plugin-editable editable",!0).style({position:"absolute","font-family":u.fontFamily||"Arial","font-size":c,color:e.fill||u.fill||"black",opacity:1,"background-color":e.background||"transparent",outline:"#ffffff33 1px solid",margin:[-c/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(d).call(E(t,i,e)).on("blur",function(){n._editing=!1,t.text(this.textContent).style({opacity:1});var e,i=r.select(this).attr("class");(e=i?"."+i.split(" ")[0]+"-math-group":"[class*=-math-group]")&&r.select(t.node().parentNode).select(e).style({opacity:0});var a=this.textContent;r.select(this).transition().duration(0).remove(),r.select(document).on("mouseup",null),o.edit.call(t,a)}).on("focus",function(){var t=this;n._editing=!0,r.select(document).on("mouseup",function(){if(r.event.target===t)return!1;document.activeElement===l.node()&&l.node().blur()})}).on("keyup",function(){27===r.event.which?(n._editing=!1,t.style({opacity:1}),r.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),o.cancel.call(t,this.textContent)):(o.input.call(t,this.textContent),r.select(this).call(E(t,i,e)))}).on("keydown",function(){13===r.event.which&&this.blur()}).call(s),t.style({opacity:0});var f,h=a.attr("class");(f=h?"."+h.split(" ")[0]+"-math-group":"[class*=-math-group]")&&r.select(t.node().parentNode).select(f).style({opacity:0})}function s(t){var e=t.node(),n=document.createRange();n.selectNodeContents(e);var r=window.getSelection();r.removeAllRanges(),r.addRange(n),e.focus()}return e.immediate?l():a.on("click",l),r.rebind(t,o,"on")}},{"../constants/alignment":143,"../constants/string_mappings":146,"../constants/xmlns_namespaces":147,"../lib":163,d3:7}],185:[function(t,e,n){"use strict";var r={};function i(t){t&&null!==t.timer&&(clearTimeout(t.timer),t.timer=null)}n.throttle=function(t,e,n){var o=r[t],a=Date.now();if(!o){for(var l in r)r[l].ts<a-6e4&&delete r[l];o=r[t]={ts:0,timer:null}}function s(){n(),o.ts=Date.now(),o.onDone&&(o.onDone(),o.onDone=null)}i(o),a>o.ts+e?s():o.timer=setTimeout(function(){s(),o.timer=null},e)},n.done=function(t){var e=r[t];return e&&e.timer?new Promise(function(t){var n=e.onDone;e.onDone=function(){n&&n(),t(),e.onDone=null}}):Promise.resolve()},n.clear=function(t){if(t)i(r[t]),delete r[t];else for(var e in r)n.clear(e)}},{}],186:[function(t,e,n){"use strict";var r=t("fast-isnumeric");e.exports=function(t,e){if(t>0)return Math.log(t)/Math.LN10;var n=Math.log(Math.min(e[0],e[1]))/Math.LN10;return r(n)||(n=Math.log(Math.max(e[0],e[1]))/Math.LN10-6),n}},{"fast-isnumeric":10}],187:[function(t,e,n){"use strict";e.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},{}],188:[function(t,e,n){"use strict";e.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},{}],189:[function(t,e,n){"use strict";var r=t("../registry");e.exports=function(t){for(var e,n,i=r.layoutArrayContainers,o=r.layoutArrayRegexes,a=t.split("[")[0],l=0;l<o.length;l++)if((n=t.match(o[l]))&&0===n.index){e=n[0];break}if(e||(e=i[i.indexOf(a)]),!e)return!1;var s=t.substr(e.length);return s?!!(n=s.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:e,index:Number(n[1]),property:n[3]||""}:{array:e,index:"",property:""}}},{"../registry":245}],190:[function(t,e,n){"use strict";var r=t("../lib"),i=r.extendFlat,o=r.isPlainObject,a={valType:"flaglist",extras:["none"],flags:["calc","calcIfAutorange","clearAxisTypes","plot","style","colorbars"]},l={valType:"flaglist",extras:["none"],flags:["calc","calcIfAutorange","plot","legend","ticks","axrange","margins","layoutstyle","modebar","camera","arraydraw"]},s=a.flags.slice().concat(["clearCalc","fullReplot"]),u=l.flags.slice().concat("layoutReplot");function c(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!1;return e}function d(t,e,n){var r=i({},t);for(var a in r){var l=r[a];o(l)&&(r[a]=f(l,e,0,a))}return"from-root"===n&&(r.editType=e),r}function f(t,e,n,r){if(t.valType){var o=i({},t);if(o.editType=e,Array.isArray(t.items)){o.items=new Array(t.items.length);for(var a=0;a<t.items.length;a++)o.items[a]=f(t.items[a],e)}return o}return d(t,e,"_"===r.charAt(0)?"nested":"from-root")}e.exports={traces:a,layout:l,traceFlags:function(){return c(s)},layoutFlags:function(){return c(u)},update:function(t,e){var n=e.editType;if(n&&"none"!==n)for(var r=n.split("+"),i=0;i<r.length;i++)t[r[i]]=!0},overrideAll:d}},{"../lib":163}],191:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("gl-mat4/fromQuat"),o=t("../registry"),a=t("../lib"),l=t("../plots/plots"),s=t("../plots/cartesian/axis_ids"),u=s.cleanId,c=s.getFromTrace,d=t("../components/color");function f(t,e){var n=t[e],r=e.charAt(0);n&&"paper"!==n&&(t[e]=u(n,r))}function h(t){if(!a.isPlainObject(t))return!1;var e=t.name;return delete t.name,delete t.showlegend,("string"==typeof e||"number"==typeof e)&&String(e)}function p(t,e,n,r){if(n&&!r)return t;if(r&&!n)return e;if(!t.trim())return e;if(!e.trim())return t;var i,o=Math.min(t.length,e.length);for(i=0;i<o&&t.charAt(i)===e.charAt(i);i++);return t.substr(0,i).trim()}function g(t){var e="middle",n="center";return-1!==t.indexOf("top")?e="top":-1!==t.indexOf("bottom")&&(e="bottom"),-1!==t.indexOf("left")?n="left":-1!==t.indexOf("right")&&(n="right"),e+" "+n}function m(t,e){return e in t&&"object"==typeof t[e]&&0===Object.keys(t[e]).length}n.clearPromiseQueue=function(t){Array.isArray(t._promises)&&t._promises.length>0&&a.log("Clearing previous rejected promises from queue."),t._promises=[]},n.cleanLayout=function(t){var e,n;t||(t={}),t.xaxis1&&(t.xaxis||(t.xaxis=t.xaxis1),delete t.xaxis1),t.yaxis1&&(t.yaxis||(t.yaxis=t.yaxis1),delete t.yaxis1),t.scene1&&(t.scene||(t.scene=t.scene1),delete t.scene1);var r=(l.subplotsRegistry.cartesian||{}).attrRegex,o=(l.subplotsRegistry.gl3d||{}).attrRegex,s=Object.keys(t);for(e=0;e<s.length;e++){var c=s[e];if(r&&r.test(c)){var h=t[c];h.anchor&&"free"!==h.anchor&&(h.anchor=u(h.anchor)),h.overlaying&&(h.overlaying=u(h.overlaying)),h.type||(h.isdate?h.type="date":h.islog?h.type="log":!1===h.isdate&&!1===h.islog&&(h.type="linear")),"withzero"!==h.autorange&&"tozero"!==h.autorange||(h.autorange=!0,h.rangemode="tozero"),delete h.islog,delete h.isdate,delete h.categories,m(h,"domain")&&delete h.domain,void 0!==h.autotick&&(void 0===h.tickmode&&(h.tickmode=h.autotick?"auto":"linear"),delete h.autotick)}else if(o&&o.test(c)){var p=t[c],g=p.cameraposition;if(Array.isArray(g)&&4===g[0].length){var y=g[1],v=g[2],b=i([],g[0]),_=[];for(n=0;n<3;++n)_[n]=y[n]+v*b[2+4*n];p.camera={eye:{x:_[0],y:_[1],z:_[2]},center:{x:y[0],y:y[1],z:y[2]},up:{x:b[1],y:b[5],z:b[9]}},delete p.cameraposition}}}var x=Array.isArray(t.annotations)?t.annotations.length:0;for(e=0;e<x;e++){var w=t.annotations[e];a.isPlainObject(w)&&(w.ref&&("paper"===w.ref?(w.xref="paper",w.yref="paper"):"data"===w.ref&&(w.xref="x",w.yref="y"),delete w.ref),f(w,"xref"),f(w,"yref"))}var k=Array.isArray(t.shapes)?t.shapes.length:0;for(e=0;e<k;e++){var T=t.shapes[e];a.isPlainObject(T)&&(f(T,"xref"),f(T,"yref"))}var C=t.legend;return C&&(C.x>3?(C.x=1.02,C.xanchor="left"):C.x<-2&&(C.x=-.02,C.xanchor="right"),C.y>3?(C.y=1.02,C.yanchor="bottom"):C.y<-2&&(C.y=-.02,C.yanchor="top")),"rotate"===t.dragmode&&(t.dragmode="orbit"),d.clean(t),t},n.cleanData=function(t,e){for(var r=[],i=t.concat(Array.isArray(e)?e:[]).filter(function(t){return"uid"in t}).map(function(t){return t.uid}),s=0;s<t.length;s++){var c,f=t[s];if(!("uid"in f)||-1!==r.indexOf(f.uid)){var y;for(c=0;c<100&&(y=a.randstr(i),-1!==r.indexOf(y));c++);f.uid=a.randstr(i),i.push(f.uid)}if(r.push(f.uid),"histogramy"===f.type&&"xbins"in f&&!("ybins"in f)&&(f.ybins=f.xbins,delete f.xbins),f.error_y&&"opacity"in f.error_y){var v=d.defaults,b=f.error_y.color||(o.traceIs(f,"bar")?d.defaultLine:v[s%v.length]);f.error_y.color=d.addOpacity(d.rgb(b),d.opacity(b)*f.error_y.opacity),delete f.error_y.opacity}if("bardir"in f&&("h"!==f.bardir||!o.traceIs(f,"bar")&&"histogram"!==f.type.substr(0,9)||(f.orientation="h",n.swapXYData(f)),delete f.bardir),"histogramy"===f.type&&n.swapXYData(f),"histogramx"!==f.type&&"histogramy"!==f.type||(f.type="histogram"),"scl"in f&&(f.colorscale=f.scl,delete f.scl),"reversescl"in f&&(f.reversescale=f.reversescl,delete f.reversescl),f.xaxis&&(f.xaxis=u(f.xaxis,"x")),f.yaxis&&(f.yaxis=u(f.yaxis,"y")),o.traceIs(f,"gl3d")&&f.scene&&(f.scene=l.subplotsRegistry.gl3d.cleanId(f.scene)),!o.traceIs(f,"pie")&&!o.traceIs(f,"bar"))if(Array.isArray(f.textposition))for(c=0;c<f.textposition.length;c++)f.textposition[c]=g(f.textposition[c]);else f.textposition&&(f.textposition=g(f.textposition));if(o.traceIs(f,"2dMap")&&("YIGnBu"===f.colorscale&&(f.colorscale="YlGnBu"),"YIOrRd"===f.colorscale&&(f.colorscale="YlOrRd")),o.traceIs(f,"markerColorscale")&&f.marker){var _=f.marker;"YIGnBu"===_.colorscale&&(_.colorscale="YlGnBu"),"YIOrRd"===_.colorscale&&(_.colorscale="YlOrRd")}if("surface"===f.type&&a.isPlainObject(f.contours)){var x=["x","y","z"];for(c=0;c<x.length;c++){var w=f.contours[x[c]];a.isPlainObject(w)&&(w.highlightColor&&(w.highlightcolor=w.highlightColor,delete w.highlightColor),w.highlightWidth&&(w.highlightwidth=w.highlightWidth,delete w.highlightWidth))}}if("candlestick"===f.type||"ohlc"===f.type){var k=!1!==(f.increasing||{}).showlegend,T=!1!==(f.decreasing||{}).showlegend,C=h(f.increasing),A=h(f.decreasing);if(!1!==C&&!1!==A){var M=p(C,A,k,T);M&&(f.name=M)}else!C&&!A||f.name||(f.name=C||A)}if(Array.isArray(f.transforms)){var S=f.transforms;for(c=0;c<S.length;c++){var E=S[c];if(a.isPlainObject(E))switch(E.type){case"filter":E.filtersrc&&(E.target=E.filtersrc,delete E.filtersrc),E.calendar&&(E.valuecalendar||(E.valuecalendar=E.calendar),delete E.calendar);break;case"groupby":if(E.styles=E.styles||E.style,E.styles&&!Array.isArray(E.styles)){var O=E.styles,P=Object.keys(O);E.styles=[];for(var I=0;I<P.length;I++)E.styles.push({target:P[I],value:O[P[I]]})}}}}m(f,"line")&&delete f.line,"marker"in f&&(m(f.marker,"line")&&delete f.marker.line,m(f,"marker")&&delete f.marker),d.clean(f)}},n.swapXYData=function(t){var e;if(a.swapAttrs(t,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(t.z)&&Array.isArray(t.z[0])&&(t.transpose?delete t.transpose:t.transpose=!0),t.error_x&&t.error_y){var n=t.error_y,r="copy_ystyle"in n?n.copy_ystyle:!(n.color||n.thickness||n.width);a.swapAttrs(t,["error_?.copy_ystyle"]),r&&a.swapAttrs(t,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof t.hoverinfo){var i=t.hoverinfo.split("+");for(e=0;e<i.length;e++)"x"===i[e]?i[e]="y":"y"===i[e]&&(i[e]="x");t.hoverinfo=i.join("+")}},n.coerceTraceIndices=function(t,e){return r(e)?[e]:Array.isArray(e)&&e.length?e:t.data.map(function(t,e){return e})},n.manageArrayContainers=function(t,e,n){var i=t.obj,o=t.parts,l=o.length,s=o[l-1],u=r(s);if(u&&null===e){var c=o.slice(0,l-1).join(".");a.nestedProperty(i,c).get().splice(s,1)}else u&&void 0===t.get()?(void 0===t.get()&&(n[t.astr]=null),t.set(e)):t.set(e)};var y=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function v(t){var e=t.search(y);if(e>0)return t.substr(0,e)}n.hasParent=function(t,e){for(var n=v(e);n;){if(n in t)return!0;n=v(n)}return!1};var b=["x","y","z"];n.clearAxisTypes=function(t,e,n){for(var r=0;r<e.length;r++)for(var i=t._fullData[r],o=0;o<3;o++){var l=c(t,i,b[o]);if(l&&"log"!==l.type){var s=l._name,u=l._id.substr(1);if("scene"===u.substr(0,5)){if(void 0!==n[u])continue;s=u+"."+s}var d=s+".type";void 0===n[s]&&void 0===n[d]&&a.nestedProperty(t.layout,d).set(null)}}},n.clearAxisAutomargins=function(t){for(var e=Object.keys(t._fullLayout._pushmargin),n=0;n<e.length;n++)-1!==e[n].indexOf("automargin")&&delete t._fullLayout._pushmargin[e[n]]}},{"../components/color":43,"../lib":163,"../plots/cartesian/axis_ids":208,"../plots/plots":237,"../registry":245,"fast-isnumeric":10,"gl-mat4/fromQuat":11}],192:[function(t,e,n){"use strict";var r=t("./plot_api");n.plot=r.plot,n.newPlot=r.newPlot,n.restyle=r.restyle,n.relayout=r.relayout,n.redraw=r.redraw,n.update=r.update,n.react=r.react,n.extendTraces=r.extendTraces,n.prependTraces=r.prependTraces,n.addTraces=r.addTraces,n.deleteTraces=r.deleteTraces,n.moveTraces=r.moveTraces,n.purge=r.purge,n.addFrames=r.addFrames,n.deleteFrames=r.deleteFrames,n.animate=r.animate,n.setPlotConfig=r.setPlotConfig,n.toImage=t("./to_image"),n.validate=t("./validate"),n.downloadImage=t("../snapshot/download")},{"../snapshot/download":247,"./plot_api":194,"./to_image":198,"./validate":199}],193:[function(t,e,n){"use strict";var r=t("../lib/nested_property"),i=t("../lib/is_plain_object"),o=t("../lib/noop"),a=t("../lib/loggers"),l=t("../lib/search").sorterAsc,s=t("../registry");n.containerArrayMatch=t("./container_array_match");var u=n.isAddVal=function(t){return"add"===t||i(t)},c=n.isRemoveVal=function(t){return null===t||"remove"===t};n.applyContainerArrayChanges=function(t,e,n,i){var d=e.astr,f=s.getComponentMethod(d,"supplyLayoutDefaults"),h=s.getComponentMethod(d,"draw"),p=s.getComponentMethod(d,"drawOne"),g=i.replot||i.recalc||f===o||h===o,m=t.layout,y=t._fullLayout;if(n[""]){Object.keys(n).length>1&&a.warn("Full array edits are incompatible with other edits",d);var v=n[""][""];if(c(v))e.set(null);else{if(!Array.isArray(v))return a.warn("Unrecognized full array edit value",d,v),!0;e.set(v)}return!g&&(f(m,y),h(t),!0)}var b,_,x,w,k,T,C,A=Object.keys(n).map(Number).sort(l),M=e.get(),S=M||[],E=r(y,d).get(),O=[],P=-1,I=S.length;for(b=0;b<A.length;b++)if(w=n[x=A[b]],k=Object.keys(w),C=u(T=w[""]),x<0||x>S.length-(C?0:1))a.warn("index out of range",d,x);else if(void 0!==T)k.length>1&&a.warn("Insertion & removal are incompatible with edits to the same index.",d,x),c(T)?O.push(x):C?("add"===T&&(T={}),S.splice(x,0,T),E&&E.splice(x,0,{})):a.warn("Unrecognized full object edit value",d,x,T),-1===P&&(P=x);else for(_=0;_<k.length;_++)r(S[x],k[_]).set(w[k[_]]);for(b=O.length-1;b>=0;b--)S.splice(O[b],1),E&&E.splice(O[b],1);if(S.length?M||e.set(S):e.set(null),g)return!1;if(f(m,y),p!==o){var D;if(-1===P)D=A;else{for(I=Math.max(S.length,I),D=[],b=0;b<A.length&&!((x=A[b])>=P);b++)D.push(x);for(b=P;b<I;b++)D.push(b)}for(b=0;b<D.length;b++)p(t,D[b])}else h(t);return!0}},{"../lib/is_plain_object":165,"../lib/loggers":168,"../lib/nested_property":171,"../lib/noop":172,"../lib/search":181,"../registry":245,"./container_array_match":189}],194:[function(t,e,n){"use strict";var r=t("d3"),i=t("fast-isnumeric"),o=t("has-hover"),a=t("../lib"),l=t("../lib/events"),s=t("../lib/queue"),u=t("../registry"),c=t("./plot_schema"),d=t("../plots/plots"),f=t("../plots/polar/legacy"),h=t("../plots/cartesian/axes"),p=t("../components/drawing"),g=t("../components/color"),m=t("../plots/cartesian/graph_interact").initInteractions,y=t("../constants/xmlns_namespaces"),v=t("../lib/svg_text_utils"),b=t("./plot_config"),_=t("./manage_arrays"),x=t("./helpers"),w=t("./subroutines"),k=t("./edit_types"),T=t("../plots/cartesian/constants").AX_NAME_PATTERN,C=0;function A(t,e){try{t._fullLayout._paper.style("background",e)}catch(t){a.error(t)}}function M(t,e){A(t,g.combine(e,"white"))}function S(t,e){t._context||(t._context=a.extendDeep({},b));var n,r,i,l=t._context;if(e){for(r=Object.keys(e),n=0;n<r.length;n++)"editable"!==(i=r[n])&&"edits"!==i&&i in l&&(l[i]="setBackground"===i&&"opaque"===e[i]?M:e[i]);e.plot3dPixelRatio&&!l.plotGlPixelRatio&&(l.plotGlPixelRatio=l.plot3dPixelRatio);var s=e.editable;if(void 0!==s)for(l.editable=s,r=Object.keys(l.edits),n=0;n<r.length;n++)l.edits[r[n]]=s;if(e.edits)for(r=Object.keys(e.edits),n=0;n<r.length;n++)(i=r[n])in l.edits&&(l.edits[i]=e.edits[i])}l.staticPlot&&(l.editable=!1,l.edits={},l.autosizable=!1,l.scrollZoom=!1,l.doubleClick=!1,l.showTips=!1,l.showLink=!1,l.displayModeBar=!1),"hover"!==l.displayModeBar||o||(l.displayModeBar=!0),"transparent"!==l.setBackground&&"function"==typeof l.setBackground||(l.setBackground=A)}function E(t,e){var n,r,i=e+1,o=[];for(n=0;n<t.length;n++)o.push((r=t[n])<0?i+r:r);return o}function O(t,e,n){var r,i;for(r=0;r<e.length;r++){if((i=e[r])!==parseInt(i,10))throw new Error("all values in "+n+" must be integers");if(i>=t.data.length||i<-t.data.length)throw new Error(n+" must be valid indices for gd.data.");if(e.indexOf(i,r+1)>-1||i>=0&&e.indexOf(-t.data.length+i)>-1||i<0&&e.indexOf(t.data.length+i)>-1)throw new Error("each index in "+n+" must be unique.")}}function P(t,e,n){if(!Array.isArray(t.data))throw new Error("gd.data must be an array.");if(void 0===e)throw new Error("currentIndices is a required argument.");if(Array.isArray(e)||(e=[e]),O(t,e,"currentIndices"),void 0===n||Array.isArray(n)||(n=[n]),void 0!==n&&O(t,n,"newIndices"),void 0!==n&&e.length!==n.length)throw new Error("current and new indices must be of equal length.")}function I(t,e,n,r,o){!function(t,e,n,r){var i=a.isPlainObject(r);if(!Array.isArray(t.data))throw new Error("gd.data must be an array");if(!a.isPlainObject(e))throw new Error("update must be a key:value object");if(void 0===n)throw new Error("indices must be an integer or array of integers");for(var o in O(t,n,"indices"),e){if(!Array.isArray(e[o])||e[o].length!==n.length)throw new Error("attribute "+o+" must be an array of length equal to indices array length");if(i&&(!(o in r)||!Array.isArray(r[o])||r[o].length!==e[o].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(t,e,n,r);for(var l=function(t,e,n,r){var o,l,s,u,c=a.isPlainObject(r),d=[];for(var f in Array.isArray(n)||(n=[n]),n=E(n,t.data.length-1),e)for(var h=0;h<n.length;h++){if(o=(l=a.nestedProperty(t.data[n[h]],f)).get(),!a.isArrayOrTypedArray(s=e[f][h]))throw new Error("attribute: "+f+" index: "+h+" must be an array");if(!a.isArrayOrTypedArray(o))throw new Error("cannot extend missing or non-array attribute: "+f);if(o.constructor!==s.constructor)throw new Error("cannot extend array with an array of a different type: "+f);i(u=c?r[f][h]:r)||(u=-1),d.push({prop:l,target:o,insert:s,maxp:Math.floor(u)})}return d}(t,e,n,r),s={},u={},c=0;c<l.length;c++){var d=l[c].prop,f=o(l[c].target,l[c].insert,l[c].maxp);d.set(f[0]),Array.isArray(s[d.astr])||(s[d.astr]=[]),s[d.astr].push(f[1]),Array.isArray(u[d.astr])||(u[d.astr]=[]),u[d.astr].push(l[c].target.length)}return{update:s,maxPoints:u}}function D(t,e){var n=new t.constructor(t.length+e.length);return n.set(t),n.set(e,t.length),n}function L(t){return void 0===t?null:t}function R(t,e,n){var r,i,o=t._fullLayout,l=t._fullData,s=t.data,f=k.traceFlags(),p={},g={};function m(){return n.map(function(){})}function y(t){var e=h.id2name(t);-1===i.indexOf(e)&&i.push(e)}function v(t){return"LAYOUT"+t+".autorange"}function b(t){return"LAYOUT"+t+".range"}function _(r,i,o){var l;Array.isArray(r)?r.forEach(function(t){_(t,i,o)}):r in e||x.hasParent(e,r)||(l="LAYOUT"===r.substr(0,6)?a.nestedProperty(t.layout,r.replace("LAYOUT","")):a.nestedProperty(s[n[o]],r),r in g||(g[r]=m()),void 0===g[r][o]&&(g[r][o]=L(l.get())),void 0!==i&&l.set(i))}for(var w in e){if(x.hasParent(e,w))throw new Error("cannot set "+w+"and a parent attribute simultaneously");var T,C,A,M,S,E,O=e[w];if(p[w]=O,"LAYOUT"!==w.substr(0,6)){for(g[w]=m(),r=0;r<n.length;r++)if(C=l[n[r]],M=(A=a.nestedProperty(T=s[n[r]],w)).get(),void 0!==(S=Array.isArray(O)?O[r%O.length]:O)){if((E=c.getTraceValObject(C,A.parts))&&E.impliedEdits&&null!==S)for(var P in E.impliedEdits)_(a.relativeAttr(w,P),E.impliedEdits[P],r);else if("colorbar.thicknessmode"===w&&A.get()!==S&&-1!==["fraction","pixels"].indexOf(S)&&C.colorbar){var I=-1!==["top","bottom"].indexOf(C.colorbar.orient)?o.height-o.margin.t-o.margin.b:o.width-o.margin.l-o.margin.r;_("colorbar.thickness",C.colorbar.thickness*("fraction"===S?1/I:I),r)}else if("colorbar.lenmode"===w&&A.get()!==S&&-1!==["fraction","pixels"].indexOf(S)&&C.colorbar){var D=-1!==["top","bottom"].indexOf(C.colorbar.orient)?o.width-o.margin.l-o.margin.r:o.height-o.margin.t-o.margin.b;_("colorbar.len",C.colorbar.len*("fraction"===S?1/D:D),r)}else"colorbar.tick0"!==w&&"colorbar.dtick"!==w||_("colorbar.tickmode","linear",r);if("type"===w&&"pie"===S!=("pie"===M)){var R="x",N="y";"bar"!==S&&"bar"!==M||"h"!==T.orientation||(R="y",N="x"),a.swapAttrs(T,["?","?src"],"labels",R),a.swapAttrs(T,["d?","?0"],"label",R),a.swapAttrs(T,["?","?src"],"values",N),"pie"===M?(a.nestedProperty(T,"marker.color").set(a.nestedProperty(T,"marker.colors").get()),o._pielayer.selectAll("g.trace").remove()):u.traceIs(T,"cartesian")&&a.nestedProperty(T,"marker.colors").set(a.nestedProperty(T,"marker.color").get())}if(g[w][r]=L(M),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(w)){if("orientation"===w){A.set(S);var F=T.x&&!T.y?"h":"v";if((A.get()||F)===C.orientation)continue}else"orientationaxes"===w&&(T.orientation={v:"h",h:"v"}[C.orientation]);x.swapXYData(T),f.calc=f.clearAxisTypes=!0}else-1!==d.dataArrayContainers.indexOf(A.parts[0])?(x.manageArrayContainers(A,S,g),f.calc=!0):(E?E.arrayOk&&(a.isArrayOrTypedArray(S)||a.isArrayOrTypedArray(M))?f.calc=!0:k.update(f,E):f.calc=!0,A.set(S))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(w)&&h.swap(t,n),"orientationaxes"===w){var z=a.nestedProperty(t.layout,"hovermode");"x"===z.get()?z.set("y"):"y"===z.get()&&z.set("x")}if(-1!==["orientation","type"].indexOf(w)){for(i=[],r=0;r<n.length;r++){var j=s[n[r]];u.traceIs(j,"cartesian")&&(y(j.xaxis||"x"),y(j.yaxis||"y"),"type"===w&&_(["autobinx","autobiny"],!0,r))}_(i.map(v),!0,0),_(i.map(b),[0,1],0)}}else A=a.nestedProperty(t.layout,w.replace("LAYOUT","")),g[w]=[L(A.get())],A.set(Array.isArray(O)?O[0]:O),f.calc=!0}var V=!1,B=h.list(t);for(r=0;r<B.length;r++)if(B[r].autorange){V=!0;break}return(f.calc||f.calcIfAutorange&&V)&&(f.clearCalc=!0),(f.calc||f.plot||f.calcIfAutorange)&&(f.fullReplot=!0),{flags:f,undoit:g,redoit:p,traces:n,eventData:a.extendDeepNoArrays([],[p,n])}}n.plot=function(t,e,i,o){var s;if(t=a.getGraphDiv(t),l.init(t),a.isPlainObject(e)){var c=e;e=c.data,i=c.layout,o=c.config,s=c.frames}if(!1===l.triggerHandler(t,"plotly_beforeplot",[e,i,o]))return Promise.reject();e||i||a.isPlotDiv(t)||a.warn("Calling Plotly.plot as if redrawing but this container doesn't yet have a plot.",t),S(t,o),i||(i={}),r.select(t).classed("js-plotly-plot",!0),p.makeTester(),delete p.baseUrl,Array.isArray(t._promises)||(t._promises=[]);var g=0===(t.data||[]).length&&Array.isArray(e);if(Array.isArray(e)&&(x.cleanData(e,t.data),g?t.data=e:t.data.push.apply(t.data,e),t.empty=!1),t.layout&&!g||(t.layout=x.cleanLayout(i)),t._dragging&&!t._transitioning)return t._replotPending=!0,Promise.reject();t._replotPending=!1,d.supplyDefaults(t);var y=t._fullLayout,b=y._has("cartesian");if(!y._has("polar")&&e&&e[0]&&e[0].r)return a.log("Legacy polar charts are deprecated!"),function(t,e,n){var i=r.select(t).selectAll(".plot-container").data([0]);i.enter().insert("div",":first-child").classed("plot-container plotly",!0);var o=i.selectAll(".svg-container").data([0]);o.enter().append("div").classed("svg-container",!0).style("position","relative"),o.html(""),e&&(t.data=e),n&&(t.layout=n),f.manager.fillLayout(t),o.style({width:t._fullLayout.width+"px",height:t._fullLayout.height+"px"}),t.framework=f.manager.framework(t),t.framework({data:t.data,layout:t.layout},o.node()),t.framework.setUndoPoint();var l=t.framework.svg(),s=1,u=t._fullLayout.title;""!==u&&u||(s=0);var c=function(){this.call(v.convertToTspans,t)},h=l.select(".title-group text").call(c);if(t._context.edits.titleText){var p=a._(t,"Click to enter Plot title");u&&u!==p||(s=.2,h.attr({"data-unformatted":p}).text(p).style({opacity:s}).on("mouseover.opacity",function(){r.select(this).transition().duration(100).style("opacity",1)}).on("mouseout.opacity",function(){r.select(this).transition().duration(1e3).style("opacity",0)}));var g=function(){this.call(v.makeEditable,{gd:t}).on("edit",function(e){t.framework({layout:{title:e}}),this.text(e).call(c),this.call(g)}).on("cancel",function(){var t=this.attr("data-unformatted");this.text(t).call(c)})};h.call(g)}return t._context.setBackground(t,t._fullLayout.paper_bgcolor),d.addLinks(t),Promise.resolve()}(t,e,i);y._replotting=!0,g&&q(t),t.framework!==q&&(t.framework=q,q(t)),p.initGradients(t),g&&h.saveShowSpikeInitial(t);var _=!t.calcdata||t.calcdata.length!==(t._fullData||[]).length;_&&d.doCalcdata(t);for(var k=0;k<t.calcdata.length;k++)t.calcdata[k][0].trace=t._fullData[k];var T=JSON.stringify(y._size);function C(){var e,n,r,i=t.calcdata;for(u.getComponentMethod("legend","draw")(t),u.getComponentMethod("rangeselector","draw")(t),u.getComponentMethod("sliders","draw")(t),u.getComponentMethod("updatemenus","draw")(t),e=0;e<i.length;e++)!0===(r=(n=i[e])[0].trace).visible&&r._module.colorbar?r._module.colorbar(t,n):d.autoMargin(t,"cb"+r.uid);return d.doAutoMargin(t),d.previousPromises(t)}function A(){t._transitioning||(w.doAutoRangeAndConstraints(t),g&&h.saveRangeInitial(t))}var M=[d.previousPromises,function(){if(s)return n.addFrames(t,s)},function(){for(var e=y._basePlotModules,n=0;n<e.length;n++)e[n].drawFramework&&e[n].drawFramework(t);return!y._glcanvas&&y._has("gl")&&(y._glcanvas=y._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(t){return t.key}),y._glcanvas.enter().append("canvas").attr("class",function(t){return"gl-canvas gl-canvas-"+t.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"visible","pointer-events":"none"})),y._glcanvas&&y._glcanvas.attr("width",y.width).attr("height",y.height),d.previousPromises(t)},C,function(){if(JSON.stringify(y._size)!==T)return a.syncOrAsync([C,w.layoutStyles],t)}];b&&M.push(function(){if(_){var e,n,r,i=y._subplots.cartesian,o=y._modules,l=[];for(r=0;r<o.length;r++)a.pushUnique(l,o[r].setPositions);if(l.length)for(n=0;n<i.length;n++)for(e=y._plots[i[n]],r=0;r<l.length;r++)l[r](t,e);return u.getComponentMethod("errorbars","calc")(t),a.syncOrAsync([u.getComponentMethod("shapes","calcAutorange"),u.getComponentMethod("annotations","calcAutorange"),A,u.getComponentMethod("rangeslider","calcAutorange")],t)}A()}),M.push(w.layoutStyles),b&&M.push(function(){return h.doTicks(t,g?"":"redraw")}),M.push(w.drawData,w.finalDraw,m,d.addLinks,d.rehover,d.previousPromises);var E=a.syncOrAsync(M,t);return E&&E.then||(E=Promise.resolve()),E.then(function(){return t.emit("plotly_afterplot"),t})},n.setPlotConfig=function(t){return a.extendFlat(b,t)},n.redraw=function(t){if(t=a.getGraphDiv(t),!a.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t);return x.cleanData(t.data,t.data),x.cleanLayout(t.layout),t.calcdata=void 0,n.plot(t).then(function(){return t.emit("plotly_redraw"),t})},n.newPlot=function(t,e,r,i){return t=a.getGraphDiv(t),d.cleanPlot([],{},t._fullData||[],t._fullLayout||{},t.calcdata||[]),d.purge(t),n.plot(t,e,r,i)},n.extendTraces=function t(e,r,i,o){var l=I(e=a.getGraphDiv(e),r,i,o,function(t,e,n){var r,i;if(a.isTypedArray(t))if(n<0){var o=new t.constructor(0),l=D(t,e);n<0?(r=l,i=o):(r=o,i=l)}else if(r=new t.constructor(n),i=new t.constructor(t.length+e.length-n),n===e.length)r.set(e),i.set(t);else if(n<e.length){var s=e.length-n;r.set(e.subarray(s)),i.set(t),i.set(e.subarray(0,s),t.length)}else{var u=n-e.length,c=t.length-u;r.set(t.subarray(c)),r.set(e,u),i.set(t.subarray(0,c))}else r=t.concat(e),i=n>=0&&n<r.length?r.splice(0,r.length-n):[];return[r,i]}),u=n.redraw(e);return s.add(e,n.prependTraces,[e,l.update,i,l.maxPoints],t,arguments),u},n.prependTraces=function t(e,r,i,o){var l=I(e=a.getGraphDiv(e),r,i,o,function(t,e,n){var r,i;if(a.isTypedArray(t))if(n<=0){var o=new t.constructor(0),l=D(e,t);n<0?(r=l,i=o):(r=o,i=l)}else if(r=new t.constructor(n),i=new t.constructor(t.length+e.length-n),n===e.length)r.set(e),i.set(t);else if(n<e.length){var s=e.length-n;r.set(e.subarray(0,s)),i.set(e.subarray(s)),i.set(t,s)}else{var u=n-e.length;r.set(e),r.set(t.subarray(0,u),e.length),i.set(t.subarray(u))}else r=e.concat(t),i=n>=0&&n<r.length?r.splice(n,r.length):[];return[r,i]}),u=n.redraw(e);return s.add(e,n.extendTraces,[e,l.update,i,l.maxPoints],t,arguments),u},n.addTraces=function t(e,r,i){e=a.getGraphDiv(e);var o,l,u=[],c=n.deleteTraces,d=t,f=[e,u],h=[e,r];for(function(t,e,n){var r,i;if(!Array.isArray(t.data))throw new Error("gd.data must be an array.");if(void 0===e)throw new Error("traces must be defined.");for(Array.isArray(e)||(e=[e]),r=0;r<e.length;r++)if("object"!=typeof(i=e[r])||Array.isArray(i)||null===i)throw new Error("all values in traces array must be non-array objects");if(void 0===n||Array.isArray(n)||(n=[n]),void 0!==n&&n.length!==e.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(e,r,i),Array.isArray(r)||(r=[r]),r=r.map(function(t){return a.extendFlat({},t)}),x.cleanData(r,e.data),o=0;o<r.length;o++)e.data.push(r[o]);for(o=0;o<r.length;o++)u.push(-r.length+o);if(void 0===i)return l=n.redraw(e),s.add(e,c,f,d,h),l;Array.isArray(i)||(i=[i]);try{P(e,u,i)}catch(t){throw e.data.splice(e.data.length-r.length,r.length),t}return s.startSequence(e),s.add(e,c,f,d,h),l=n.moveTraces(e,u,i),s.stopSequence(e),l},n.deleteTraces=function t(e,r){e=a.getGraphDiv(e);var i,o,l=[],u=n.addTraces,c=t,d=[e,l,r],f=[e,r];if(void 0===r)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(r)||(r=[r]),O(e,r,"indices"),(r=E(r,e.data.length-1)).sort(a.sorterDes),i=0;i<r.length;i+=1)o=e.data.splice(r[i],1)[0],l.push(o);var h=n.redraw(e);return s.add(e,u,d,c,f),h},n.moveTraces=function t(e,r,i){var o,l=[],u=[],c=t,d=t,f=[e=a.getGraphDiv(e),i,r],h=[e,r,i];if(P(e,r,i),r=Array.isArray(r)?r:[r],void 0===i)for(i=[],o=0;o<r.length;o++)i.push(-r.length+o);for(i=Array.isArray(i)?i:[i],r=E(r,e.data.length-1),i=E(i,e.data.length-1),o=0;o<e.data.length;o++)-1===r.indexOf(o)&&l.push(e.data[o]);for(o=0;o<r.length;o++)u.push({newIndex:i[o],trace:e.data[r[o]]});for(u.sort(function(t,e){return t.newIndex-e.newIndex}),o=0;o<u.length;o+=1)l.splice(u[o].newIndex,0,u[o].trace);e.data=l;var p=n.redraw(e);return s.add(e,c,f,d,h),p},n.restyle=function t(e,r,i,o){e=a.getGraphDiv(e),x.clearPromiseQueue(e);var l={};if("string"==typeof r)l[r]=i;else{if(!a.isPlainObject(r))return a.warn("Restyle fail.",r,i,o),Promise.reject();l=a.extendFlat({},r),void 0===o&&(o=i)}Object.keys(l).length&&(e.changed=!0);var u=x.coerceTraceIndices(e,o),c=R(e,l,u),f=c.flags;f.clearCalc&&(e.calcdata=void 0),f.clearAxisTypes&&x.clearAxisTypes(e,u,{});var h=[];f.fullReplot?h.push(n.plot):(h.push(d.previousPromises),d.supplyDefaults(e),f.style&&h.push(w.doTraceStyle),f.colorbars&&h.push(w.doColorBars)),h.push(d.rehover),s.add(e,t,[e,c.undoit,c.traces],t,[e,c.redoit,c.traces]);var p=a.syncOrAsync(h,e);return p&&p.then||(p=Promise.resolve()),p.then(function(){return e.emit("plotly_restyle",c.eventData),e})},n.relayout=function t(e,n,r){if(e=a.getGraphDiv(e),x.clearPromiseQueue(e),e.framework&&e.framework.isPolar)return Promise.resolve(e);var i={};if("string"==typeof n)i[n]=r;else{if(!a.isPlainObject(n))return a.warn("Relayout fail.",n,r),Promise.reject();i=a.extendFlat({},n)}Object.keys(i).length&&(e.changed=!0);var o=j(e,i),l=o.flags;l.calc&&(e.calcdata=void 0),l.margins&&x.clearAxisAutomargins(e);var u=[d.previousPromises];l.layoutReplot?u.push(w.layoutReplot):Object.keys(i).length&&(d.supplyDefaults(e),l.legend&&u.push(w.doLegend),l.layoutstyle&&u.push(w.layoutStyles),l.axrange&&u.push(function(t){return w.doTicksRelayout(t,o.rangesAltered)},w.drawData,w.finalDraw),l.ticks&&u.push(w.doTicksRelayout),l.modebar&&u.push(w.doModeBar),l.camera&&u.push(w.doCamera)),u.push(d.rehover),s.add(e,t,[e,o.undoit],t,[e,o.redoit]);var c=a.syncOrAsync(u,e);return c&&c.then||(c=Promise.resolve(e)),c.then(function(){return e.emit("plotly_relayout",o.eventData),e})};var N=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,F=/^[xyz]axis[0-9]*\.autorange$/,z=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function j(t,e){var n,r,i,o=t.layout,l=t._fullLayout,s=Object.keys(e),d=h.list(t),f={};for(r=0;r<s.length;r++)if(0===s[r].indexOf("allaxes")){for(i=0;i<d.length;i++){var p=d[i]._id.substr(1),g=-1!==p.indexOf("scene")?p+".":"",m=s[r].replace("allaxes",g+d[i]._name);e[m]||(e[m]=e[s[r]])}delete e[s[r]]}var y=k.layoutFlags(),v={},b={};function w(t,n){if(Array.isArray(t))t.forEach(function(t){w(t,n)});else if(!(t in e||x.hasParent(e,t))){var r=a.nestedProperty(o,t);t in b||(b[t]=L(r.get())),void 0!==n&&r.set(n)}}var C,A={};function M(t){var e=h.name2id(t.split(".")[0]);return A[e]=1,e}for(var S in e){if(x.hasParent(e,S))throw new Error("cannot set "+S+"and a parent attribute simultaneously");for(var E=a.nestedProperty(o,S),O=e[S],P=E.parts.length-1;P>0&&"string"!=typeof E.parts[P];)P--;var I=E.parts[P],D=E.parts[P-1]+"."+I,R=E.parts.slice(0,P).join("."),j=a.nestedProperty(t.layout,R).get(),H=a.nestedProperty(l,R).get(),q=E.get();if(void 0!==O){v[S]=O,b[S]="reverse"===I?O:L(q);var U=c.getLayoutValObject(l,E.parts);if(U&&U.impliedEdits&&null!==O)for(var G in U.impliedEdits)w(a.relativeAttr(S,G),U.impliedEdits[G]);if(-1!==["width","height"].indexOf(S)&&null===O)l[S]=t._initialAutoSize[S];else if(D.match(N))M(D),a.nestedProperty(l,R+"._inputRange").set(null);else if(D.match(F)){M(D),a.nestedProperty(l,R+"._inputRange").set(null);var W=a.nestedProperty(l,R).get();W._inputDomain&&(W._input.domain=W._inputDomain.slice())}else D.match(z)&&a.nestedProperty(l,R+"._inputDomain").set(null);if("type"===I){var Y=j,Z="linear"===H.type&&"log"===O;if(Z||"log"===H.type&&"linear"===O){if(Y&&Y.range)if(H.autorange)Z&&(Y.range=Y.range[1]>Y.range[0]?[1,2]:[2,1]);else{var X=Y.range[0],Q=Y.range[1];Z?(X<=0&&Q<=0&&w(R+".autorange",!0),X<=0?X=Q/1e6:Q<=0&&(Q=X/1e6),w(R+".range[0]",Math.log(X)/Math.LN10),w(R+".range[1]",Math.log(Q)/Math.LN10)):(w(R+".range[0]",Math.pow(10,X)),w(R+".range[1]",Math.pow(10,Q)))}else w(R+".autorange",!0);Array.isArray(l._subplots.polar)&&l._subplots.polar.length&&l[E.parts[0]]&&"radialaxis"===E.parts[1]&&delete l[E.parts[0]]._subplot.viewInitial["radialaxis.range"],u.getComponentMethod("annotations","convertCoords")(t,H,O,w),u.getComponentMethod("images","convertCoords")(t,H,O,w)}else w(R+".autorange",!0),w(R+".range",null);a.nestedProperty(l,R+"._inputRange").set(null)}else if(I.match(T)){var K=a.nestedProperty(l,S).get(),$=(O||{}).type;$&&"-"!==$||($="linear"),u.getComponentMethod("annotations","convertCoords")(t,K,$,w),u.getComponentMethod("images","convertCoords")(t,K,$,w)}var J=_.containerArrayMatch(S);if(J){r=J.index;var tt=J.property,et=(a.nestedProperty(o,n=J.array)||[])[r]||{},nt=et,rt=U||{editType:"calc"},it=-1!==rt.editType.indexOf("calcIfAutorange");""===r?(it?y.calc=!0:k.update(y,rt),it=!1):""===tt&&(nt=O,_.isAddVal(O)?b[S]=null:_.isRemoveVal(O)?(b[S]=et,nt=et):a.warn("unrecognized full object value",e)),it&&(B(t,nt,"x")||B(t,nt,"y"))?y.calc=!0:k.update(y,rt),f[n]||(f[n]={});var ot=f[n][r];ot||(ot=f[n][r]={}),ot[tt]=O,delete e[S]}else"reverse"===I?(j.range?j.range.reverse():(w(R+".autorange",!0),j.range=[1,0]),H.autorange?y.calc=!0:y.plot=!0):(l._has("scatter-like")&&l._has("regl")&&"dragmode"===S&&("lasso"===O||"select"===O)&&"lasso"!==q&&"select"!==q?y.plot=!0:U?k.update(y,U):y.calc=!0,E.set(O))}}for(n in f)_.applyContainerArrayChanges(t,a.nestedProperty(o,n),f[n],y)||(y.plot=!0);var at=l._axisConstraintGroups||[];for(C in A)for(r=0;r<at.length;r++){var lt=at[r];if(lt[C])for(var st in y.calc=!0,lt)A[st]||(h.getFromId(t,st)._constraintShrinkable=!0)}return(V(t)||e.height||e.width)&&(y.plot=!0),(y.plot||y.calc)&&(y.layoutReplot=!0),{flags:y,rangesAltered:A,undoit:b,redoit:v,eventData:a.extendDeep({},v)}}function V(t){var e=t._fullLayout,n=e.width,r=e.height;return t.layout.autosize&&d.plotAutoSize(t,t.layout,e),e.width!==n||e.height!==r}function B(t,e,n){if(!a.isPlainObject(e))return!1;var r=e[n+"ref"]||n,i=h.getFromId(t,r);return i||r.charAt(0)!==n||(i=h.getFromId(t,n)),(i||{}).autorange}function H(t,e,n,r){var i,o,l=r.getValObject,s=r.flags,u=r.immutable,c=r.inArray,d=r.arrayIndex,f=r.gd,h=r.autoranged;function p(){var t=i.editType;-1!==t.indexOf("calcIfAutorange")&&(h||void 0===h&&(B(f,e,"x")||B(f,e,"y")))?s.calc=!0:c&&-1!==t.indexOf("arraydraw")?a.pushUnique(s.arrays[c],d):k.update(s,i)}function g(t){return"data_array"===t.valType||t.arrayOk}for(o in t){if(s.calc)return;var m=t[o],y=e[o];if("_"!==o.charAt(0)&&"function"!=typeof m&&m!==y){if("tick0"===o||"dtick"===o){var v=e.tickmode;if("auto"===v||"array"===v||!v)continue}if(("range"!==o||!e.autorange)&&("zmin"!==o&&"zmax"!==o||"contourcarpet"!==e.type)){var b=n.concat(o);if((i=l(b))&&(!i._compareAsJSON||JSON.stringify(m)!==JSON.stringify(y))){var _,x=i.valType,w=g(i),T=Array.isArray(m),C=Array.isArray(y);if(T&&C){var A="_input_"+o,M=t[A],S=e[A];if(Array.isArray(M)&&M===S)continue}if(void 0===y)w&&T?s.calc=!0:p();else if(i._isLinkedToArray){var E=[],O=!1;c||(s.arrays[o]=E);var P=Math.min(m.length,y.length),I=Math.max(m.length,y.length);if(P!==I){if("arraydraw"!==i.editType){p();continue}O=!0}for(_=0;_<P;_++)H(m[_],y[_],b.concat(_),a.extendFlat({inArray:o,arrayIndex:_},r));if(O)for(_=P;_<I;_++)E.push(_)}else!x&&a.isPlainObject(m)?H(m,y,b,r):w?T&&C?u&&(s.calc=!0):T!==C?s.calc=!0:p():T&&C&&m.length===y.length&&String(m)===String(y)||p()}}}}for(o in e)if(!(o in t||"_"===o.charAt(0)||"function"==typeof e[o])){if(g(i=l(n.concat(o)))&&Array.isArray(e[o]))return void(s.calc=!0);p()}}function q(t){var e=r.select(t),n=t._fullLayout;if(n._container=e.selectAll(".plot-container").data([0]),n._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),n._paperdiv=n._container.selectAll(".svg-container").data([0]),n._paperdiv.enter().append("div").classed("svg-container",!0).style("position","relative"),n._glcontainer=n._paperdiv.selectAll(".gl-container").data([{}]),n._glcontainer.enter().append("div").classed("gl-container",!0),n._glcanvas=null,n._paperdiv.selectAll(".main-svg").remove(),n._paper=n._paperdiv.insert("svg",":first-child").classed("main-svg",!0),n._toppaper=n._paperdiv.append("svg").classed("main-svg",!0),!n._uid){var i=[];r.selectAll("defs").each(function(){this.id&&i.push(this.id.split("-")[1])}),n._uid=a.randstr(i)}n._paperdiv.selectAll(".main-svg").attr(y.svgAttrs),n._defs=n._paper.append("defs").attr("id","defs-"+n._uid),n._clips=n._defs.append("g").classed("clips",!0),n._topdefs=n._toppaper.append("defs").attr("id","topdefs-"+n._uid),n._topclips=n._topdefs.append("g").classed("clips",!0),n._bgLayer=n._paper.append("g").classed("bglayer",!0),n._draggers=n._paper.append("g").classed("draglayer",!0);var o=n._paper.append("g").classed("layer-below",!0);n._imageLowerLayer=o.append("g").classed("imagelayer",!0),n._shapeLowerLayer=o.append("g").classed("shapelayer",!0),n._cartesianlayer=n._paper.append("g").classed("cartesianlayer",!0),n._polarlayer=n._paper.append("g").classed("polarlayer",!0),n._ternarylayer=n._paper.append("g").classed("ternarylayer",!0),n._geolayer=n._paper.append("g").classed("geolayer",!0),n._pielayer=n._paper.append("g").classed("pielayer",!0),n._glimages=n._paper.append("g").classed("glimages",!0);var l=n._toppaper.append("g").classed("layer-above",!0);n._imageUpperLayer=l.append("g").classed("imagelayer",!0),n._shapeUpperLayer=l.append("g").classed("shapelayer",!0),n._infolayer=n._toppaper.append("g").classed("infolayer",!0),n._menulayer=n._toppaper.append("g").classed("menulayer",!0),n._zoomlayer=n._toppaper.append("g").classed("zoomlayer",!0),n._hoverlayer=n._toppaper.append("g").classed("hoverlayer",!0),t.emit("plotly_framework")}n.update=function t(e,r,i,o){if(e=a.getGraphDiv(e),x.clearPromiseQueue(e),e.framework&&e.framework.isPolar)return Promise.resolve(e);a.isPlainObject(r)||(r={}),a.isPlainObject(i)||(i={}),Object.keys(r).length&&(e.changed=!0),Object.keys(i).length&&(e.changed=!0);var l=x.coerceTraceIndices(e,o),u=R(e,a.extendFlat({},r),l),c=u.flags,f=j(e,a.extendFlat({},i)),h=f.flags;(c.clearCalc||h.calc)&&(e.calcdata=void 0),c.clearAxisTypes&&x.clearAxisTypes(e,l,i),h.margins&&x.clearAxisAutomargins(e);var p=[];if(c.fullReplot&&h.layoutReplot){var g=e.data,m=e.layout;e.data=void 0,e.layout=void 0,p.push(function(){return n.plot(e,g,m)})}else c.fullReplot?p.push(n.plot):h.layoutReplot?p.push(w.layoutReplot):(p.push(d.previousPromises),d.supplyDefaults(e),c.style&&p.push(w.doTraceStyle),c.colorbars&&p.push(w.doColorBars),h.legend&&p.push(w.doLegend),h.layoutstyle&&p.push(w.layoutStyles),h.axrange&&p.push(function(t){return w.doTicksRelayout(t,f.rangesAltered)},w.drawData,w.finalDraw),h.ticks&&p.push(w.doTicksRelayout),h.modebar&&p.push(w.doModeBar),h.camera&&p.push(w.doCamera));p.push(d.rehover),s.add(e,t,[e,u.undoit,f.undoit,u.traces],t,[e,u.redoit,f.redoit,u.traces]);var y=a.syncOrAsync(p,e);return y&&y.then||(y=Promise.resolve(e)),y.then(function(){return e.emit("plotly_update",{data:u.eventData,layout:f.eventData}),e})},n.react=function(t,e,r,i){var o,l,s=(t=a.getGraphDiv(t))._fullData,f=t._fullLayout;if(a.isPlotDiv(t)&&s&&f){if(a.isPlainObject(e)){var p=e;e=p.data,r=p.layout,i=p.config,o=p.frames}var g=!1;if(i){var m=a.extendDeep({},t._context);t._context=void 0,S(t,i),g=function t(e,n){var r;for(r in e){var i=e[r],o=n[r];if(i!==o)if(a.isPlainObject(i)&&a.isPlainObject(o)){if(t(i,o))return!0}else{if(!Array.isArray(i)||!Array.isArray(o))return!0;if(i.length!==o.length)return!0;for(var l=0;l<i.length;l++)if(i[l]!==o[l]){if(!a.isPlainObject(i[l])||!a.isPlainObject(o[l]))return!0;if(t(i[l],o[l]))return!0}}}}(m,t._context)}t.data=e||[],x.cleanData(t.data,[]),t.layout=r||{},x.cleanLayout(t.layout),d.supplyDefaults(t,{skipUpdateCalc:!0});var y=t._fullData,v=t._fullLayout,b=void 0===v.datarevision,_=function(t,e,n,r){if(e.length!==n.length)return{fullReplot:!0,calc:!0};var i,o,a=k.traceFlags();a.arrays={};var l={getValObject:function(t){return c.getTraceValObject(o,t)},flags:a,immutable:r,gd:t},s={};for(i=0;i<e.length;i++)s[(o=n[i]._fullInput).uid]||(s[o.uid]=1,l.autoranged=!!o.xaxis&&(h.getFromId(t,o.xaxis).autorange||h.getFromId(t,o.yaxis).autorange),H(e[i]._fullInput,o,[],l));return(a.calc||a.plot||a.calcIfAutorange)&&(a.fullReplot=!0),a}(t,s,y,b),T=function(t,e,n,r){var i=k.layoutFlags();return i.arrays={},H(e,n,[],{getValObject:function(t){return c.getLayoutValObject(n,t)},flags:i,immutable:r,gd:t}),(i.plot||i.calc)&&(i.layoutReplot=!0),i}(t,f,v,b);V(t)&&(T.layoutReplot=!0),_.calc||T.calc?t.calcdata=void 0:d.supplyDefaultsUpdateCalc(t.calcdata,y),T.margins&&x.clearAxisAutomargins(t);var C=[];if(o&&(t._transitionData={},d.createTransitionData(t),C.push(function(){return n.addFrames(t,o)})),_.fullReplot||T.layoutReplot||g)t._fullLayout._skipDefaults=!0,C.push(n.plot);else{for(var A in T.arrays){var M=T.arrays[A];if(M.length){var E=u.getComponentMethod(A,"drawOne");if(E!==a.noop)for(var O=0;O<M.length;O++)E(t,M[O]);else{var P=u.getComponentMethod(A,"draw");if(P===a.noop)throw new Error("cannot draw components: "+A);P(t)}}}C.push(d.previousPromises),_.style&&C.push(w.doTraceStyle),_.colorbars&&C.push(w.doColorBars),T.legend&&C.push(w.doLegend),T.layoutstyle&&C.push(w.layoutStyles),T.axrange&&C.push(w.doTicksRelayout,w.drawData,w.finalDraw),T.ticks&&C.push(w.doTicksRelayout),T.modebar&&C.push(w.doModeBar),T.camera&&C.push(w.doCamera)}C.push(d.rehover),(l=a.syncOrAsync(C,t))&&l.then||(l=Promise.resolve(t))}else l=n.newPlot(t,e,r,i);return l.then(function(){return t.emit("plotly_react",{data:e,layout:r}),t})},n.animate=function(t,e,n){if(t=a.getGraphDiv(t),!a.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t+". It's likely that you've failed to create a plot before animating it. For more details, see https://plot.ly/javascript/animations/");var r=t._transitionData;r._frameQueue||(r._frameQueue=[]);var i=(n=d.supplyAnimationDefaults(n)).transition,o=n.frame;function l(t){return Array.isArray(i)?t>=i.length?i[0]:i[t]:i}function s(t){return Array.isArray(o)?t>=o.length?o[0]:o[t]:o}function u(t,e){var n=0;return function(){if(t&&++n===e)return t()}}return void 0===r._frameWaitingCnt&&(r._frameWaitingCnt=0),new Promise(function(o,c){var f,h,p=0;function g(t){return t.transitionOpts=Array.isArray(i)?p>=i.length?i[p]:i[0]:i,p++,t}var m=[],y=void 0===e||null===e,v=Array.isArray(e);if(y||v||!a.isPlainObject(e)){if(y||-1!==["string","number"].indexOf(typeof e))for(f=0;f<r._frames.length;f++)(h=r._frames[f])&&(y||String(h.group)===String(e))&&m.push({type:"byname",name:String(h.name),data:g({name:h.name})});else if(v)for(f=0;f<e.length;f++){var b=e[f];-1!==["number","string"].indexOf(typeof b)?(b=String(b),m.push({type:"byname",name:b,data:g({name:b})})):a.isPlainObject(b)&&m.push({type:"object",data:g(a.extendFlat({},b))})}}else m.push({type:"object",data:g(a.extendFlat({},e))});for(f=0;f<m.length;f++)if("byname"===(h=m[f]).type&&!r._frameHash[h.data.name])return a.warn('animate failure: frame not found: "'+h.data.name+'"'),void c();-1!==["next","immediate"].indexOf(n.mode)&&function(){if(0!==r._frameQueue.length){for(;r._frameQueue.length;){var e=r._frameQueue.pop();e.onInterrupt&&e.onInterrupt()}t.emit("plotly_animationinterrupted",[])}}(),"reverse"===n.direction&&m.reverse();var _=t._fullLayout._currentFrame;if(_&&n.fromcurrent){var w=-1;for(f=0;f<m.length;f++)if("byname"===(h=m[f]).type&&h.name===_){w=f;break}if(w>0&&w<m.length-1){var k=[];for(f=0;f<m.length;f++)h=m[f],("byname"!==m[f].type||f>w)&&k.push(h);m=k}}m.length>0?function(e){if(0!==e.length){for(var i=0;i<e.length;i++){var a;a="byname"===e[i].type?d.computeFrame(t,e[i].name):e[i].data;var f=s(i),h=l(i);h.duration=Math.min(h.duration,f.duration);var p={frame:a,name:e[i].name,frameOpts:f,transitionOpts:h};i===e.length-1&&(p.onComplete=u(o,2),p.onInterrupt=c),r._frameQueue.push(p)}"immediate"===n.mode&&(r._lastFrameAt=-1/0),r._animationRaf||function(){t.emit("plotly_animating"),r._lastFrameAt=-1/0,r._timeToNext=0,r._runningTransitions=0,r._currentFrame=null;var e=function(){r._animationRaf=window.requestAnimationFrame(e),Date.now()-r._lastFrameAt>r._timeToNext&&function(){r._currentFrame&&r._currentFrame.onComplete&&r._currentFrame.onComplete();var e=r._currentFrame=r._frameQueue.shift();if(e){var n=e.name?e.name.toString():null;t._fullLayout._currentFrame=n,r._lastFrameAt=Date.now(),r._timeToNext=e.frameOpts.duration,d.transition(t,e.frame.data,e.frame.layout,x.coerceTraceIndices(t,e.frame.traces),e.frameOpts,e.transitionOpts).then(function(){e.onComplete&&e.onComplete()}),t.emit("plotly_animatingframe",{name:n,frame:e.frame,animation:{frame:e.frameOpts,transition:e.transitionOpts}})}else t.emit("plotly_animated"),window.cancelAnimationFrame(r._animationRaf),r._animationRaf=null}()};e()}()}}(m):(t.emit("plotly_animated"),o())})},n.addFrames=function(t,e,n){if(t=a.getGraphDiv(t),null===e||void 0===e)return Promise.resolve();if(!a.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plot.ly/javascript/animations/");var r,i,o,l,u=t._transitionData._frames,c=t._transitionData._frameHash;if(!Array.isArray(e))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+e);var f=u.length+2*e.length,h=[],p={};for(r=e.length-1;r>=0;r--)if(a.isPlainObject(e[r])){var g=e[r].name,m=(c[g]||p[g]||{}).name,y=e[r].name;m&&y&&"number"==typeof y&&(c[m]||p[m])&&C<5&&(C++,a.warn('addFrames: overwriting frame "'+(c[m]||p[m]).name+'" with a frame whose name of type "number" also equates to "'+m+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===C&&a.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),p[g]={name:g},h.push({frame:d.supplyFrameDefaults(e[r]),index:n&&void 0!==n[r]&&null!==n[r]?n[r]:f+r})}h.sort(function(t,e){return t.index>e.index?-1:t.index<e.index?1:0});var v=[],b=[],_=u.length;for(r=h.length-1;r>=0;r--){if("number"==typeof(i=h[r].frame).name&&a.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!i.name)for(;c[i.name="frame "+t._transitionData._counter++];);if(c[i.name]){for(o=0;o<u.length&&(u[o]||{}).name!==i.name;o++);v.push({type:"replace",index:o,value:i}),b.unshift({type:"replace",index:o,value:u[o]})}else l=Math.max(0,Math.min(h[r].index,_)),v.push({type:"insert",index:l,value:i}),b.unshift({type:"delete",index:l}),_++}return s&&s.add(t,d.modifyFrames,[t,b],d.modifyFrames,[t,v]),d.modifyFrames(t,v)},n.deleteFrames=function(t,e){if(t=a.getGraphDiv(t),!a.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t);var n,r,i=t._transitionData._frames,o=[],l=[];if(!e)for(e=[],n=0;n<i.length;n++)e.push(n);for((e=e.slice(0)).sort(),n=e.length-1;n>=0;n--)o.push({type:"delete",index:r=e[n]}),l.unshift({type:"insert",index:r,value:i[r]});return s&&s.add(t,d.modifyFrames,[t,l],d.modifyFrames,[t,o]),d.modifyFrames(t,o)},n.purge=function(t){var e=(t=a.getGraphDiv(t))._fullLayout||{};return d.cleanPlot([],{},t._fullData||[],e,t.calcdata||[]),d.purge(t),l.purge(t),e._container&&e._container.remove(),delete t._context,t}},{"../components/color":43,"../components/drawing":68,"../constants/xmlns_namespaces":147,"../lib":163,"../lib/events":156,"../lib/queue":177,"../lib/svg_text_utils":184,"../plots/cartesian/axes":205,"../plots/cartesian/constants":210,"../plots/cartesian/graph_interact":214,"../plots/plots":237,"../plots/polar/legacy":240,"../registry":245,"./edit_types":190,"./helpers":191,"./manage_arrays":193,"./plot_config":195,"./plot_schema":196,"./subroutines":197,d3:7,"fast-isnumeric":10,"has-hover":12}],195:[function(t,e,n){"use strict";e.exports={staticPlot:!1,editable:!1,edits:{annotationPosition:!1,annotationTail:!1,annotationText:!1,axisTitleText:!1,colorbarPosition:!1,colorbarTitleText:!1,legendPosition:!1,legendText:!1,shapePosition:!1,titleText:!1},autosizable:!1,queueLength:0,fillFrame:!1,frameMargins:0,scrollZoom:!1,doubleClick:"reset+autosize",showTips:!0,showAxisDragHandles:!0,showAxisRangeEntryBoxes:!0,showLink:!1,sendData:!0,linkText:"Edit chart",showSources:!1,displayModeBar:"hover",modeBarButtonsToRemove:[],modeBarButtonsToAdd:[],modeBarButtons:!1,toImageButtonOptions:{},displaylogo:!0,plotGlPixelRatio:2,setBackground:"transparent",topojsonURL:"https://cdn.plot.ly/",mapboxAccessToken:null,logging:1,globalTransforms:[],locale:"en-US",locales:{}}},{}],196:[function(t,e,n){"use strict";var r=t("../registry"),i=t("../lib"),o=t("../plots/attributes"),a=t("../plots/layout_attributes"),l=t("../plots/frame_attributes"),s=t("../plots/animation_attributes"),u=t("../plots/polar/legacy/area_attributes"),c=t("../plots/polar/legacy/axis_attributes"),d=t("./edit_types"),f=i.extendFlat,h=i.extendDeepAll,p=i.isPlainObject,g="_isSubplotObj",m="_isLinkedToArray",y=[g,m,"_arrayAttrRegexps","_deprecated"];function v(t,e,n){if(!t)return!1;if(t._isLinkedToArray)if(b(e[n]))n++;else if(n<e.length)return!1;for(;n<e.length;n++){var r=t[e[n]];if(!p(r))break;if(t=r,n===e.length-1)break;if(t._isLinkedToArray){if(!b(e[++n]))return!1}else if("info_array"===t.valType){var i=e[++n];if(!b(i))return!1;var o=t.items;if(Array.isArray(o)){if(i>=o.length)return!1;if(2===t.dimensions){if(e.length===++n)return t;var a=e[n];if(!b(a))return!1;t=o[i][a]}else t=o[i]}else t=o}}return t}function b(t){return t===Math.round(t)&&t>=0}function _(t){return function(t){n.crawl(t,function(t,e,r){n.isValObject(t)?"data_array"===t.valType?(t.role="data",r[e+"src"]={valType:"string",editType:"none"}):!0===t.arrayOk&&(r[e+"src"]={valType:"string",editType:"none"}):p(t)&&(t.role="object")})}(t),function(t){n.crawl(t,function(t,e,n){if(t){var r=t[m];r&&(delete t[m],n[e]={items:{}},n[e].items[r]=t,n[e].role="object")}})}(t),function(t){!function t(e){for(var n in e)if(p(e[n]))t(e[n]);else if(Array.isArray(e[n]))for(var r=0;r<e[n].length;r++)t(e[n][r]);else e[n]instanceof RegExp&&(e[n]=e[n].toString())}(t)}(t),t}function x(t,e,n){var r=i.nestedProperty(t,n),o=h({},e.layoutAttributes);o[g]=!0,r.set(o)}function w(t,e,n){var r=i.nestedProperty(t,n);r.set(h(r.get()||{},e))}n.IS_SUBPLOT_OBJ=g,n.IS_LINKED_TO_ARRAY=m,n.DEPRECATED="_deprecated",n.UNDERSCORE_ATTRS=y,n.get=function(){var t={};r.allTypes.concat("area").forEach(function(e){t[e]=function(t){var e,n;"area"===t?(e={attributes:u},n={}):n=(e=r.modules[t]._module).basePlotModule;var i={type:null};h(i,o),h(i,e.attributes),n.attributes&&h(i,n.attributes),i.type=t;var a={meta:e.meta||{},attributes:_(i)};if(e.layoutAttributes){var l={};h(l,e.layoutAttributes),a.layoutAttributes=_(l)}return a}(e)});var e,n={};return Object.keys(r.transformsRegistry).forEach(function(t){n[t]=function(t){var e=h({},r.transformsRegistry[t].attributes);return Object.keys(r.componentsRegistry).forEach(function(n){var i=r.componentsRegistry[n];i.schema&&i.schema.transforms&&i.schema.transforms[t]&&Object.keys(i.schema.transforms[t]).forEach(function(n){w(e,i.schema.transforms[t][n],n)})}),{attributes:_(e)}}(t)}),{defs:{valObjects:i.valObjectMeta,metaKeys:y.concat(["description","role","editType","impliedEdits"]),editType:{traces:d.traces,layout:d.layout},impliedEdits:{}},traces:t,layout:function(){var t,e,n={};for(t in h(n,a),r.subplotsRegistry)if((e=r.subplotsRegistry[t]).layoutAttributes)if(Array.isArray(e.attr))for(var i=0;i<e.attr.length;i++)x(n,e,e.attr[i]);else x(n,e,"subplot"===e.attr?e.name:e.attr);for(t in n=function(t){return f(t,{radialaxis:c.radialaxis,angularaxis:c.angularaxis}),f(t,c.layout),t}(n),r.componentsRegistry){var o=(e=r.componentsRegistry[t]).schema;if(o&&(o.subplots||o.layout)){var l=o.subplots;if(l&&l.xaxis&&!l.yaxis)for(var s in l.xaxis)delete n.yaxis[s]}else e.layoutAttributes&&w(n,e.layoutAttributes,e.name)}return{layoutAttributes:_(n)}}(),transforms:n,frames:(e={frames:i.extendDeepAll({},l)},_(e),e.frames),animation:_(s)}},n.crawl=function(t,e,r,i){var o=r||0;i=i||"",Object.keys(t).forEach(function(r){var a=t[r];if(-1===y.indexOf(r)){var l=(i?i+".":"")+r;e(a,r,t,o,l),n.isValObject(a)||p(a)&&"impliedEdits"!==r&&n.crawl(a,e,o+1,l)}})},n.isValObject=function(t){return t&&void 0!==t.valType},n.findArrayAttributes=function(t){var e,r,a=[],l=[],s=[];function u(t,n,o,u){l=l.slice(0,u).concat([n]),s=s.slice(0,u).concat([t&&t._isLinkedToArray]),t&&("data_array"===t.valType||!0===t.arrayOk)&&("colorbar"!==l[u-1]||"ticktext"!==n&&"tickvals"!==n)&&function t(e,n,o){var u=e[l[n]],c=o+l[n];if(n===l.length-1)i.isArrayOrTypedArray(u)&&a.push(r+c);else if(s[n]){if(Array.isArray(u))for(var d=0;d<u.length;d++)i.isPlainObject(u[d])&&t(u[d],n+1,c+"["+d+"].")}else i.isPlainObject(u)&&t(u,n+1,c+".")}(e,0,"")}e=t,r="",n.crawl(o,u),t._module&&t._module.attributes&&n.crawl(t._module.attributes,u);var c=t.transforms;if(c)for(var d=0;d<c.length;d++){var f=c[d],h=f._module;h&&(r="transforms["+d+"].",e=f,n.crawl(h.attributes,u))}return a},n.getTraceValObject=function(t,e){var n,i,a=e[0],l=1;if("transforms"===a){if(1===e.length)return o.transforms;var s=t.transforms;if(!Array.isArray(s)||!s.length)return!1;var c=e[1];if(!b(c)||c>=s.length)return!1;i=(n=(r.transformsRegistry[s[c].type]||{}).attributes)&&n[e[2]],l=3}else if("area"===t.type)i=u[a];else{var d=t._module;if(d||(d=(r.modules[t.type||o.type.dflt]||{})._module),!d)return!1;if(!(i=(n=d.attributes)&&n[a])){var f=d.basePlotModule;f&&f.attributes&&(i=f.attributes[a])}i||(i=o[a])}return v(i,e,l)},n.getLayoutValObject=function(t,e){return v(function(t,e){var n,i,o,l,s=t._basePlotModules;if(s){var u;for(n=0;n<s.length;n++){if((o=s[n]).attrRegex&&o.attrRegex.test(e)){if(o.layoutAttrOverrides)return o.layoutAttrOverrides;!u&&o.layoutAttributes&&(u=o.layoutAttributes)}var d=o.baseLayoutAttrOverrides;if(d&&e in d)return d[e]}if(u)return u}var f=t._modules;if(f)for(n=0;n<f.length;n++)if((l=f[n].layoutAttributes)&&e in l)return l[e];for(i in r.componentsRegistry)if(!(o=r.componentsRegistry[i]).schema&&e===o.name)return o.layoutAttributes;return e in a?a[e]:"radialaxis"===e||"angularaxis"===e?c[e]:c.layout[e]||!1}(t,e[0]),e,1)}},{"../lib":163,"../plots/animation_attributes":200,"../plots/attributes":202,"../plots/frame_attributes":232,"../plots/layout_attributes":235,"../plots/polar/legacy/area_attributes":238,"../plots/polar/legacy/axis_attributes":239,"../registry":245,"./edit_types":190}],197:[function(t,e,n){"use strict";var r=t("d3"),i=t("../registry"),o=t("../plots/plots"),a=t("../lib"),l=t("../lib/clear_gl_canvases"),s=t("../components/color"),u=t("../components/drawing"),c=t("../components/titles"),d=t("../components/modebar"),f=t("../plots/cartesian/axes"),h=t("../constants/alignment"),p=t("../plots/cartesian/constraints"),g=p.enforce,m=p.clean,y=t("../plots/cartesian/autorange").doAutoRange;function v(t,e){var n=e._subplots,r=n.cartesian.concat(n.gl2d||[]),i={_fullLayout:e},o="x"===t._id.charAt(0),a=t._mainAxis._anchorAxis,l="",s="",u="";if(a&&(u=a._mainAxis._id,l=o?t._id+u:u+t._id),!l||!e._plots[l]){l="";for(var c=0;c<r.length;c++){var d=r[c],h=d.indexOf("y"),p=o?d.substr(0,h):d.substr(h),g=o?d.substr(h):d.substr(0,h);if(p===t._id){s||(s=d);var m=f.getFromId(i,g);if(u&&m.overlaying===u){l=d;break}}}}return l||s}function b(t,e){return(t.ticks||t.showline)&&(e===t._mainSubplot||"all"===t.mirror||"allticks"===t.mirror)}function _(t,e,n){if(!n.showline||!n._lw)return!1;if("all"===n.mirror||"allticks"===n.mirror)return!0;var r=n._anchorAxis;if(!r)return!1;var i=h.FROM_BL[e];return n.side===e?r.domain[i]===t.domain[i]:n.mirror&&r.domain[1-i]===t.domain[1-i]}function x(t,e,n,r){if(_(t,e,n))return n._lw;for(var i=0;i<r.length;i++){var o=r[i];if(o._mainAxis===n._mainAxis&&_(t,e,o))return o._lw}return 0}n.layoutStyles=function(t){return a.syncOrAsync([o.doAutoMargin,n.lsInner],t)},n.lsInner=function(t){var e,i=t._fullLayout,o=i._size,l=o.p,c=f.list(t,"",!0),p=i._has("cartesian");function g(t,e,n){var r=t._lw/2;return"x"===t._id.charAt(0)?e?"top"===n?e._offset-l-r:e._offset+e._length+l+r:o.t+o.h*(1-(t.position||0))+r%1:e?"right"===n?e._offset+e._length+l+r:e._offset-l-r:o.l+o.w*(t.position||0)+r%1}for(e=0;e<c.length;e++){var m=c[e];m.setScale();var y=m._anchorAxis;m._linepositions={},m._lw=u.crispRound(t,m.linewidth,1),m._mainLinePosition=g(m,y,m.side),m._mainMirrorPosition=m.mirror&&y?g(m,y,h.OPPOSITE_SIDE[m.side]):null,m._mainSubplot=v(m,i)}i._paperdiv.style({width:i.width+"px",height:i.height+"px"}).selectAll(".main-svg").call(u.setSize,i.width,i.height),t._context.setBackground(t,i.paper_bgcolor);var _=i._paper.selectAll("g.subplot"),w=[],k=[];_.each(function(t){var e=i._plots[t];if(e.mainplot)return e.bg&&e.bg.remove(),void(e.bg=void 0);var n=e.xaxis.domain,r=e.yaxis.domain,o=e.plotgroup;if(function(t,e,n){for(var r=0;r<n.length;r++){var i=n[r][0],o=n[r][1];if(!(i[0]>=t[1]||i[1]<=t[0])&&o[0]<e[1]&&o[1]>e[0])return!0}return!1}(n,r,k)){var l=o.node(),s=e.bg=a.ensureSingle(o,"rect","bg");l.insertBefore(s.node(),l.childNodes[0])}else o.select("rect.bg").remove(),w.push(t),k.push([n,r])});var T=i._bgLayer.selectAll(".bg").data(w);return T.enter().append("rect").classed("bg",!0),T.exit().remove(),T.each(function(t){i._plots[t].bg=r.select(this)}),_.each(function(t){var e=i._plots[t],n=e.xaxis,r=e.yaxis;e.bg&&p&&e.bg.call(u.setRect,n._offset-l,r._offset-l,n._length+2*l,r._length+2*l).call(s.fill,i.plot_bgcolor).style("stroke-width",0);var o,d,f=e.clipId="clip"+i._uid+t+"plot",h=a.ensureSingleById(i._clips,"clipPath",f,function(t){t.classed("plotclip",!0).append("rect")});if(e.clipRect=h.select("rect").attr({width:n._length,height:r._length}),u.setTranslate(e.plot,n._offset,r._offset),e._hasClipOnAxisFalse?(o=null,d=f):(o=f,d=null),u.setClipUrl(e.plot,o),e.layerClipId=d,p){var m,y,v,_,w,k,T,C,A,M,S,E,O,P="M0,0";b(n,t)&&(w=x(n,"left",r,c),m=n._offset-(w?l+w:0),k=x(n,"right",r,c),y=n._offset+n._length+(k?l+k:0),v=g(n,r,"bottom"),_=g(n,r,"top"),(O=!n._anchorAxis||t!==n._mainSubplot)&&n.ticks&&"allticks"===n.mirror&&(n._linepositions[t]=[v,_]),P=R(n,D,function(t){return"M"+n._offset+","+t+"h"+n._length}),O&&n.showline&&("all"===n.mirror||"allticks"===n.mirror)&&(P+=D(v)+D(_)),e.xlines.style("stroke-width",n._lw+"px").call(s.stroke,n.showline?n.linecolor:"rgba(0,0,0,0)")),e.xlines.attr("d",P);var I="M0,0";b(r,t)&&(S=x(r,"bottom",n,c),T=r._offset+r._length+(S?l:0),E=x(r,"top",n,c),C=r._offset-(E?l:0),A=g(r,n,"left"),M=g(r,n,"right"),(O=!r._anchorAxis||t!==n._mainSubplot)&&r.ticks&&"allticks"===r.mirror&&(r._linepositions[t]=[A,M]),I=R(r,L,function(t){return"M"+t+","+r._offset+"v"+r._length}),O&&r.showline&&("all"===r.mirror||"allticks"===r.mirror)&&(I+=L(A)+L(M)),e.ylines.style("stroke-width",r._lw+"px").call(s.stroke,r.showline?r.linecolor:"rgba(0,0,0,0)")),e.ylines.attr("d",I)}function D(t){return"M"+m+","+t+"H"+y}function L(t){return"M"+t+","+C+"V"+T}function R(e,n,r){if(!e.showline||t!==e._mainSubplot)return"";if(!e._anchorAxis)return r(e._mainLinePosition);var i=n(e._mainLinePosition);return e.mirror&&(i+=n(e._mainMirrorPosition)),i}}),f.makeClipPaths(t),n.drawMainTitle(t),d.manage(t),t._promises.length&&Promise.all(t._promises)},n.drawMainTitle=function(t){var e=t._fullLayout;c.draw(t,"gtitle",{propContainer:e,propName:"title",placeholder:e._dfltTitle.plot,attributes:{x:e.width/2,y:e._size.t/2,"text-anchor":"middle"}})},n.doTraceStyle=function(t){for(var e=0;e<t.calcdata.length;e++){var n=t.calcdata[e],r=(((n[0]||{}).trace||{})._module||{}).arraysToCalcdata;r&&r(n,n[0].trace)}return o.style(t),i.getComponentMethod("legend","draw")(t),o.previousPromises(t)},n.doColorBars=function(t){for(var e=0;e<t.calcdata.length;e++){var n=t.calcdata[e][0];if((n.t||{}).cb){var r=n.trace,a=n.t.cb;i.traceIs(r,"contour")&&a.line({width:!1!==r.contours.showlines?r.line.width:0,dash:r.line.dash,color:"line"===r.contours.coloring?a._opts.line.color:r.line.color}),i.traceIs(r,"markerColorscale")?a.options(r.marker.colorbar)():a.options(r.colorbar)()}}return o.previousPromises(t)},n.layoutReplot=function(t){var e=t.layout;return t.layout=void 0,i.call("plot",t,"",e)},n.doLegend=function(t){return i.getComponentMethod("legend","draw")(t),o.previousPromises(t)},n.doTicksRelayout=function(t,e){return e?f.doTicks(t,Object.keys(e),!0):f.doTicks(t,"redraw"),t._fullLayout._hasOnlyLargeSploms&&(l(t),i.subplotsRegistry.splom.plot(t)),n.drawMainTitle(t),o.previousPromises(t)},n.doModeBar=function(t){var e=t._fullLayout;d.manage(t);for(var n=0;n<e._basePlotModules.length;n++){var r=e._basePlotModules[n].updateFx;r&&r(e)}return o.previousPromises(t)},n.doCamera=function(t){for(var e=t._fullLayout,n=e._subplots.gl3d,r=0;r<n.length;r++){var i=e[n[r]];i._scene.setCamera(i.camera)}},n.drawData=function(t){var e,n=t._fullLayout,r=t.calcdata;for(e=0;e<r.length;e++){var a=r[e][0].trace;!0===a.visible&&a._module.colorbar||n._infolayer.select(".cb"+a.uid).remove()}l(t);var s=n._basePlotModules;for(e=0;e<s.length;e++)s[e].plot(t);return o.style(t),i.getComponentMethod("shapes","draw")(t),i.getComponentMethod("annotations","draw")(t),n._replotting=!1,o.previousPromises(t)},n.doAutoRangeAndConstraints=function(t){for(var e=f.list(t,"",!0),n=0;n<e.length;n++){var r=e[n];m(t,r),y(r)}g(t)},n.finalDraw=function(t){i.getComponentMethod("shapes","draw")(t),i.getComponentMethod("images","draw")(t),i.getComponentMethod("annotations","draw")(t),i.getComponentMethod("legend","draw")(t),i.getComponentMethod("rangeslider","draw")(t),i.getComponentMethod("rangeselector","draw")(t),i.getComponentMethod("sliders","draw")(t),i.getComponentMethod("updatemenus","draw")(t)}},{"../components/color":43,"../components/drawing":68,"../components/modebar":106,"../components/titles":136,"../constants/alignment":143,"../lib":163,"../lib/clear_gl_canvases":152,"../plots/cartesian/autorange":204,"../plots/cartesian/axes":205,"../plots/cartesian/constraints":212,"../plots/plots":237,"../registry":245,d3:7}],198:[function(t,e,n){"use strict";var r=t("./plot_api"),i=t("../lib"),o=t("../snapshot/helpers"),a=t("../snapshot/tosvg"),l=t("../snapshot/svgtoimg"),s={format:{valType:"enumerated",values:["png","jpeg","webp","svg"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}},u=/^data:image\/\w+;base64,/;e.exports=function(t,e){var n,c,d;function f(t){return!(t in e)||i.validate(e[t],s[t])}if(e=e||{},i.isPlainObject(t)?(n=t.data||[],c=t.layout||{},d=t.config||{}):(t=i.getGraphDiv(t),n=i.extendDeep([],t.data),c=i.extendDeep({},t.layout),d=t._context),!f("width")||!f("height"))throw new Error("Height and width should be pixel values.");if(!f("format"))throw new Error("Image format is not jpeg, png, svg or webp.");var h={};function p(t,n){return i.coerce(e,h,s,t,n)}var g=p("format"),m=p("width"),y=p("height"),v=p("scale"),b=p("setBackground"),_=p("imageDataOnly"),x=document.createElement("div");x.style.position="absolute",x.style.left="-5000px",document.body.appendChild(x);var w=i.extendFlat({},c);m&&(w.width=m),y&&(w.height=y);var k=i.extendFlat({},d,{staticPlot:!0,setBackground:b}),T=o.getRedrawFunc(x);function C(){return new Promise(function(t){setTimeout(t,o.getDelay(x._fullLayout))})}function A(){return new Promise(function(t,e){var n=a(x,g,v),o=x._fullLayout.width,s=x._fullLayout.height;if(r.purge(x),document.body.removeChild(x),"svg"===g)return t(_?n:"data:image/svg+xml,"+encodeURIComponent(n));var u=document.createElement("canvas");u.id=i.randstr(),l({format:g,width:o,height:s,scale:v,canvas:u,svg:n,promise:!0}).then(t).catch(e)})}return new Promise(function(t,e){r.plot(x,n,w,k).then(T).then(C).then(A).then(function(e){t(function(t){return _?t.replace(u,""):t}(e))}).catch(function(t){e(t)})})}},{"../lib":163,"../snapshot/helpers":249,"../snapshot/svgtoimg":251,"../snapshot/tosvg":253,"./plot_api":194}],199:[function(t,e,n){"use strict";var r=t("../lib"),i=t("../plots/plots"),o=t("./plot_schema"),a=t("./plot_config"),l=r.isPlainObject,s=Array.isArray,u=r.isArrayOrTypedArray;function c(t,e,n,i,o,a){a=a||[];for(var d=Object.keys(t),f=0;f<d.length;f++){var m=d[f];if("transforms"!==m){var y=a.slice();y.push(m);var v=t[m],b=e[m],_=g(n,m),x="info_array"===(_||{}).valType,w="colorscale"===(_||{}).valType,k=(_||{}).items;if(p(n,m))if(l(v)&&l(b))c(v,b,_,i,o,y);else if(x&&s(v)){v.length>b.length&&i.push(h("unused",o,y.concat(b.length)));var T,C,A,M,S=b.length,E=Array.isArray(k);if(E&&(S=Math.min(S,k.length)),2===_.dimensions)for(C=0;C<S;C++)if(s(v[C])){v[C].length>b[C].length&&i.push(h("unused",o,y.concat(C,b[C].length)));var O=b[C].length;for(T=0;T<(E?Math.min(O,k[C].length):O);T++)M=b[C][T],r.validate(A=v[C][T],E?k[C][T]:k)?M!==A&&M!==+A&&i.push(h("dynamic",o,y.concat(C,T),A,M)):i.push(h("value",o,y.concat(C,T),A))}else i.push(h("array",o,y.concat(C),v[C]));else for(C=0;C<S;C++)M=b[C],r.validate(A=v[C],E?k[C]:k)?M!==A&&M!==+A&&i.push(h("dynamic",o,y.concat(C),A,M)):i.push(h("value",o,y.concat(C),A))}else if(_.items&&!x&&s(v)){var P,I,D=k[Object.keys(k)[0]],L=[];for(P=0;P<b.length;P++){var R=b[P]._index||P;(I=y.slice()).push(R),l(v[R])&&l(b[P])&&(L.push(R),c(v[R],b[P],D,i,o,I))}for(P=0;P<v.length;P++)(I=y.slice()).push(P),l(v[P])?-1===L.indexOf(P)&&i.push(h("unused",o,I)):i.push(h("object",o,I,v[P]))}else!l(v)&&l(b)?i.push(h("object",o,y,v)):u(v)||!u(b)||x||w?m in e?r.validate(v,_)?"enumerated"===_.valType&&(_.coerceNumber&&v!==+b||v!==b)&&i.push(h("dynamic",o,y,v,b)):i.push(h("value",o,y,v)):i.push(h("unused",o,y,v)):i.push(h("array",o,y,v));else i.push(h("schema",o,y))}}return i}e.exports=function(t,e){var n,u,d=o.get(),f=[],p={_context:r.extendFlat({},a)};s(t)?(p.data=r.extendDeep([],t),n=t):(p.data=[],n=[],f.push(h("array","data"))),l(e)?(p.layout=r.extendDeep({},e),u=e):(p.layout={},u={},arguments.length>1&&f.push(h("object","layout"))),i.supplyDefaults(p);for(var g=p._fullData,m=n.length,y=0;y<m;y++){var v=n[y],b=["data",y];if(l(v)){var _=g[y],x=_.type,w=d.traces[x].attributes;w.type={valType:"enumerated",values:[x]},!1===_.visible&&!1!==v.visible&&f.push(h("invisible",b)),c(v,_,w,f,b);var k=v.transforms,T=_.transforms;if(k){s(k)||f.push(h("array",b,["transforms"])),b.push("transforms");for(var C=0;C<k.length;C++){var A=["transforms",C],M=k[C].type;if(l(k[C])){var S=d.transforms[M]?d.transforms[M].attributes:{};S.type={valType:"enumerated",values:Object.keys(d.transforms)},c(k[C],T[C],S,f,b,A)}else f.push(h("object",b,A))}}}else f.push(h("object",b))}return c(u,p._fullLayout,function(t,e){for(var n=0;n<e.length;n++){var i=t.traces[e[n].type].layoutAttributes;i&&r.extendFlat(t.layout.layoutAttributes,i)}return t.layout.layoutAttributes}(d,g),f,"layout"),0===f.length?void 0:f};var d={object:function(t,e){return("layout"===t&&""===e?"The layout argument":"data"===t[0]&&""===e?"Trace "+t[1]+" in the data argument":f(t)+"key "+e)+" must be linked to an object container"},array:function(t,e){return("data"===t?"The data argument":f(t)+"key "+e)+" must be linked to an array container"},schema:function(t,e){return f(t)+"key "+e+" is not part of the schema"},unused:function(t,e,n){var r=l(n)?"container":"key";return f(t)+r+" "+e+" did not get coerced"},dynamic:function(t,e,n,r){return[f(t)+"key",e,"(set to '"+n+"')","got reset to","'"+r+"'","during defaults."].join(" ")},invisible:function(t){return"Trace "+t[1]+" got defaulted to be not visible"},value:function(t,e,n){return[f(t)+"key "+e,"is set to an invalid value ("+n+")"].join(" ")}};function f(t){return s(t)?"In data trace "+t[1]+", ":"In "+t+", "}function h(t,e,n,i,o){var a,l;n=n||"",s(e)?(a=e[0],l=e[1]):(a=e,l=null);var u=function(t){if(!s(t))return String(t);for(var e="",n=0;n<t.length;n++){var r=t[n];"number"==typeof r?e=e.substr(0,e.length-1)+"["+r+"]":e+=r,n<t.length-1&&(e+=".")}return e}(n),c=d[t](e,u,i,o);return r.log(c),{code:t,container:a,trace:l,path:n,astr:u,msg:c}}function p(t,e){var n=y(e),r=n.keyMinusId;return!!(r in t&&t[r]._isSubplotObj&&n.id)||e in t}function g(t,e){return t[y(e).keyMinusId]}var m=r.counterRegex("([a-z]+)");function y(t){var e=t.match(m);return{keyMinusId:e&&e[1],id:e&&e[2]}}},{"../lib":163,"../plots/plots":237,"./plot_config":195,"./plot_schema":196}],200:[function(t,e,n){"use strict";e.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"]}}}},{}],201:[function(t,e,n){"use strict";var r=t("../lib");e.exports=function(t,e,n){var i,o=n.name,a=e[o],l=r.isArrayOrTypedArray(t[o])?t[o]:[],s=e[o]=[];for(i=0;i<l.length;i++){var u=l[i],c={},d={};r.isPlainObject(u)||(d.itemIsNotPlainObject=!0,u={}),n.handleItemDefaults(u,c,e,n,d),c._input=u,c._index=i,s.push(c)}if(r.isArrayOrTypedArray(a)){var f=Math.min(a.length,s.length);for(i=0;i<f;i++)r.relinkPrivateKeys(s[i],a[i])}}},{"../lib":163}],202:[function(t,e,n){"use strict";var r=t("../components/fx/attributes");e.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes"},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",dflt:"",editType:"calc"},ids:{valType:"data_array",editType:"calc"},customdata:{valType:"data_array",editType:"calc"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:r.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"}}},{"../components/fx/attributes":77}],203:[function(t,e,n){"use strict";e.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},{}],204:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("../../lib"),o=t("../../constants/numerical").FP_SAFE;function a(t){var e,n,r,o,a,s,u,c,d=[],f=t._min[0].val,h=t._max[0].val,p=0,g=!1,m=l(t);for(e=1;e<t._min.length&&f===h;e++)f=Math.min(f,t._min[e].val);for(e=1;e<t._max.length&&f===h;e++)h=Math.max(h,t._max[e].val);if(t.range){var y=i.simpleMap(t.range,t.r2l);g=y[1]<y[0]}for("reversed"===t.autorange&&(g=!0,t.autorange=!0),e=0;e<t._min.length;e++)for(r=t._min[e],n=0;n<t._max.length;n++)c=(o=t._max[n]).val-r.val,u=t._length-m(r)-m(o),c>0&&u>0&&c/u>p&&(a=r,s=o,p=c/u);if(f===h){var v=f-1,b=f+1;d="tozero"===t.rangemode?f<0?[v,0]:[0,b]:"nonnegative"===t.rangemode?[Math.max(0,v),Math.max(0,b)]:[v,b]}else p&&("linear"!==t.type&&"-"!==t.type||("tozero"===t.rangemode?(a.val>=0&&(a={val:0,pad:0}),s.val<=0&&(s={val:0,pad:0})):"nonnegative"===t.rangemode&&(a.val-p*m(a)<0&&(a={val:0,pad:0}),s.val<0&&(s={val:1,pad:0})),p=(s.val-a.val)/(t._length-m(a)-m(s))),d=[a.val-p*m(a),s.val+p*m(s)]);return d[0]===d[1]&&("tozero"===t.rangemode?d=d[0]<0?[d[0],0]:d[0]>0?[0,d[0]]:[0,1]:(d=[d[0]-1,d[0]+1],"nonnegative"===t.rangemode&&(d[0]=Math.max(0,d[0])))),g&&d.reverse(),i.simpleMap(d,t.l2r||Number)}function l(t){var e=t._length/20;return"domain"===t.constrain&&t._inputDomain&&(e*=(t._inputDomain[1]-t._inputDomain[0])/(t.domain[1]-t.domain[0])),function(t){return t.pad+(t.extrapad?e:0)}}function s(t){return r(t)&&Math.abs(t)<o}function u(t,e){return t<=e}function c(t,e){return t>=e}e.exports={getAutoRange:a,makePadFn:l,doAutoRange:function(t){t._length||t.setScale();var e,n=t._min&&t._max&&t._min.length&&t._max.length;if(t.autorange&&n&&(t.range=a(t),t._r=t.range.slice(),t._rl=i.simpleMap(t._r,t.r2l),(e=t._input).range=t.range.slice(),e.autorange=t.autorange),t._anchorAxis&&t._anchorAxis.rangeslider){var r=t._anchorAxis.rangeslider[t._name];r&&"auto"===r.rangemode&&(r.range=n?a(t):t._rangeInitial?t._rangeInitial.slice():t.range.slice()),(e=t._anchorAxis._input).rangeslider[t._name]=i.extendFlat({},r)}},expand:function(t,e,n){if(function(t){return t.autorange||t._rangesliderAutorange}(t)&&e){t._min||(t._min=[]),t._max||(t._max=[]),n||(n={}),t._m||t.setScale();var i,a,l,d,f,h,p,g,m,y,v,b,_=e.length,x=n.padded||!1,w=n.tozero&&("linear"===t.type||"-"===t.type),k="log"===t.type,T=!1,C=O((t._m>0?n.ppadplus:n.ppadminus)||n.ppad||0),A=O((t._m>0?n.ppadminus:n.ppadplus)||n.ppad||0),M=O(n.vpadplus||n.vpad),S=O(n.vpadminus||n.vpad);if(!T){if(v=1/0,b=-1/0,k)for(i=0;i<_;i++)(d=e[i])<v&&d>0&&(v=d),d>b&&d<o&&(b=d);else for(i=0;i<_;i++)(d=e[i])<v&&d>-o&&(v=d),d>b&&d<o&&(b=d);e=[v,b],_=2}var E=Math.min(6,_);for(i=0;i<E;i++)P(i);for(i=_-1;i>=E;i--)P(i)}function O(t){if(Array.isArray(t))return T=!0,function(e){return Math.max(Number(t[e]||0),0)};var e=Math.max(Number(t||0),0);return function(){return e}}function P(n){if(r(f=e[n]))for(g=C(n),m=A(n),v=f-S(n),b=f+M(n),k&&v<b/10&&(v=b/10),h=t.c2l(v),p=t.c2l(b),w&&(h=Math.min(0,h),p=Math.max(0,p)),l=0;l<2;l++){var i=l?p:h;if(s(i)){var o=l?t._max:t._min,_=l?g:m,T=l?c:u;for(y=!0,a=0;a<o.length&&y;a++){if(T((d=o[a]).val,i)&&d.pad>=_&&(d.extrapad||!x)){y=!1;break}T(i,d.val)&&d.pad<=_&&(x||!d.extrapad)&&(o.splice(a,1),a--)}if(y){var E=w&&0===i;o.push({val:i,pad:E?0:_,extrapad:!E&&x})}}}}}}},{"../../constants/numerical":145,"../../lib":163,"fast-isnumeric":10}],205:[function(t,e,n){"use strict";var r=t("d3"),i=t("fast-isnumeric"),o=t("../../plots/plots"),a=t("../../registry"),l=t("../../lib"),s=t("../../lib/svg_text_utils"),u=t("../../components/titles"),c=t("../../components/color"),d=t("../../components/drawing"),f=t("../../constants/numerical"),h=f.ONEAVGYEAR,p=f.ONEAVGMONTH,g=f.ONEDAY,m=f.ONEHOUR,y=f.ONEMIN,v=f.ONESEC,b=f.MINUS_SIGN,_=f.BADNUM,x=t("../../constants/alignment").MID_SHIFT,w=t("../../constants/alignment").LINE_SPACING,k=e.exports={};k.setConvert=t("./set_convert");var T=t("./axis_autotype"),C=t("./axis_ids");k.id2name=C.id2name,k.name2id=C.name2id,k.cleanId=C.cleanId,k.list=C.list,k.listIds=C.listIds,k.getFromId=C.getFromId,k.getFromTrace=C.getFromTrace;var A=t("./autorange");k.expand=A.expand,k.getAutoRange=A.getAutoRange,k.coerceRef=function(t,e,n,r,i,o){var a=r.charAt(r.length-1),s=n._fullLayout._subplots[a+"axis"],u=r+"ref",c={};return i||(i=s[0]||o),o||(o=i),c[u]={valType:"enumerated",values:s.concat(o?[o]:[]),dflt:i},l.coerce(t,e,c,u)},k.coercePosition=function(t,e,n,r,i,o){var a,s;if("paper"===r||"pixel"===r)a=l.ensureNumber,s=n(i,o);else{var u=k.getFromId(e,r);s=n(i,o=u.fraction2r(o)),a=u.cleanPos}t[i]=a(s)},k.cleanPosition=function(t,e,n){return("paper"===n||"pixel"===n?l.ensureNumber:k.getFromId(e,n).cleanPos)(t)};var M=k.getDataConversions=function(t,e,n,r){var i,o="x"===n||"y"===n||"z"===n?n:r;if(Array.isArray(o)){if(i={type:T(r),_categories:[]},k.setConvert(i),"category"===i.type)for(var a=0;a<r.length;a++)i.d2c(r[a])}else i=k.getFromTrace(t,e,o);return i?{d2c:i.d2c,c2d:i.c2d}:"ids"===o?{d2c:E,c2d:E}:{d2c:S,c2d:S}};function S(t){return+t}function E(t){return String(t)}k.getDataToCoordFunc=function(t,e,n,r){return M(t,e,n,r).d2c},k.counterLetter=function(t){var e=t.charAt(0);return"x"===e?"y":"y"===e?"x":void 0},k.minDtick=function(t,e,n,r){-1===["log","category"].indexOf(t.type)&&r?void 0===t._minDtick?(t._minDtick=e,t._forceTick0=n):t._minDtick&&((t._minDtick/e+1e-6)%1<2e-6&&((n-t._forceTick0)/e%1+1.000001)%1<2e-6?(t._minDtick=e,t._forceTick0=n):((e/t._minDtick+1e-6)%1>2e-6||((n-t._forceTick0)/t._minDtick%1+1.000001)%1>2e-6)&&(t._minDtick=0)):t._minDtick=0},k.saveRangeInitial=function(t,e){for(var n=k.list(t,"",!0),r=!1,i=0;i<n.length;i++){var o=n[i],a=void 0===o._rangeInitial;(a&&!1===o.autorange||e&&(a||o.range[0]!==o._rangeInitial[0]||o.range[1]!==o._rangeInitial[1]))&&(o._rangeInitial=o.range.slice(),r=!0)}return r},k.saveShowSpikeInitial=function(t,e){for(var n=k.list(t,"",!0),r=!1,i="on",o=0;o<n.length;o++){var a=n[o],l=void 0===a._showSpikeInitial;(l||e&&(l||!(a.showspikes===a._showspikes)))&&(a._showSpikeInitial=a.showspikes,r=!0),"on"!==i||a.showspikes||(i="off")}return t._fullLayout._cartesianSpikesEnabled=i,r},k.autoBin=function(t,e,n,r,o){var a,s,u=l.aggNums(Math.min,null,t),c=l.aggNums(Math.max,null,t);if(o||(o=e.calendar),"category"===e.type)return{start:u-.5,end:c+.5,size:1,_dataSpan:c-u};if(n)a=(c-u)/n;else{var d=l.distinctVals(t),f=Math.pow(10,Math.floor(Math.log(d.minDiff)/Math.LN10)),h=f*l.roundUp(d.minDiff/f,[.9,1.9,4.9,9.9],!0);a=Math.max(h,2*l.stdev(t)/Math.pow(t.length,r?.25:.4)),i(a)||(a=1)}s="log"===e.type?{type:"linear",range:[u,c]}:{type:e.type,range:l.simpleMap([u,c],e.c2r,0,o),calendar:o},k.setConvert(s),k.autoTicks(s,a);var p,m=k.tickIncrement(k.tickFirst(s),s.dtick,"reverse",o);if("number"==typeof s.dtick)p=(m=function(t,e,n,r,o){var a=0,l=0,s=0,u=0;function c(e){return(1+100*(e-t)/n.dtick)%100<2}for(var d=0;d<e.length;d++)e[d]%1==0?s++:i(e[d])||u++,c(e[d])&&a++,c(e[d]+n.dtick/2)&&l++;var f=e.length-u;if(s===f&&"date"!==n.type)n.dtick<1?t=r-.5*n.dtick:(t-=.5)+n.dtick<r&&(t+=n.dtick);else if(l<.1*f&&(a>.3*f||c(r)||c(o))){var h=n.dtick/2;t+=t+h<r?h:-h}return t}(m,t,s,u,c))+(1+Math.floor((c-m)/s.dtick))*s.dtick;else for("M"===s.dtick.charAt(0)&&(m=function(t,e,n,r,i){var o=l.findExactDates(e,i);if(o.exactDays>.8){var a=Number(n.substr(1));o.exactYears>.8&&a%12==0?t=k.tickIncrement(t,"M6","reverse")+1.5*g:o.exactMonths>.8?t=k.tickIncrement(t,"M1","reverse")+15.5*g:t-=g/2;var s=k.tickIncrement(t,n);if(s<=r)return s}return t}(m,t,s.dtick,u,o)),p=m;p<=c;)p=k.tickIncrement(p,s.dtick,!1,o);return{start:e.c2r(m,0,o),end:e.c2r(p,0,o),size:s.dtick,_dataSpan:c-u}},k.prepTicks=function(t){var e=l.simpleMap(t.range,t.r2l);if("auto"===t.tickmode||!t.dtick){var n,r=t.nticks;r||("category"===t.type?r=t._length/(n=t.tickfont?1.2*(t.tickfont.size||12):15):(n="y"===t._id.charAt(0)?40:80,r=l.constrain(t._length/n,4,9)+1),"radialaxis"===t._name&&(r*=2)),"array"===t.tickmode&&(r*=100),k.autoTicks(t,Math.abs(e[1]-e[0])/r),t._minDtick>0&&t.dtick<2*t._minDtick&&(t.dtick=t._minDtick,t.tick0=t.l2r(t._forceTick0))}t.tick0||(t.tick0="date"===t.type?"2000-01-01":0),z(t)},k.calcTicks=function(t){k.prepTicks(t);var e=l.simpleMap(t.range,t.r2l);if("array"===t.tickmode)return function(t){var e,n,r=t.tickvals,i=t.ticktext,o=new Array(r.length),a=l.simpleMap(t.range,t.r2l),s=1.0001*a[0]-1e-4*a[1],u=1.0001*a[1]-1e-4*a[0],c=Math.min(s,u),d=Math.max(s,u),f=0;Array.isArray(i)||(i=[]);var h="category"===t.type?t.d2l_noadd:t.d2l;for("log"===t.type&&"L"!==String(t.dtick).charAt(0)&&(t.dtick="L"+Math.pow(10,Math.floor(Math.min(t.range[0],t.range[1]))-1)),n=0;n<r.length;n++)(e=h(r[n]))>c&&e<d&&(o[f]=void 0===i[n]?k.tickText(t,e):j(t,e,String(i[n])),f++);return f<r.length&&o.splice(f,r.length-f),o}(t);t._tmin=k.tickFirst(t);var n=1.0001*e[1]-1e-4*e[0],r=e[1]<e[0];if(t._tmin<1.0001*e[0]-1e-4*e[1]!==r)return[];var i=[];"category"===t.type&&(n=r?Math.max(-.5,n):Math.min(t._categories.length-.5,n));for(var o=null,a=Math.max(1e3,t._length||0),s=t._tmin;(r?s>=n:s<=n)&&!(i.length>a||s===o);s=k.tickIncrement(s,t.dtick,r,t.calendar))o=s,i.push(s);"angular"===t._id&&360===Math.abs(e[1]-e[0])&&i.pop(),t._tmax=i[i.length-1],t._prevDateHead="",t._inCalcTicks=!0;for(var u=new Array(i.length),c=0;c<i.length;c++)u[c]=k.tickText(t,i[c]);return t._inCalcTicks=!1,u};var O=[2,5,10],P=[1,2,3,6,12],I=[1,2,5,10,15,30],D=[1,2,3,7,14],L=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],R=[-.301,0,.301,.699,1],N=[15,30,45,90,180];function F(t,e,n){return e*l.roundUp(t/e,n)}function z(t){var e=t.dtick;if(t._tickexponent=0,i(e)||"string"==typeof e||(e=1),"category"===t.type&&(t._tickround=null),"date"===t.type){var n=t.r2l(t.tick0),r=t.l2r(n).replace(/(^-|i)/g,""),o=r.length;if("M"===String(e).charAt(0))t._tickround=o>10||"01-01"!==r.substr(5)?"d":+e.substr(1)%12==0?"y":"m";else if(e>=g&&o<=10||e>=15*g)t._tickround="d";else if(e>=y&&o<=16||e>=m)t._tickround="M";else if(e>=v&&o<=19||e>=y)t._tickround="S";else{var a=t.l2r(n+e).replace(/^-/,"").length;t._tickround=Math.max(o,a)-20}}else if(i(e)||"L"===e.charAt(0)){var l=t.range.map(t.r2d||Number);i(e)||(e=Number(e.substr(1))),t._tickround=2-Math.floor(Math.log(e)/Math.LN10+.01);var s=Math.max(Math.abs(l[0]),Math.abs(l[1])),u=Math.floor(Math.log(s)/Math.LN10+.01);Math.abs(u)>3&&(t._tickexponent=B(t.exponentformat)&&!H(u)?3*Math.round((u-1)/3):u)}else t._tickround=null}function j(t,e,n){var r=t.tickfont||{};return{x:e,dx:0,dy:0,text:n||"",fontSize:r.size,font:r.family,fontColor:r.color}}k.autoTicks=function(t,e){var n;function r(t){return Math.pow(t,Math.floor(Math.log(e)/Math.LN10))}if("date"===t.type){t.tick0=l.dateTick0(t.calendar);var o=2*e;o>h?(e/=h,n=r(10),t.dtick="M"+12*F(e,n,O)):o>p?t.dtick="M"+F(e/=p,1,P):o>g?(t.dtick=F(e,g,D),t.tick0=l.dateTick0(t.calendar,!0)):o>m?t.dtick=F(e,m,P):o>y?t.dtick=F(e,y,I):o>v?t.dtick=F(e,v,I):(n=r(10),t.dtick=F(e,n,O))}else if("log"===t.type){t.tick0=0;var a=l.simpleMap(t.range,t.r2l);if(e>.7)t.dtick=Math.ceil(e);else if(Math.abs(a[1]-a[0])<1){var s=1.5*Math.abs((a[1]-a[0])/e);e=Math.abs(Math.pow(10,a[1])-Math.pow(10,a[0]))/s,n=r(10),t.dtick="L"+F(e,n,O)}else t.dtick=e>.3?"D2":"D1"}else"category"===t.type?(t.tick0=0,t.dtick=Math.ceil(Math.max(e,1))):"angular"===t._id?(t.tick0=0,t.dtick=F(e,n=1,N)):(t.tick0=0,n=r(10),t.dtick=F(e,n,O));if(0===t.dtick&&(t.dtick=1),!i(t.dtick)&&"string"!=typeof t.dtick){var u=t.dtick;throw t.dtick=1,"ax.dtick error: "+String(u)}},k.tickIncrement=function(t,e,n,o){var a=n?-1:1;if(i(e))return t+a*e;var s=e.charAt(0),u=a*Number(e.substr(1));if("M"===s)return l.incrementMonth(t,u,o);if("L"===s)return Math.log(Math.pow(10,t)+u)/Math.LN10;if("D"===s){var c="D2"===e?R:L,d=t+.01*a,f=l.roundUp(l.mod(d,1),c,n);return Math.floor(d)+Math.log(r.round(Math.pow(10,f),1))/Math.LN10}throw"unrecognized dtick "+String(e)},k.tickFirst=function(t){var e=t.r2l||Number,n=l.simpleMap(t.range,e),o=n[1]<n[0],a=o?Math.floor:Math.ceil,s=1.0001*n[0]-1e-4*n[1],u=t.dtick,c=e(t.tick0);if(i(u)){var d=a((s-c)/u)*u+c;return"category"===t.type&&(d=l.constrain(d,0,t._categories.length-1)),d}var f=u.charAt(0),h=Number(u.substr(1));if("M"===f){for(var p,g,m,y=0,v=c;y<10;){if(((p=k.tickIncrement(v,u,o,t.calendar))-s)*(v-s)<=0)return o?Math.min(v,p):Math.max(v,p);g=(s-(v+p)/2)/(p-v),m=f+(Math.abs(Math.round(g))||1)*h,v=k.tickIncrement(v,m,g<0?!o:o,t.calendar),y++}return l.error("tickFirst did not converge",t),v}if("L"===f)return Math.log(a((Math.pow(10,s)-c)/h)*h+c)/Math.LN10;if("D"===f){var b="D2"===u?R:L,_=l.roundUp(l.mod(s,1),b,o);return Math.floor(s)+Math.log(r.round(Math.pow(10,_),1))/Math.LN10}throw"unrecognized dtick "+String(u)},k.tickText=function(t,e,n){var r,o,a=j(t,e),s="array"===t.tickmode,u=n||s,c="category"===t.type?t.d2l_noadd:t.d2l;if(s&&Array.isArray(t.ticktext)){var d=l.simpleMap(t.range,t.r2l),f=Math.abs(d[1]-d[0])/1e4;for(o=0;o<t.ticktext.length&&!(Math.abs(e-c(t.tickvals[o]))<f);o++);if(o<t.ticktext.length)return a.text=String(t.ticktext[o]),a}function h(r){return void 0===r||(n?"none"===r:"all"!==r&&e!=={first:t._tmin,last:t._tmax}[r])}return r=n?"never":"none"!==t.exponentformat&&h(t.showexponent)?"hide":"","date"===t.type?function(t,e,n,r){var o=t._tickround,a=n&&t.hoverformat||k.getTickFormat(t);r&&(o=i(o)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[o]);var s,u=l.formatDate(e.x,a,o,t._dateFormat,t.calendar,t._extraFormat),c=u.indexOf("\n");-1!==c&&(s=u.substr(c+1),u=u.substr(0,c)),r&&("00:00:00"===u||"00:00"===u?(u=s,s=""):8===u.length&&(u=u.replace(/:00$/,""))),s&&(n?"d"===o?u+=", "+s:u=s+(u?", "+u:""):t._inCalcTicks&&s===t._prevDateHead||(u+="<br>"+s,t._prevDateHead=s)),e.text=u}(t,a,n,u):"log"===t.type?function(t,e,n,r,o){var a=t.dtick,s=e.x,u=t.tickformat;if("never"===o&&(o=""),!r||"string"==typeof a&&"L"===a.charAt(0)||(a="L3"),u||"string"==typeof a&&"L"===a.charAt(0))e.text=q(Math.pow(10,s),t,o,r);else if(i(a)||"D"===a.charAt(0)&&l.mod(s+.01,1)<.1){var c=Math.round(s);-1!==["e","E","power"].indexOf(t.exponentformat)||B(t.exponentformat)&&H(c)?(e.text=0===c?1:1===c?"10":c>1?"10<sup>"+c+"</sup>":"10<sup>"+b+-c+"</sup>",e.fontSize*=1.25):(e.text=q(Math.pow(10,s),t,"","fakehover"),"D1"===a&&"y"===t._id.charAt(0)&&(e.dy-=e.fontSize/6))}else{if("D"!==a.charAt(0))throw"unrecognized dtick "+String(a);e.text=String(Math.round(Math.pow(10,l.mod(s,1)))),e.fontSize*=.75}if("D1"===t.dtick){var d=String(e.text).charAt(0);"0"!==d&&"1"!==d||("y"===t._id.charAt(0)?e.dx-=e.fontSize/4:(e.dy+=e.fontSize/2,e.dx+=(t.range[1]>t.range[0]?1:-1)*e.fontSize*(s<0?.5:.25)))}}(t,a,0,u,r):"category"===t.type?function(t,e){var n=t._categories[Math.round(e.x)];void 0===n&&(n=""),e.text=String(n)}(t,a):"angular"===t._id?function(t,e,n,r,i){if("radians"!==t.thetaunit||n)e.text=q(e.x,t,i,r);else{var o=e.x/180;if(0===o)e.text="0";else{var a=function(t){function e(t,e){return Math.abs(t-e)<=1e-6}var n=function(t){for(var n=1;!e(Math.round(t*n)/n,t);)n*=10;return n}(t),r=t*n,i=Math.abs(function t(n,r){return e(r,0)?n:t(r,n%r)}(r,n));return[Math.round(r/i),Math.round(n/i)]}(o);if(a[1]>=100)e.text=q(l.deg2rad(e.x),t,i,r);else{var s=e.x<0;e.text=1===a[1]?1===a[0]?"\u03c0":a[0]+"\u03c0":["<sup>",a[0],"</sup>","\u2044","<sub>",a[1],"</sub>","\u03c0"].join(""),s&&(e.text=b+e.text)}}}}(t,a,n,u,r):function(t,e,n,r,i){"never"===i?i="":"all"===t.showexponent&&Math.abs(e.x/t.dtick)<1e-6&&(i="hide"),e.text=q(e.x,t,i,r)}(t,a,0,u,r),t.tickprefix&&!h(t.showtickprefix)&&(a.text=t.tickprefix+a.text),t.ticksuffix&&!h(t.showticksuffix)&&(a.text+=t.ticksuffix),a},k.hoverLabelText=function(t,e,n){if(n!==_&&n!==e)return k.hoverLabelText(t,e)+" - "+k.hoverLabelText(t,n);var r="log"===t.type&&e<=0,i=k.tickText(t,t.c2l(r?-e:e),"hover").text;return r?0===e?"0":b+i:i};var V=["f","p","n","\u03bc","m","","k","M","G","T"];function B(t){return"SI"===t||"B"===t}function H(t){return t>14||t<-15}function q(t,e,n,r){var o=t<0,a=e._tickround,s=n||e.exponentformat||"B",u=e._tickexponent,c=k.getTickFormat(e),d=e.separatethousands;if(r){var f={exponentformat:s,dtick:"none"===e.showexponent?e.dtick:i(t)&&Math.abs(t)||1,range:"none"===e.showexponent?e.range.map(e.r2d):[0,t||1]};z(f),a=(Number(f._tickround)||0)+4,u=f._tickexponent,e.hoverformat&&(c=e.hoverformat)}if(c)return e._numFormat(c)(t).replace(/-/g,b);var h,p=Math.pow(10,-a)/2;if("none"===s&&(u=0),(t=Math.abs(t))<p)t="0",o=!1;else{if(t+=p,u&&(t*=Math.pow(10,-u),a+=u),0===a)t=String(Math.floor(t));else if(a<0){t=(t=String(Math.round(t))).substr(0,t.length+a);for(var g=a;g<0;g++)t+="0"}else{var m=(t=String(t)).indexOf(".")+1;m&&(t=t.substr(0,m+a).replace(/\.?0+$/,""))}t=l.numSeparate(t,e._separators,d)}return u&&"hide"!==s&&(B(s)&&H(u)&&(s="power"),h=u<0?b+-u:"power"!==s?"+"+u:String(u),"e"===s?t+="e"+h:"E"===s?t+="E"+h:"power"===s?t+="\xd710<sup>"+h+"</sup>":"B"===s&&9===u?t+="B":B(s)&&(t+=V[u/3+5])),o?b+t:t}function U(t,e){for(var n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n])}function G(t,e,n){var r,i,o=[],a=[],s=t.layout;for(r=0;r<e.length;r++)o.push(k.getFromId(t,e[r]));for(r=0;r<n.length;r++)a.push(k.getFromId(t,n[r]));var u=Object.keys(o[0]),c=["anchor","domain","overlaying","position","side","tickangle"],d=["linear","log"];for(r=0;r<u.length;r++){var f=u[r],h=o[0][f],p=a[0][f],g=!0,m=!1,y=!1;if("_"!==f.charAt(0)&&"function"!=typeof h&&-1===c.indexOf(f)){for(i=1;i<o.length&&g;i++){var v=o[i][f];"type"===f&&-1!==d.indexOf(h)&&-1!==d.indexOf(v)&&h!==v?m=!0:v!==h&&(g=!1)}for(i=1;i<a.length&&g;i++){var b=a[i][f];"type"===f&&-1!==d.indexOf(p)&&-1!==d.indexOf(b)&&p!==b?y=!0:a[i][f]!==p&&(g=!1)}g&&(m&&(s[o[0]._name].type="linear"),y&&(s[a[0]._name].type="linear"),W(s,f,o,a,t._fullLayout._dfltTitle))}}for(r=0;r<t._fullLayout.annotations.length;r++){var _=t._fullLayout.annotations[r];-1!==e.indexOf(_.xref)&&-1!==n.indexOf(_.yref)&&l.swapAttrs(s.annotations[r],["?"])}}function W(t,e,n,r,i){var o,a=l.nestedProperty,s=a(t[n[0]._name],e).get(),u=a(t[r[0]._name],e).get();for("title"===e&&(s===i.x&&(s=i.y),u===i.y&&(u=i.x)),o=0;o<n.length;o++)a(t,n[o]._name+"."+e).set(u);for(o=0;o<r.length;o++)a(t,r[o]._name+"."+e).set(s)}k.getTickFormat=function(t){var e,n,r,i,o,a,l;function s(t){return"string"!=typeof t?t:Number(t.replace("M",""))*p}function u(t,e){var n=["L","D"];if(typeof t==typeof e){if("number"==typeof t)return t-e;var r=n.indexOf(t.charAt(0)),i=n.indexOf(e.charAt(0));return r===i?Number(t.replace(/(L|D)/g,""))-Number(e.replace(/(L|D)/g,"")):r-i}return"number"==typeof t?1:-1}function c(t,e){var n=null===e[0],r=null===e[1],i=u(t,e[0])>=0,o=u(t,e[1])<=0;return(n||i)&&(r||o)}if(t.tickformatstops&&t.tickformatstops.length>0)switch(t.type){case"date":case"linear":for(e=0;e<t.tickformatstops.length;e++)if(r=t.dtick,i=t.tickformatstops[e].dtickrange,o=void 0,o=s||function(t){return t},l=i[1],(!(a=i[0])&&"number"!=typeof a||o(a)<=o(r))&&(!l&&"number"!=typeof l||o(l)>=o(r))){n=t.tickformatstops[e];break}break;case"log":for(e=0;e<t.tickformatstops.length;e++)if(c(t.dtick,t.tickformatstops[e].dtickrange)){n=t.tickformatstops[e];break}}return n?n.value:t.tickformat},k.getSubplots=function(t,e){var n=t._fullLayout._subplots,r=n.cartesian.concat(n.gl2d||[]),i=e?k.findSubplotsWithAxis(r,e):r;return i.sort(function(t,e){var n=t.substr(1).split("y"),r=e.substr(1).split("y");return n[0]===r[0]?+n[1]-+r[1]:+n[0]-+r[0]}),i},k.findSubplotsWithAxis=function(t,e){for(var n=new RegExp("x"===e._id.charAt(0)?"^"+e._id+"y":e._id+"$"),r=[],i=0;i<t.length;i++){var o=t[i];n.test(o)&&r.push(o)}return r},k.makeClipPaths=function(t){var e=t._fullLayout;if(!e._hasOnlyLargeSploms){var n,i,o={_offset:0,_length:e.width,_id:""},a={_offset:0,_length:e.height,_id:""},l=k.list(t,"x",!0),s=k.list(t,"y",!0),u=[];for(n=0;n<l.length;n++)for(u.push({x:l[n],y:a}),i=0;i<s.length;i++)0===n&&u.push({x:o,y:s[i]}),u.push({x:l[n],y:s[i]});var c=e._clips.selectAll(".axesclip").data(u,function(t){return t.x._id+t.y._id});c.enter().append("clipPath").classed("axesclip",!0).attr("id",function(t){return"clip"+e._uid+t.x._id+t.y._id}).append("rect"),c.exit().remove(),c.each(function(t){r.select(this).select("rect").attr({x:t.x._offset||0,y:t.y._offset||0,width:t.x._length||1,height:t.y._length||1})})}},k.doTicks=function(t,e,n){var r=t._fullLayout;"redraw"===e&&r._paper.selectAll("g.subplot").each(function(t){var e=r._plots[t],n=e.xaxis,i=e.yaxis;e.xaxislayer.selectAll("."+n._id+"tick").remove(),e.yaxislayer.selectAll("."+i._id+"tick").remove(),e.gridlayer&&e.gridlayer.selectAll("path").remove(),e.zerolinelayer&&e.zerolinelayer.selectAll("path").remove(),r._infolayer.select(".g-"+n._id+"title").remove(),r._infolayer.select(".g-"+i._id+"title").remove()});var i=e&&"redraw"!==e?e:k.listIds(t);l.syncOrAsync(i.map(function(e){return function(){if(e){var r=k.doTicksSingle(t,e,n),i=k.getFromId(t,e);return i._r=i.range.slice(),i._rl=l.simpleMap(i._r,i.r2l),r}}}))},k.doTicksSingle=function(t,e,n){var f,h=t._fullLayout,p=!1;l.isPlainObject(e)?(f=e,p=!0):f=k.getFromId(t,e),f.setScale();var g,m,y,v,b,_,T=f._id,A=T.charAt(0),M=k.counterLetter(T),S=f._vals=k.calcTicks(f),E=function(t){return[t.text,t.x,f.mirror,t.font,t.fontSize,t.fontColor].join("_")},O=T+"tick",P=T+"grid",I=T+"zl",D=(f.linewidth||1)/2,L="outside"===f.ticks?f.ticklen:0,R=0,N=d.crispRound(t,f.gridwidth,1),F=d.crispRound(t,f.zerolinewidth,N),z=d.crispRound(t,f.tickwidth,1);if(f._counterangle&&"outside"===f.ticks){var j=f._counterangle*Math.PI/180;L=f.ticklen*Math.cos(j)+1,R=f.ticklen*Math.sin(j)}if(f.showticklabels&&("outside"===f.ticks||f.showline)&&(L+=.2*f.tickfont.size),"x"===A)g=["bottom","top"],m=f._transfn||function(t){return"translate("+(f._offset+f.l2p(t.x))+",0)"},y=function(t,e){if(f._counterangle){var n=f._counterangle*Math.PI/180;return"M0,"+t+"l"+Math.sin(n)*e+","+Math.cos(n)*e}return"M0,"+t+"v"+e};else if("y"===A)g=["left","right"],m=f._transfn||function(t){return"translate(0,"+(f._offset+f.l2p(t.x))+")"},y=function(t,e){if(f._counterangle){var n=f._counterangle*Math.PI/180;return"M"+t+",0l"+Math.cos(n)*e+","+-Math.sin(n)*e}return"M"+t+",0h"+e};else{if("angular"!==T)return void l.warn("Unrecognized doTicks axis:",T);g=["left","right"],m=f._transfn,y=function(t,e){return"M"+t+",0h"+e}}var V=f.side||g[0],B=[-1,1,V===g[1]?1:-1];if("inside"!==f.ticks==("x"===A)&&(B=B.map(function(t){return-t})),f.visible){f._tickFilter&&(S=S.filter(f._tickFilter));var H=S.filter(Z);if("angular"===f._id&&(H=S),p)return X(f._axislayer,y(f._pos+D*B[2],B[2]*f.ticklen)),f._counteraxis&&J({gridlayer:f._gridlayer,zerolinelayer:f._zerolinelayer},f._counteraxis),Q(f._axislayer,f._pos);if(h._has("cartesian")){var q={};(v=k.getSubplots(t,f)).map(function(t){var e=h._plots[t],n=e[M+"axis"],r=n._mainAxis._id;q[r]||(q[r]=1,J(e,n,t))});var U=h._plots[f._mainSubplot],G=[];if(f.ticks){var W=B[2],Y=y(f._mainLinePosition+D*W,W*f.ticklen);f._anchorAxis&&f.mirror&&!0!==f.mirror&&(Y+=y(f._mainMirrorPosition-D*W,-W*f.ticklen)),X(U[A+"axislayer"],Y),G=Object.keys(f._linepositions||{})}return G.map(function(t){var e=f._linepositions[t]||[];function n(t){var n=B[t];return y(e[t]+D*n,n*f.ticklen)}X(h._plots[t][A+"axislayer"],n(0)+n(1))}),Q(U[A+"axislayer"],f._mainLinePosition)}}function Z(t){var e=f.l2p(t.x);return e>1&&e<f._length-1}function X(t,e){var n=t.selectAll("path."+O).data("inside"===f.ticks?H:S,E);e&&f.ticks?(n.enter().append("path").classed(O,1).classed("ticks",1).classed("crisp",1).call(c.stroke,f.tickcolor).style("stroke-width",z+"px").attr("d",e),n.attr("transform",m),n.exit().remove()):n.remove()}function Q(e,n){if(b=e.selectAll("g."+O).data(S,E),!i(n))return b.remove(),void K();if(!f.showticklabels)return b.remove(),K(),void P();var a,u,c,p,g;"x"===A?(a=function(t){return t.dx+R*g},p=n+(L+D)*(g="bottom"===V?1:-1),u=function(t){return t.dy+p+t.fontSize*("bottom"===V?1:-.2)},c=function(t){return i(t)&&0!==t&&180!==t?t*g<0?"end":"start":"middle"}):"y"===A?(g="right"===V?1:-1,u=function(t){return t.dy+t.fontSize*x-R*g},a=function(t){return t.dx+n+(L+D+(90===Math.abs(f.tickangle)?t.fontSize/2:0))*g},c=function(t){return i(t)&&90===Math.abs(t)?"middle":"right"===V?"start":"end"}):"angular"===T&&(f._labelShift=R,f._labelStandoff=L,f._pad=D,a=f._labelx,u=f._labely,c=f._labelanchor);var y=0,k=0,C=[];function M(t,e){t.each(function(t){var n=c(e,t),o=r.select(this),l=o.select(".text-math-group"),f=m.call(o.node(),t)+(i(e)&&0!=+e?" rotate("+e+","+a(t)+","+(u(t)-t.fontSize/2)+")":""),h=function(t,e,n){var r=(t-1)*e;if("x"===A){if(n<-60||60<n)return-.5*r;if("top"===V)return-r}else{if((n*="left"===V?1:-1)<-30)return-r;if(n<30)return-.5*r}return 0}(s.lineCount(o),w*t.fontSize,i(e)?+e:0);if(h&&(f+=" translate(0, "+h+")"),l.empty())o.select("text").attr({transform:f,"text-anchor":n});else{var p=d.bBox(l.node()).width*{end:-.5,start:.5}[n];l.attr("transform",f+(p?"translate("+p+",0)":""))}})}function P(){if(f.showticklabels){var n=t.getBoundingClientRect(),r=e.node().getBoundingClientRect();f._boundingBox={width:r.width,height:r.height,left:r.left-n.left,right:r.right-n.left,top:r.top-n.top,bottom:r.bottom-n.top}}else{var i,o=h._size;f._boundingBox="x"===A?{top:i="free"===f.anchor?o.t+o.h*(1-f.position):o.t+o.h*(1-f._anchorAxis.domain[{bottom:0,top:1}[f.side]]),bottom:i,left:f._offset,right:f._offset+f._length,width:f._length,height:0}:{left:i="free"===f.anchor?o.l+o.w*f.position:o.l+o.w*f._anchorAxis.domain[{left:0,right:1}[f.side]],right:i,bottom:f._offset+f._length,top:f._offset,height:f._length,width:0}}if(v){var a=f._counterSpan=[1/0,-1/0];for(_=0;_<v.length;_++){var l=h._plots[v[_]]["x"===A?"yaxis":"xaxis"];s(a,[l._offset,l._offset+l._length])}"free"===f.anchor&&s(a,"x"===A?[f._boundingBox.bottom,f._boundingBox.top]:[f._boundingBox.right,f._boundingBox.left])}function s(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.max(t[1],e[1])}}b.enter().append("g").classed(O,1).append("text").attr("text-anchor","middle").each(function(e){var n=r.select(this),i=t._promises.length;n.call(s.positionText,a(e),u(e)).call(d.font,e.font,e.fontSize,e.fontColor).text(e.text).call(s.convertToTspans,t),(i=t._promises[i])?C.push(t._promises.pop().then(function(){M(n,f.tickangle)})):M(n,f.tickangle)}),b.exit().remove(),b.each(function(t){y=Math.max(y,t.fontSize)}),"angular"===T&&b.each(function(t){r.select(this).select("text").call(s.positionText,a(t),u(t))}),M(b,f._lastangle||f.tickangle);var I=l.syncOrAsync([function(){return C.length&&Promise.all(C)},function(){if(M(b,f.tickangle),"x"===A&&!i(f.tickangle)&&("log"!==f.type||"D"!==String(f.dtick).charAt(0))){var t=[];for(b.each(function(e){var n=r.select(this),i=n.select(".text-math-group"),o=f.l2p(e.x);i.empty()&&(i=n.select("text"));var a=d.bBox(i.node());t.push({top:0,bottom:10,height:10,left:o-a.width/2,right:o+a.width/2+2,width:a.width+2})}),_=0;_<t.length-1;_++)if(l.bBoxIntersect(t[_],t[_+1])){k=30;break}k&&(Math.abs((S[S.length-1].x-S[0].x)*f._m)/(S.length-1)<2.5*y&&(k=90),M(b,k)),f._lastangle=k}return K(),T+" done"},P,function(){if(f.automargin&&("x"===A||"y"===A)){var e=f.side[0],n={x:0,y:0,r:0,l:0,t:0,b:0};"x"===A?(n.y="free"===f.anchor?f.position:f._anchorAxis.domain["t"===e?1:0],n[e]+=f._boundingBox.height):(n.x="free"===f.anchor?f.position:f._anchorAxis.domain["r"===e?1:0],n[e]+=f._boundingBox.width),f.title!==h._dfltTitle[A]&&(n[e]+=f.titlefont.size);var r=f._name+".automargin",i=h._pushmargin[r];(!i||i[e].size<n[e])&&o.autoMargin(t,r,n)}}]);return I&&I.then&&t._promises.push(I),I}function K(){if(!(n||f.rangeslider&&f.rangeslider.visible&&f._boundingBox&&"bottom"===f.side)){var e,r,i,o,a={selection:b,side:f.side},l=T.charAt(0),s=t._fullLayout._size,c=f.titlefont.size;if(b.size()){var p=d.getTranslate(b.node().parentNode);a.offsetLeft=p.x,a.offsetTop=p.y}var g=10+1.5*c+(f.linewidth?f.linewidth-1:0);"x"===l?(r="free"===f.anchor?{_offset:s.t+(1-(f.position||0))*s.h,_length:0}:C.getFromId(t,f.anchor),i=f._offset+f._length/2,o="top"===f.side?-g-c*(f.showticklabels?1:0):r._length+g+c*(f.showticklabels?1.5:.5),o+=r._offset,a.side||(a.side="bottom")):(r="free"===f.anchor?{_offset:s.l+(f.position||0)*s.w,_length:0}:C.getFromId(t,f.anchor),o=f._offset+f._length/2,i="right"===f.side?r._length+g+c*(f.showticklabels?1:.5):-g-c*(f.showticklabels?.5:0),i+=r._offset,e={rotate:"-90",offset:0},a.side||(a.side="left")),u.draw(t,T+"title",{propContainer:f,propName:f._name+".title",placeholder:h._dfltTitle[l],avoid:a,transform:e,attributes:{x:i,y:o,"text-anchor":"middle"}})}}function $(t,e){return!0===t.visible&&t.xaxis+t.yaxis===e&&(!(!a.traceIs(t,"bar")||t.orientation!=={x:"h",y:"v"}[A])||t.fill&&t.fill.charAt(t.fill.length-1)===A)}function J(e,n,i){if(!h._hasOnlyLargeSploms){var o=e.gridlayer.selectAll("."+T),a=e.zerolinelayer,s=e["hidegrid"+A]?[]:H,u=f._gridpath||("x"===A?"M0,"+n._offset+"v":"M"+n._offset+",0h")+n._length,d=o.selectAll("path."+P).data(!1===f.showgrid?[]:s,E);if(d.enter().append("path").classed(P,1).classed("crisp",1).attr("d",u).each(function(t){f.zeroline&&("linear"===f.type||"-"===f.type)&&Math.abs(t.x)<f.dtick/100&&r.select(this).remove()}),d.attr("transform",m).call(c.stroke,f.gridcolor||"#ddd").style("stroke-width",N+"px"),"function"==typeof u&&d.attr("d",u),d.exit().remove(),a){for(var p=!1,g=0;g<t._fullData.length;g++)if($(t._fullData[g],i)){p=!0;break}var y=l.simpleMap(f.range,f.r2l),v=y[0]*y[1]<=0&&f.zeroline&&("linear"===f.type||"-"===f.type)&&s.length&&(p||Z({x:0})||!f.showline),b=a.selectAll("path."+I).data(v?[{x:0,id:T}]:[]);b.enter().append("path").classed(I,1).classed("zl",1).classed("crisp",1).attr("d",u).each(function(){a.selectAll("path").sort(function(t,e){return C.idSort(t.id,e.id)})}),b.attr("transform",m).call(c.stroke,f.zerolinecolor||c.defaultLine).style("stroke-width",F+"px"),b.exit().remove()}}}},k.swap=function(t,e){for(var n=function(t,e){var n,r,i=[];for(n=0;n<e.length;n++){var o=[],a=t._fullData[e[n]].xaxis,l=t._fullData[e[n]].yaxis;if(a&&l){for(r=0;r<i.length;r++)-1===i[r].x.indexOf(a)&&-1===i[r].y.indexOf(l)||o.push(r);if(o.length){var s,u=i[o[0]];if(o.length>1)for(r=1;r<o.length;r++)U(u.x,(s=i[o[r]]).x),U(u.y,s.y);U(u.x,[a]),U(u.y,[l])}else i.push({x:[a],y:[l]})}}return i}(t,e),r=0;r<n.length;r++)G(t,n[r].x,n[r].y)}},{"../../components/color":43,"../../components/drawing":68,"../../components/titles":136,"../../constants/alignment":143,"../../constants/numerical":145,"../../lib":163,"../../lib/svg_text_utils":184,"../../plots/plots":237,"../../registry":245,"./autorange":204,"./axis_autotype":206,"./axis_ids":208,"./set_convert":223,d3:7,"fast-isnumeric":10}],206:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("../../lib"),o=t("../../constants/numerical").BADNUM;e.exports=function(t,e){return function(t,e){for(var n,o=0,a=0,l=Math.max(1,(t.length-1)/1e3),s=0;s<t.length;s+=l)n=t[Math.round(s)],i.isDateTime(n,e)&&(o+=1),r(n)&&(a+=1);return o>2*a}(t,e)?"date":function(t){for(var e,n=Math.max(1,(t.length-1)/1e3),r=0,a=0,l=0;l<t.length;l+=n)e=t[Math.round(l)],i.cleanNumber(e)!==o?r++:"string"==typeof e&&""!==e&&"None"!==e&&a++;return a>2*r}(t)?"category":function(t){if(!t)return!1;for(var e=0;e<t.length;e++)if(r(t[e]))return!0;return!1}(t)?"linear":"-"}},{"../../constants/numerical":145,"../../lib":163,"fast-isnumeric":10}],207:[function(t,e,n){"use strict";var r=t("../../registry"),i=t("../../lib"),o=t("./layout_attributes"),a=t("./tick_value_defaults"),l=t("./tick_mark_defaults"),s=t("./tick_label_defaults"),u=t("./category_order_defaults"),c=t("./line_grid_defaults"),d=t("./set_convert");e.exports=function(t,e,n,f,h){var p=f.letter,g=e._id,m=f.font||{},y=n("visible",!f.cheateronly),v=e.type;"date"===v&&r.getComponentMethod("calendars","handleDefaults")(t,e,"calendar",f.calendar),d(e,h);var b=n("autorange",!e.isValidRange(t.range));if(e._rangesliderAutorange=!1,b&&n("rangemode"),n("range"),e.cleanRange(),u(t,e,n,f),"category"===v||f.noHover||n("hoverformat"),!y)return e;var _=n("color"),x=_===t.color?_:m.color;return n("title",((h._splomAxes||{})[p]||{})[g]||h._dfltTitle[p]),i.coerceFont(n,"titlefont",{family:m.family,size:Math.round(1.2*m.size),color:x}),a(t,e,n,v),s(t,e,n,v,f),l(t,e,n,f),c(t,e,n,{dfltColor:_,bgColor:f.bgColor,showGrid:f.showGrid,attributes:o}),(e.showline||e.ticks)&&n("mirror"),f.automargin&&n("automargin"),e}},{"../../lib":163,"../../registry":245,"./category_order_defaults":209,"./layout_attributes":217,"./line_grid_defaults":219,"./set_convert":223,"./tick_label_defaults":224,"./tick_mark_defaults":225,"./tick_value_defaults":226}],208:[function(t,e,n){"use strict";var r=t("../../registry"),i=t("./constants");n.id2name=function(t){if("string"==typeof t&&t.match(i.AX_ID_PATTERN)){var e=t.substr(1);return"1"===e&&(e=""),t.charAt(0)+"axis"+e}},n.name2id=function(t){if(t.match(i.AX_NAME_PATTERN)){var e=t.substr(5);return"1"===e&&(e=""),t.charAt(0)+e}},n.cleanId=function(t,e){if(t.match(i.AX_ID_PATTERN)&&(!e||t.charAt(0)===e)){var n=t.substr(1).replace(/^0+/,"");return"1"===n&&(n=""),t.charAt(0)+n}},n.list=function(t,e,r){var i=t._fullLayout;if(!i)return[];var o,a=n.listIds(t,e),l=new Array(a.length);for(o=0;o<a.length;o++){var s=a[o];l[o]=i[s.charAt(0)+"axis"+s.substr(1)]}if(!r){var u=i._subplots.gl3d||[];for(o=0;o<u.length;o++){var c=i[u[o]];e?l.push(c[e+"axis"]):l.push(c.xaxis,c.yaxis,c.zaxis)}}return l},n.listIds=function(t,e){var n=t._fullLayout;if(!n)return[];var r=n._subplots;return e?r[e+"axis"]:r.xaxis.concat(r.yaxis)},n.getFromId=function(t,e,r){var i=t._fullLayout;return"x"===r?e=e.replace(/y[0-9]*/,""):"y"===r&&(e=e.replace(/x[0-9]*/,"")),i[n.id2name(e)]},n.getFromTrace=function(t,e,i){var o=t._fullLayout,a=null;if(r.traceIs(e,"gl3d")){var l=e.scene;"scene"===l.substr(0,5)&&(a=o[l][i+"axis"])}else a=n.getFromId(t,e[i+"axis"]||i);return a},n.idSort=function(t,e){var n=t.charAt(0),r=e.charAt(0);return n!==r?n>r?1:-1:+(t.substr(1)||1)-+(e.substr(1)||1)}},{"../../registry":245,"./constants":210}],209:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){if("category"===e.type){var i,o=t.categoryarray,a=Array.isArray(o)&&o.length>0;a&&(i="array");var l,s=n("categoryorder",i);"array"===s&&(l=n("categoryarray")),a||"array"!==s||(s=e.categoryorder="trace"),"trace"===s?e._initialCategories=[]:"array"===s?e._initialCategories=l.slice():(l=function(t,e){var n,r,i,o=e.dataAttr||t._id.charAt(0),a={};if(e.axData)n=e.axData;else for(n=[],r=0;r<e.data.length;r++){var l=e.data[r];l[o+"axis"]===t._id&&n.push(l)}for(r=0;r<n.length;r++){var s=n[r][o];for(i=0;i<s.length;i++){var u=s[i];null!==u&&void 0!==u&&(a[u]=1)}}return Object.keys(a)}(e,r).sort(),"category ascending"===s?e._initialCategories=l:"category descending"===s&&(e._initialCategories=l.reverse()))}}},{}],210:[function(t,e,n){"use strict";var r=t("../../lib/regex").counter;e.exports={idRegex:{x:r("x"),y:r("y")},attrRegex:r("[xy]axis"),xAxisMatch:r("xaxis"),yAxisMatch:r("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,BENDPX:1.5,REDRAWDELAY:50,SELECTDELAY:100,SELECTID:"-select",DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["heatmaplayer","contourcarpetlayer","contourlayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},{"../../lib/regex":178}],211:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("./axis_ids").id2name;e.exports=function(t,e,n,o,a){var l=a._axisConstraintGroups,s=e._id,u=s.charAt(0);if(!e.fixedrange&&(n("constrain"),r.coerce(t,e,{constraintoward:{valType:"enumerated",values:"x"===u?["left","center","right"]:["bottom","middle","top"],dflt:"x"===u?"center":"middle"}},"constraintoward"),t.scaleanchor)){var c=function(t,e,n,r){var o,a,l,s,u=r[i(e)].type,c=[];for(a=0;a<n.length;a++)(l=n[a])!==e&&((s=r[i(l)]).type!==u||s.fixedrange||c.push(l));for(o=0;o<t.length;o++)if(t[o][e]){var d=t[o],f=[];for(a=0;a<c.length;a++)d[l=c[a]]||f.push(l);return{linkableAxes:f,thisGroup:d}}return{linkableAxes:c,thisGroup:null}}(l,s,o,a),d=r.coerce(t,e,{scaleanchor:{valType:"enumerated",values:c.linkableAxes}},"scaleanchor");if(d){var f=n("scaleratio");f||(f=e.scaleratio=1),function(t,e,n,r,i){var o,a,l,s,u;null===e?((e={})[n]=1,u=t.length,t.push(e)):u=t.indexOf(e);var c=Object.keys(e);for(o=0;o<t.length;o++)if(l=t[o],o!==u&&l[r]){var d=l[r];for(a=0;a<c.length;a++)l[s=c[a]]=d*i*e[s];return void t.splice(u,1)}if(1!==i)for(a=0;a<c.length;a++)e[c[a]]*=i;e[r]=1}(l,c.thisGroup,s,d,f)}else-1!==o.indexOf(t.scaleanchor)&&r.warn("ignored "+e._name+'.scaleanchor: "'+t.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because the targetaxis has fixed range.')}}},{"../../lib":163,"./axis_ids":208}],212:[function(t,e,n){"use strict";var r=t("./axis_ids").id2name,i=t("./scale_zoom"),o=t("./autorange").makePadFn,a=t("../../constants/numerical").ALMOST_EQUAL,l=t("../../constants/alignment").FROM_BL;function s(t,e){var n=t._inputDomain,r=n[0]+(n[1]-n[0])*l[t.constraintoward];t.domain=t._input.domain=[r+(n[0]-r)/e,r+(n[1]-r)/e]}n.enforce=function(t){var e,n,l,u,c,d,f,h=t._fullLayout,p=h._axisConstraintGroups||[];for(e=0;e<p.length;e++){var g=p[e],m=Object.keys(g),y=1/0,v=0,b=1/0,_={},x={},w=!1;for(n=0;n<m.length;n++)x[l=m[n]]=u=h[r(l)],u._inputDomain?u.domain=u._inputDomain.slice():u._inputDomain=u.domain.slice(),u._inputRange||(u._inputRange=u.range.slice()),u.setScale(),_[l]=c=Math.abs(u._m)/g[l],y=Math.min(y,c),"domain"!==u.constrain&&u._constraintShrinkable||(b=Math.min(b,c)),delete u._constraintShrinkable,v=Math.max(v,c),"domain"===u.constrain&&(w=!0);if(!(y>a*v)||w)for(n=0;n<m.length;n++)if(d=(u=x[l=m[n]]).constrain,(c=_[l])!==b||"domain"===d)if(f=c/b,"range"===d)i(u,f);else{var k=u._inputDomain,T=(u.domain[1]-u.domain[0])/(k[1]-k[0]),C=(u.r2l(u.range[1])-u.r2l(u.range[0]))/(u.r2l(u._inputRange[1])-u.r2l(u._inputRange[0]));if((f/=T)*C<1){u.domain=u._input.domain=k.slice(),i(u,f);continue}if(C<1&&(u.range=u._input.range=u._inputRange.slice(),f*=C),u.autorange&&u._min.length&&u._max.length){var A=u.r2l(u.range[0]),M=u.r2l(u.range[1]),S=(A+M)/2,E=S,O=S,P=Math.abs(M-S),I=S-P*f*1.0001,D=S+P*f*1.0001,L=o(u);s(u,f),u.setScale();var R,N,F=Math.abs(u._m);for(N=0;N<u._min.length;N++)(R=u._min[N].val-L(u._min[N])/F)>I&&R<E&&(E=R);for(N=0;N<u._max.length;N++)(R=u._max[N].val+L(u._max[N])/F)<D&&R>O&&(O=R);f/=(O-E)/(2*P),E=u.l2r(E),O=u.l2r(O),u.range=u._input.range=A<M?[E,O]:[O,E]}s(u,f)}}},n.clean=function(t,e){if(e._inputDomain){for(var n=!1,r=e._id,i=t._fullLayout._axisConstraintGroups,o=0;o<i.length;o++)if(i[o][r]){n=!0;break}n&&"domain"===e.constrain||(e._input.domain=e.domain=e._inputDomain,delete e._inputDomain)}}},{"../../constants/alignment":143,"../../constants/numerical":145,"./autorange":204,"./axis_ids":208,"./scale_zoom":221}],213:[function(t,e,n){"use strict";var r=t("d3"),i=t("tinycolor2"),o=t("has-passive-events"),a=t("../../registry"),l=t("../../lib"),s=t("../../lib/svg_text_utils"),u=t("../../lib/clear_gl_canvases"),c=t("../../components/color"),d=t("../../components/drawing"),f=t("../../components/fx"),h=t("../../lib/setcursor"),p=t("../../components/dragelement"),g=t("../../constants/alignment").FROM_TL,m=t("../plots"),y=t("./axes").doTicksSingle,v=t("./axis_ids").getFromId,b=t("./select").prepSelect,_=t("./select").clearSelect,x=t("./scale_zoom"),w=t("./constants"),k=w.MINDRAG,T=w.MINZOOM,C=!0;function A(t,e,n,r){var i=l.ensureSingle(t.draglayer,e,n,function(e){e.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",t.id)});return i.call(h,r),i.node()}function M(t,e,n,i,o,a,l){var s=A(t,"rect",e,n);return r.select(s).call(d.setRect,i,o,a,l),s}function S(t,e){for(var n=0;n<t.length;n++)if(!t[n].fixedrange)return e;return""}function E(t,e,n,r,i){var o,a,l,s;for(o=0;o<t.length;o++)(a=t[o]).fixedrange||(a.range=[a.l2r((l=a._rl[0])+(s=a._rl[1]-l)*e),a.l2r(l+s*n)],r[a._name+".range[0]"]=a.range[0],r[a._name+".range[1]"]=a.range[1]);if(i&&i.length){var u=(e+(1-n))/2;E(i,u,1-u,r)}}function O(t,e){for(var n=0;n<t.length;n++){var r=t[n];r.fixedrange||(r.range=[r.l2r(r._rl[0]-e/r._m),r.l2r(r._rl[1]-e/r._m)])}}function P(t){return 1-(t>=0?Math.min(t,.9):1/(1/Math.max(t,-.3)+3.222))}function I(t,e,n,r,i){return t.append("path").attr("class","zoombox").style({fill:e>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform","translate("+n+", "+r+")").attr("d",i+"Z")}function D(t,e,n){return t.append("path").attr("class","zoombox-corners").style({fill:c.background,stroke:c.defaultLine,"stroke-width":1,opacity:0}).attr("transform","translate("+e+", "+n+")").attr("d","M0,0Z")}function L(t,e,n,r,i,o){t.attr("d",r+"M"+n.l+","+n.t+"v"+n.h+"h"+n.w+"v-"+n.h+"h-"+n.w+"Z"),R(t,e,i,o)}function R(t,e,n,r){n||(t.transition().style("fill",r>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),e.transition().style("opacity",1).duration(200))}function N(t){r.select(t).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function F(t){C&&t.data&&t._context.showTips&&(l.notifier(l._(t,"Double-click to zoom back out"),"long"),C=!1)}function z(t){return"lasso"===t||"select"===t}function j(t){var e=Math.floor(Math.min(t.b-t.t,t.r-t.l,T)/2);return"M"+(t.l-3.5)+","+(t.t-.5+e)+"h3v"+-e+"h"+e+"v-3h-"+(e+3)+"ZM"+(t.r+3.5)+","+(t.t-.5+e)+"h-3v"+-e+"h"+-e+"v-3h"+(e+3)+"ZM"+(t.r+3.5)+","+(t.b+.5-e)+"h-3v"+e+"h"+-e+"v3h"+(e+3)+"ZM"+(t.l-3.5)+","+(t.b+.5-e)+"h3v"+e+"h"+e+"v3h-"+(e+3)+"Z"}function V(t,e){if(o){var n=void 0!==t.onwheel?"wheel":"mousewheel";t._onwheel&&t.removeEventListener(n,t._onwheel),t._onwheel=e,t.addEventListener(n,e,{passive:!1})}else void 0!==t.onwheel?t.onwheel=e:void 0!==t.onmousewheel&&(t.onmousewheel=e)}function B(t){var e=[];for(var n in t)e.push(t[n]);return e}e.exports={makeDragBox:function(t,e,n,o,c,h,C,A){var R,H,q,U,G,W,Y,Z,X,Q,K,$,J,tt,et,nt,rt,it,ot,at,lt,st=t._fullLayout._zoomlayer,ut=C+A==="nsew",ct=1===(C+A).length;function dt(){if(X=(R=e.xaxis)._length,Q=(H=e.yaxis)._length,Y=R._offset,Z=H._offset,(q={})[R._id]=R,(U={})[H._id]=H,C&&A)for(var n=e.overlays,r=0;r<n.length;r++){var i=n[r].xaxis;q[i._id]=i;var o=n[r].yaxis;U[o._id]=o}G=B(q),W=B(U),$=S(G,A),J=S(W,C),tt=!J&&!$,K=function(t,e,n){for(var r,i,o,a,s=t._fullLayout._axisConstraintGroups,u=!1,c={},d={},f=0;f<s.length;f++){var h=s[f];for(r in e)if(h[r]){for(o in h)("x"===o.charAt(0)?e:n)[o]||(c[o]=1);for(i in n)h[i]&&(u=!0)}for(i in n)if(h[i])for(a in h)("x"===a.charAt(0)?e:n)[a]||(d[a]=1)}u&&(l.extendFlat(c,d),d={});var p={},g=[];for(o in c){var m=v(t,o);g.push(m),p[m._id]=m}var y={},b=[];for(a in d){var _=v(t,a);b.push(_),y[_._id]=_}return{xaHash:p,yaHash:y,xaxes:g,yaxes:b,isSubplotConstrained:u}}(t,q,U),et=K.isSubplotConstrained,nt=A||et,rt=C||et;var a=t._fullLayout;it=a._has("scattergl"),at=(ot=a._hasOnlyLargeSploms)||a._has("splom"),lt=a._has("svg")}dt();var ft=function(e,n,r){return e?"nsew"===e?r?"":"pan"===t._fullLayout.dragmode?"move":"crosshair":e.toLowerCase()+"-resize":"pointer"}(J+$,0,ut),ht=M(e,C+A+"drag",ft,n,o,c,h);if(tt&&!ut)return ht.onmousedown=null,ht.style.pointerEvents="none",ht;var pt,gt,mt,yt,vt,bt,_t,xt,wt,kt,Tt={element:ht,gd:t,plotinfo:e};function Ct(){Tt.plotinfo.selection=!1,_(st)}function At(n,i){if(N(t),2!==n||ct||function(){if(!t._transitioningWithDuration){var e,n,r,i=t._context.doubleClick,o=($?G:[]).concat(J?W:[]),l={};if("reset+autosize"===i)for(i="autosize",n=0;n<o.length;n++)if((e=o[n])._rangeInitial&&(e.range[0]!==e._rangeInitial[0]||e.range[1]!==e._rangeInitial[1])||!e._rangeInitial&&!e.autorange){i="reset";break}if("autosize"===i)for(n=0;n<o.length;n++)(e=o[n]).fixedrange||(l[e._name+".autorange"]=!0);else if("reset"===i)for(($||et)&&(o=o.concat(K.xaxes)),J&&!et&&(o=o.concat(K.yaxes)),et&&($?J||(o=o.concat(W)):o=o.concat(G)),n=0;n<o.length;n++)(e=o[n])._rangeInitial?(l[e._name+".range[0]"]=(r=e._rangeInitial)[0],l[e._name+".range[1]"]=r[1]):l[e._name+".autorange"]=!0;t.emit("plotly_doubleclick",null),a.call("relayout",t,l)}}(),ut)f.click(t,i,e.id);else if(1===n&&ct){var o=C?H:R,l="s"===C||"w"===A?0:1,u=o._name+".range["+l+"]",c=function(t,e){var n,i=t.range[e],o=Math.abs(i-t.range[1-e]);return"date"===t.type?i:"log"===t.type?(n=Math.ceil(Math.max(0,-Math.log(o)/Math.LN10))+3,r.format("."+n+"g")(Math.pow(10,i))):(n=Math.floor(Math.log(Math.abs(i))/Math.LN10)-Math.floor(Math.log(o)/Math.LN10)+4,r.format("."+String(n)+"g")(i))}(o,l),d="left",h="middle";if(o.fixedrange)return;C?(h="n"===C?"top":"bottom","right"===o.side&&(d="right")):"e"===A&&(d="right"),t._context.showAxisRangeEntryBoxes&&r.select(ht).call(s.makeEditable,{gd:t,immediate:!0,background:t._fullLayout.paper_bgcolor,text:String(c),fill:o.tickfont?o.tickfont.color:"#444",horizontalAlign:d,verticalAlign:h}).on("edit",function(e){var n=o.d2r(e);void 0!==n&&a.call("relayout",t,u,n)})}}Tt.prepFn=function(e,n,r){var o=t._fullLayout.dragmode;dt(),tt||(ut?e.shiftKey?"pan"===o?o="zoom":z(o)||(o="pan"):e.ctrlKey&&(o="pan"):o="pan"),Tt.minDrag="lasso"===o?1:void 0,z(o)?(Tt.xaxes=G,Tt.yaxes=W,b(e,n,r,Tt,o)):(Tt.clickFn=At,Ct(),tt||("zoom"===o?(Tt.moveFn=St,Tt.doneFn=Et,Tt.minDrag=1,function(e,n,r){var o=ht.getBoundingClientRect();mt={l:pt=n-o.left,r:pt,w:0,t:gt=r-o.top,b:gt,h:0},yt=t._hmpixcount?t._hmlumcount/t._hmpixcount:i(t._fullLayout.plot_bgcolor).getLuminance(),bt=!1,_t="xy",kt=!1,xt=I(st,yt,Y,Z,vt="M0,0H"+X+"V"+Q+"H0V0"),wt=D(st,Y,Z)}(0,n,r)):"pan"===o&&(Tt.moveFn=Nt,Tt.doneFn=zt)))},p.init(Tt);var Mt={};function St(e,n){if(t._transitioningWithDuration)return!1;var r=Math.max(0,Math.min(X,e+pt)),i=Math.max(0,Math.min(Q,n+gt)),o=Math.abs(r-pt),a=Math.abs(i-gt);function l(){_t="",mt.r=mt.l,mt.t=mt.b,wt.attr("d","M0,0Z")}mt.l=Math.min(pt,r),mt.r=Math.max(pt,r),mt.t=Math.min(gt,i),mt.b=Math.max(gt,i),et?o>T||a>T?(_t="xy",o/X>a/Q?(a=o*Q/X,gt>i?mt.t=gt-a:mt.b=gt+a):(o=a*X/Q,pt>r?mt.l=pt-o:mt.r=pt+o),wt.attr("d",j(mt))):l():!J||a<Math.min(Math.max(.6*o,k),T)?o<k?l():(mt.t=0,mt.b=Q,_t="x",wt.attr("d",function(t,e){return"M"+(t.l-.5)+","+(e-T-.5)+"h-3v"+(2*T+1)+"h3ZM"+(t.r+.5)+","+(e-T-.5)+"h3v"+(2*T+1)+"h-3Z"}(mt,gt))):!$||o<Math.min(.6*a,T)?(mt.l=0,mt.r=X,_t="y",wt.attr("d",function(t,e){return"M"+(e-T-.5)+","+(t.t-.5)+"v-3h"+(2*T+1)+"v3ZM"+(e-T-.5)+","+(t.b+.5)+"v3h"+(2*T+1)+"v-3Z"}(mt,pt))):(_t="xy",wt.attr("d",j(mt))),mt.w=mt.r-mt.l,mt.h=mt.b-mt.t,_t&&(kt=!0),t._dragged=kt,L(xt,wt,mt,vt,bt,yt),bt=!0}function Et(){if(Math.min(mt.h,mt.w)<2*k)return N(t);"xy"!==_t&&"x"!==_t||E(G,mt.l/X,mt.r/X,Mt,K.xaxes),"xy"!==_t&&"y"!==_t||E(W,(Q-mt.b)/Q,(Q-mt.t)/Q,Mt,K.yaxes),N(t),zt(),F(t)}var Ot,Pt,It=[0,0,X,Q],Dt=null,Lt=w.REDRAWDELAY,Rt=e.mainplot?t._fullLayout._plots[e.mainplot]:e;function Nt(e,n){if(!t._transitioningWithDuration){if("ew"===$||"ns"===J)return $&&O(G,e),J&&O(W,n),jt([$?-e:0,J?-n:0,X,Q]),void Ft(J,$);if(et&&$&&J){var r="w"===$==("n"===J)?1:-1,i=(e/X+r*n/Q)/2;e=i*X,n=r*i*Q}"w"===$?e=s(G,0,e):"e"===$?e=s(G,1,-e):$||(e=0),"n"===J?n=s(W,1,n):"s"===J?n=s(W,0,-n):J||(n=0);var o="w"===$?e:0,a="n"===J?n:0;if(et){var l;if(!$&&1===J.length){for(l=0;l<G.length;l++)G[l].range=G[l]._r.slice(),x(G[l],1-n/Q);o=(e=n*X/Q)/2}if(!J&&1===$.length){for(l=0;l<W.length;l++)W[l].range=W[l]._r.slice(),x(W[l],1-e/X);a=(n=e*Q/X)/2}}jt([o,a,X-e,Q-n]),Ft(J,$)}function s(t,e,n){for(var r,i,o=1-e,a=0;a<t.length;a++){var l=t[a];if(!l.fixedrange){r=l,i=l._rl[o]+(l._rl[e]-l._rl[o])/P(n/l._length);var s=l.l2r(i);!1!==s&&void 0!==s&&(l.range[e]=s)}}return r._length*(r._rl[e]-i)/(r._rl[e]-r._rl[o])}}function Ft(e,n){var r,i=[];function o(t){for(r=0;r<t.length;r++)t[r].fixedrange||i.push(t[r]._id)}for(nt&&(o(G),o(K.xaxes)),rt&&(o(W),o(K.yaxes)),Mt={},r=0;r<i.length;r++){var l=i[r];y(t,l,!0);var s=v(t,l);Mt[s._name+".range[0]"]=s.range[0],Mt[s._name+".range[1]"]=s.range[1]}function u(o,a,l){for(r=0;r<o.length;r++){var s=o[r];if((n&&-1!==i.indexOf(s.xref)||e&&-1!==i.indexOf(s.yref))&&(a(t,r),l))return}}u(t._fullLayout.annotations||[],a.getComponentMethod("annotations","drawOne")),u(t._fullLayout.shapes||[],a.getComponentMethod("shapes","drawOne")),u(t._fullLayout.images||[],a.getComponentMethod("images","draw"),!0)}function zt(){jt([0,0,X,Q]),l.syncOrAsync([m.previousPromises,function(){a.call("relayout",t,Mt)}],t)}function jt(e){var n,r,i,o,s=t._fullLayout,c=s._plots,f=s._subplots.cartesian;if((at||it)&&u(t),!at||(a.subplotsRegistry.splom.drag(t),!ot)){if(it)for(n=0;n<f.length;n++){i=(r=c[f[n]]).xaxis,o=r.yaxis;var h=r._scene;if(h){var p=l.simpleMap(i.range,i.r2l),g=l.simpleMap(o.range,o.r2l);h.update({range:[p[0],g[0],p[1],g[1]]})}}if(lt){var m=e[2]/R._length,y=e[3]/H._length;for(n=0;n<f.length;n++){i=(r=c[f[n]]).xaxis,o=r.yaxis;var v,b,_,x,w=rt&&!o.fixedrange&&U[o._id];if(nt&&!i.fixedrange&&q[i._id]?(v=m,_=A?e[0]:Ht(i,v)):_=Bt(i,v=Vt(i,m,y)),w?(b=y,x=C?e[1]:Ht(o,b)):x=Bt(o,b=Vt(o,m,y)),v||b){v||(v=1),b||(b=1);var k=i._offset-_/v,T=o._offset-x/b;r.clipRect.call(d.setTranslate,_,x).call(d.setScale,v,b),r.plot.call(d.setTranslate,k,T).call(d.setScale,1/v,1/b),v===Ot&&b===Pt||(d.setPointGroupScale(r.zoomScalePts,v,b),d.setTextPointsScale(r.zoomScaleTxt,v,b)),d.hideOutsideRangePoints(r.clipOnAxisFalseTraces,r),Ot=v,Pt=b}}}}}function Vt(t,e,n){return t.fixedrange?0:nt&&K.xaHash[t._id]?e:rt&&(et?K.xaHash:K.yaHash)[t._id]?n:0}function Bt(t,e){return e?(t.range=t._r.slice(),x(t,e),Ht(t,e)):0}function Ht(t,e){return t._length*(1-e)*g[t.constraintoward||"middle"]}return C.length*A.length!=1&&V(ht,function(e){if(t._context.scrollZoom||t._fullLayout._enablescrollzoom){if(Ct(),t._transitioningWithDuration)return e.preventDefault(),void e.stopPropagation();var n=t.querySelector(".plotly");if(dt(),!(n.scrollHeight-n.clientHeight>10||n.scrollWidth-n.clientWidth>10)){clearTimeout(Dt);var r=-e.deltaY;if(isFinite(r)||(r=e.wheelDelta/10),isFinite(r)){var i,o=Math.exp(-Math.min(Math.max(r,-20),20)/200),a=Rt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),s=(e.clientX-a.left)/a.width,u=(a.bottom-e.clientY)/a.height;if(nt){for(A||(s=.5),i=0;i<G.length;i++)c(G[i],s,o);It[2]*=o,It[0]+=It[2]*s*(1/o-1)}if(rt){for(C||(u=.5),i=0;i<W.length;i++)c(W[i],u,o);It[3]*=o,It[1]+=It[3]*(1-u)*(1/o-1)}return jt(It),Ft(C,A),Dt=setTimeout(function(){It=[0,0,X,Q],zt()},Lt),void e.preventDefault()}l.log("Did not find wheel motion attributes: ",e)}}function c(t,e,n){if(!t.fixedrange){var r=l.simpleMap(t.range,t.r2l),i=r[0]+(r[1]-r[0])*e;t.range=r.map(function(e){return t.l2r(i+(e-i)*n)})}}}),ht},makeDragger:A,makeRectDragger:M,makeZoombox:I,makeCorners:D,updateZoombox:L,xyCorners:j,transitionZoombox:R,removeZoombox:N,showDoubleClickNotifier:F,attachWheelEventHandler:V}},{"../../components/color":43,"../../components/dragelement":65,"../../components/drawing":68,"../../components/fx":85,"../../constants/alignment":143,"../../lib":163,"../../lib/clear_gl_canvases":152,"../../lib/setcursor":182,"../../lib/svg_text_utils":184,"../../registry":245,"../plots":237,"./axes":205,"./axis_ids":208,"./constants":210,"./scale_zoom":221,"./select":222,d3:7,"has-passive-events":13,tinycolor2:25}],214:[function(t,e,n){"use strict";var r=t("d3"),i=t("../../components/fx"),o=t("../../components/dragelement"),a=t("../../lib/setcursor"),l=t("./dragbox").makeDragBox,s=t("./constants").DRAGGERSIZE;n.initInteractions=function(t){var e=t._fullLayout;if(t._context.staticPlot)r.select(t).selectAll(".drag").remove();else if(e._has("cartesian")||e._has("gl2d")||e._has("splom")){Object.keys(e._plots||{}).sort(function(t,n){if((e._plots[t].mainplot&&!0)===(e._plots[n].mainplot&&!0)){var r=t.split("y"),i=n.split("y");return r[0]===i[0]?Number(r[1]||1)-Number(i[1]||1):Number(r[0]||1)-Number(i[0]||1)}return e._plots[t].mainplot?1:-1}).forEach(function(n){var r=e._plots[n],a=r.xaxis,u=r.yaxis;if(!r.mainplot){var c=l(t,r,a._offset,u._offset,a._length,u._length,"ns","ew");c.onmousemove=function(e){t._fullLayout._rehover=function(){t._fullLayout._hoversubplot===n&&i.hover(t,e,n)},i.hover(t,e,n),t._fullLayout._lasthover=c,t._fullLayout._hoversubplot=n},c.onmouseout=function(e){t._dragging||(t._fullLayout._hoversubplot=null,o.unhover(t,e))},t._context.showAxisDragHandles&&(l(t,r,a._offset-s,u._offset-s,s,s,"n","w"),l(t,r,a._offset+a._length,u._offset-s,s,s,"n","e"),l(t,r,a._offset-s,u._offset+u._length,s,s,"s","w"),l(t,r,a._offset+a._length,u._offset+u._length,s,s,"s","e"))}if(t._context.showAxisDragHandles){if(n===a._mainSubplot){var d=a._mainLinePosition;"top"===a.side&&(d-=s),l(t,r,a._offset+.1*a._length,d,.8*a._length,s,"","ew"),l(t,r,a._offset,d,.1*a._length,s,"","w"),l(t,r,a._offset+.9*a._length,d,.1*a._length,s,"","e")}if(n===u._mainSubplot){var f=u._mainLinePosition;"right"!==u.side&&(f-=s),l(t,r,f,u._offset+.1*u._length,s,.8*u._length,"ns",""),l(t,r,f,u._offset+.9*u._length,s,.1*u._length,"s",""),l(t,r,f,u._offset,s,.1*u._length,"n","")}}});var a=e._hoverlayer.node();a.onmousemove=function(n){n.target=t._fullLayout._lasthover,i.hover(t,n,e._hoversubplot)},a.onclick=function(e){e.target=t._fullLayout._lasthover,i.click(t,e)},a.onmousedown=function(e){t._fullLayout._lasthover.onmousedown(e)},n.updateFx(e)}},n.updateFx=function(t){a(t._draggers,"pan"===t.dragmode?"move":"crosshair")}},{"../../components/dragelement":65,"../../components/fx":85,"../../lib/setcursor":182,"./constants":210,"./dragbox":213,d3:7}],215:[function(t,e,n){"use strict";var r=t("../../registry"),i=t("../../lib");e.exports=function(t){return function(e,n){var o=e[t];if(Array.isArray(o))for(var a=r.subplotsRegistry.cartesian,l=a.idRegex,s=n._subplots,u=s.xaxis,c=s.yaxis,d=s.cartesian,f=n._has("cartesian")||n._has("gl2d"),h=0;h<o.length;h++){var p=o[h];if(i.isPlainObject(p)){var g=p.xref,m=p.yref,y=l.x.test(g),v=l.y.test(m);if(y||v){f||i.pushUnique(n._basePlotModules,a);var b=!1;y&&-1===u.indexOf(g)&&(u.push(g),b=!0),v&&-1===c.indexOf(m)&&(c.push(m),b=!0),b&&y&&v&&d.push(g+m)}}}}}},{"../../lib":163,"../../registry":245}],216:[function(t,e,n){"use strict";var r=t("d3"),i=t("../../registry"),o=t("../../lib"),a=t("../plots"),l=t("../../components/drawing"),s=t("../get_data").getModuleCalcData,u=t("./axis_ids"),c=t("./constants"),d=t("../../constants/xmlns_namespaces"),f=o.ensureSingle;function h(t,e,n){return o.ensureSingle(t,e,n,function(t){t.datum(n)})}function p(t,e,n,o,a){for(var u,d,f,h=c.traceLayerClasses,p=t._fullLayout,g=p._modules,m=[],y=[],v=0;v<g.length;v++){var b=(u=g[v]).name,_=i.modules[b].categories;if(_.svg){var x=u.layerName||b+"layer",w=u.plot;n=(d=s(n,w))[1],(f=d[0]).length&&m.push({i:h.indexOf(x),className:x,plotMethod:w,cdModule:f}),_.zoomScale&&y.push("."+x)}}m.sort(function(t,e){return t.i-e.i});var k=e.plot.selectAll("g.mlayer").data(m,function(t){return t.className});if(k.enter().append("g").attr("class",function(t){return t.className}).classed("mlayer",!0),k.exit().remove(),k.order(),k.each(function(n){var i=r.select(this),s=n.className;n.plotMethod(t,e,n.cdModule,i,o,a),"scatterlayer"!==s&&"barlayer"!==s&&l.setClipUrl(i,e.layerClipId)}),p._has("scattergl")&&(u=i.getModule("scattergl"),f=s(n,u)[0],u.plot(t,e,f)),!t._context.staticPlot&&(e._hasClipOnAxisFalse&&(e.clipOnAxisFalseTraces=e.plot.selectAll(".scatterlayer, .barlayer").selectAll(".trace")),y.length)){var T=e.plot.selectAll(y.join(",")).selectAll(".trace");e.zoomScalePts=T.selectAll("path.point"),e.zoomScaleTxt=T.selectAll(".textpoint")}}function g(t,e){var n=e.plotgroup,r=e.id,i=c.layerValue2layerClass[e.xaxis.layer],o=c.layerValue2layerClass[e.yaxis.layer],a=t._fullLayout._hasOnlyLargeSploms;if(e.mainplot){var l=e.mainplotinfo,s=l.plotgroup,d=r+"-x",p=r+"-y";e.gridlayer=l.gridlayer,e.zerolinelayer=l.zerolinelayer,f(l.overlinesBelow,"path",d),f(l.overlinesBelow,"path",p),f(l.overaxesBelow,"g",d),f(l.overaxesBelow,"g",p),e.plot=f(l.overplot,"g",r),f(l.overlinesAbove,"path",d),f(l.overlinesAbove,"path",p),f(l.overaxesAbove,"g",d),f(l.overaxesAbove,"g",p),e.xlines=s.select(".overlines-"+i).select("."+d),e.ylines=s.select(".overlines-"+o).select("."+p),e.xaxislayer=s.select(".overaxes-"+i).select("."+d),e.yaxislayer=s.select(".overaxes-"+o).select("."+p)}else if(a)e.plot=f(n,"g","plot"),e.xlines=f(n,"path","xlines-above"),e.ylines=f(n,"path","ylines-above"),e.xaxislayer=f(n,"g","xaxislayer-above"),e.yaxislayer=f(n,"g","yaxislayer-above");else{var g=f(n,"g","layer-subplot");e.shapelayer=f(g,"g","shapelayer"),e.imagelayer=f(g,"g","imagelayer"),e.gridlayer=f(n,"g","gridlayer"),e.zerolinelayer=f(n,"g","zerolinelayer"),f(n,"path","xlines-below"),f(n,"path","ylines-below"),e.overlinesBelow=f(n,"g","overlines-below"),f(n,"g","xaxislayer-below"),f(n,"g","yaxislayer-below"),e.overaxesBelow=f(n,"g","overaxes-below"),e.plot=f(n,"g","plot"),e.overplot=f(n,"g","overplot"),e.xlines=f(n,"path","xlines-above"),e.ylines=f(n,"path","ylines-above"),e.overlinesAbove=f(n,"g","overlines-above"),f(n,"g","xaxislayer-above"),f(n,"g","yaxislayer-above"),e.overaxesAbove=f(n,"g","overaxes-above"),e.xlines=n.select(".xlines-"+i),e.ylines=n.select(".ylines-"+o),e.xaxislayer=n.select(".xaxislayer-"+i),e.yaxislayer=n.select(".yaxislayer-"+o)}a||(h(e.gridlayer,"g",e.xaxis._id),h(e.gridlayer,"g",e.yaxis._id),e.gridlayer.selectAll("g").sort(u.idSort)),e.xlines.style("fill","none").classed("crisp",!0),e.ylines.style("fill","none").classed("crisp",!0)}function m(t,e){if(t){var n={};for(var i in t.each(function(t){r.select(this).remove(),y(t,e),n[t]=!0}),e._plots)for(var o=e._plots[i].overlays||[],a=0;a<o.length;a++){var l=o[a];n[l.id]&&l.plot.selectAll(".trace").remove()}}}function y(t,e){e._draggers.selectAll("g."+t).remove(),e._defs.select("#clip"+e._uid+t+"plot").remove()}n.name="cartesian",n.attr=["xaxis","yaxis"],n.idRoot=["x","y"],n.idRegex=c.idRegex,n.attrRegex=c.attrRegex,n.attributes=t("./attributes"),n.layoutAttributes=t("./layout_attributes"),n.supplyLayoutDefaults=t("./layout_defaults"),n.transitionAxes=t("./transition_axes"),n.finalizeSubplots=function(t,e){var n,r,i,a=e._subplots,l=a.xaxis,s=a.yaxis,d=a.cartesian,f=d.concat(a.gl2d||[]),h={},p={};for(n=0;n<f.length;n++){var g=f[n].split("y");h[g[0]]=1,p["y"+g[1]]=1}for(n=0;n<l.length;n++)h[r=l[n]]||(i=(t[u.id2name(r)]||{}).anchor,c.idRegex.y.test(i)||(i="y"),d.push(r+i),f.push(r+i),p[i]||(p[i]=1,o.pushUnique(s,i)));for(n=0;n<s.length;n++)p[i=s[n]]||(r=(t[u.id2name(i)]||{}).anchor,c.idRegex.x.test(r)||(r="x"),d.push(r+i),f.push(r+i),h[r]||(h[r]=1,o.pushUnique(l,r)));if(!f.length){for(var m in r="",i="",t)c.attrRegex.test(m)&&("x"===m.charAt(0)?(!r||+m.substr(5)<+r.substr(5))&&(r=m):(!i||+m.substr(5)<+i.substr(5))&&(i=m));r=r?u.name2id(r):"x",i=i?u.name2id(i):"y",l.push(r),s.push(i),d.push(r+i)}},n.plot=function(t,e,n,r){var i,o=t._fullLayout,a=o._subplots.cartesian,l=t.calcdata;if(!Array.isArray(e))for(e=[],i=0;i<l.length;i++)e.push(i);for(i=0;i<a.length;i++){for(var s,u=a[i],c=o._plots[u],d=[],f=0;f<l.length;f++){var h=l[f],g=h[0].trace;g.xaxis+g.yaxis===u&&((-1!==e.indexOf(g.index)||g.carpet)&&(s&&s[0].trace.xaxis+s[0].trace.yaxis===u&&-1!==["tonextx","tonexty","tonext"].indexOf(g.fill)&&-1===d.indexOf(s)&&d.push(s),d.push(h)),s=h)}p(t,c,d,n,r)}},n.clean=function(t,e,n,r){var i,o,a,l=r._plots||{},s=e._plots||{},c=r._subplots||{};if(r._hasOnlyLargeSploms&&!e._hasOnlyLargeSploms)for(a in l)(i=l[a]).plotgroup&&i.plotgroup.remove();var d=r._has&&r._has("gl"),f=e._has&&e._has("gl");if(d&&!f)for(a in l)(i=l[a])._scene&&i._scene.destroy();if(c.xaxis&&c.yaxis){var h=u.listIds({_fullLayout:r});for(o=0;o<h.length;o++){var p=h[o];e[u.id2name(p)]||r._infolayer.selectAll(".g-"+p+"title").remove()}}var g=r._has&&r._has("cartesian"),v=e._has&&e._has("cartesian");if(g&&!v)m(r._cartesianlayer.selectAll(".subplot"),r),r._defs.selectAll(".axesclip").remove(),delete r._axisConstraintGroups;else if(c.cartesian)for(o=0;o<c.cartesian.length;o++){var b=c.cartesian[o];s[b]||(r._cartesianlayer.selectAll("."+b+",."+b+"-x,."+b+"-y").remove(),y(b,r))}},n.drawFramework=function(t){var e=t._fullLayout,n=function(t){var e=t._fullLayout,n=[],r=[];for(var i in e._plots){var o=e._plots[i],a=o.xaxis._mainAxis._id+o.yaxis._mainAxis._id;a!==i&&e._plots[a]?(o.mainplot=a,o.mainplotinfo=e._plots[a],r.push(i)):(n.push(i),o.mainplot=void 0)}return n.concat(r)}(t),i=e._cartesianlayer.selectAll(".subplot").data(n,o.identity);i.enter().append("g").attr("class",function(t){return"subplot "+t}),i.order(),i.exit().call(m,e),i.each(function(n){var i=e._plots[n];i.plotgroup=r.select(this),i.overlays=[],g(t,i),i.mainplot&&e._plots[i.mainplot].overlays.push(i),i.draglayer=f(e._draggers,"g",n)})},n.rangePlot=function(t,e,n){g(t,e),p(t,e,n),a.style(t)},n.toSVG=function(t){var e=t._fullLayout._glimages,n=r.select(t).selectAll(".svg-container");n.filter(function(t,e){return e===n.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var t=this.toDataURL("image/png");e.append("svg:image").attr({xmlns:d.svg,"xlink:href":t,preserveAspectRatio:"none",x:0,y:0,width:this.width,height:this.height})})},n.updateFx=t("./graph_interact").updateFx},{"../../components/drawing":68,"../../constants/xmlns_namespaces":147,"../../lib":163,"../../registry":245,"../get_data":233,"../plots":237,"./attributes":203,"./axis_ids":208,"./constants":210,"./graph_interact":214,"./layout_attributes":217,"./layout_defaults":218,"./transition_axes":227,d3:7}],217:[function(t,e,n){"use strict";var r=t("../font_attributes"),i=t("../../components/color/attributes"),o=t("../../components/drawing/attributes").dash,a=t("../../lib/extend").extendFlat,l=t("./constants");e.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:i.defaultLine,editType:"ticks"},title:{valType:"string",editType:"ticks+margins"},titlefont:r({editType:"ticks+margins"}),type:{valType:"enumerated",values:["-","linear","log","date","category"],dflt:"-",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange+margins",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"axrange+margins",impliedEdits:{"^autorange":!1}}],editType:"axrange+margins",impliedEdits:{autorange:!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[l.idRegex.x.toString(),l.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],dflt:"range",editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},tickmode:{valType:"enumerated",values:["auto","linear","array"],editType:"ticks+margins",impliedEdits:{tick0:void 0,dtick:void 0}},nticks:{valType:"integer",min:0,dflt:0,editType:"ticks+margins"},tick0:{valType:"any",editType:"ticks+margins",impliedEdits:{tickmode:"linear"}},dtick:{valType:"any",editType:"ticks+margins",impliedEdits:{tickmode:"linear"}},tickvals:{valType:"data_array",editType:"ticks+margins"},ticktext:{valType:"data_array",editType:"ticks+margins"},ticks:{valType:"enumerated",values:["outside","inside",""],editType:"ticks+margins"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:{valType:"number",min:0,dflt:5,editType:"ticks"},tickwidth:{valType:"number",min:0,dflt:1,editType:"ticks"},tickcolor:{valType:"color",dflt:i.defaultLine,editType:"ticks"},showticklabels:{valType:"boolean",dflt:!0,editType:"ticks+margins"},automargin:{valType:"boolean",dflt:!1,editType:"ticks+margins"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:a({},o,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor"],dflt:"data",editType:"none"},tickfont:r({editType:"ticks+margins"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks+margins"},tickprefix:{valType:"string",dflt:"",editType:"ticks+margins"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks+margins"},ticksuffix:{valType:"string",dflt:"",editType:"ticks+margins"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks+margins"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks+margins"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks+margins"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks+margins"},tickformat:{valType:"string",dflt:"",editType:"ticks+margins"},tickformatstops:{_isLinkedToArray:"tickformatstop",dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks+margins"},{valType:"any",editType:"ticks+margins"}],editType:"ticks+margins"},value:{valType:"string",dflt:"",editType:"ticks+margins"},editType:"ticks+margins"},hoverformat:{valType:"string",dflt:"",editType:"none"},showline:{valType:"boolean",dflt:!1,editType:"layoutstyle"},linecolor:{valType:"color",dflt:i.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:{valType:"boolean",editType:"ticks"},gridcolor:{valType:"color",dflt:i.lightLine,editType:"ticks"},gridwidth:{valType:"number",min:0,dflt:1,editType:"ticks"},zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:i.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",l.idRegex.x.toString(),l.idRegex.y.toString()],editType:"plot+margins"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot+margins"},overlaying:{valType:"enumerated",values:["free",l.idRegex.x.toString(),l.idRegex.y.toString()],editType:"plot"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot+margins"},{valType:"number",min:0,max:1,editType:"plot+margins"}],dflt:[0,1],editType:"plot+margins"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot+margins"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks+margins"}}}},{"../../components/color/attributes":42,"../../components/drawing/attributes":67,"../../lib/extend":157,"../font_attributes":231,"./constants":210}],218:[function(t,e,n){"use strict";var r=t("../../registry"),i=t("../../lib"),o=t("../../components/color"),a=t("../layout_attributes"),l=t("./layout_attributes"),s=t("./type_defaults"),u=t("./axis_defaults"),c=t("./constraint_defaults"),d=t("./position_defaults"),f=t("./axis_ids");e.exports=function(t,e,n){var h,p={},g={},m={},y={};for(h=0;h<n.length;h++){var v=n[h];if(r.traceIs(v,"cartesian")||r.traceIs(v,"gl2d")){var b=f.id2name(v.xaxis),_=f.id2name(v.yaxis);r.traceIs(v,"carpet")&&("carpet"!==v.type||v._cheater)||b&&(g[b]=1),"carpet"===v.type&&v._cheater&&b&&(p[b]=1),r.traceIs(v,"2dMap")&&(m[b]=!0,m[_]=!0),r.traceIs(v,"oriented")&&(y["h"===v.orientation?_:b]=!0)}}var x=e._subplots,w=x.xaxis,k=x.yaxis,T=i.simpleMap(w,f.id2name),C=i.simpleMap(k,f.id2name),A=T.concat(C),M=o.background;w.length&&k.length&&(M=i.coerce(t,e,a,"plot_bgcolor"));var S,E,O,P,I=o.combine(M,e.paper_bgcolor);function D(t,e){return i.coerce(O,P,l,t,e)}function L(t,e){return i.coerce2(O,P,l,t,e)}function R(t){return"x"===t?k:w}var N={x:R("x"),y:R("y")};function F(e,n){for(var r="x"===e?T:C,i=[],o=0;o<r.length;o++){var a=r[o];a===n||(t[a]||{}).overlaying||i.push(f.name2id(a))}return i}for(h=0;h<A.length;h++){i.isPlainObject(t[S=A[h]])||(t[S]={}),O=t[S],P=e[S]={},s(O,P,D,n,S);var z=F(E=S.charAt(0),S);u(O,P,D,{letter:E,font:e.font,outerTicks:m[S],showGrid:!y[S],data:n,bgColor:I,calendar:e.calendar,automargin:!0,cheateronly:"x"===E&&p[S]&&!g[S]},e);var j=L("spikecolor"),V=L("spikethickness"),B=L("spikedash"),H=L("spikemode"),q=L("spikesnap");D("showspikes",!!(j||V||B||H||q))||(delete P.spikecolor,delete P.spikethickness,delete P.spikedash,delete P.spikemode,delete P.spikesnap),d(O,P,D,{letter:E,counterAxes:N[E],overlayableAxes:z,grid:e.grid}),P._input=O}var U=r.getComponentMethod("rangeslider","handleDefaults"),G=r.getComponentMethod("rangeselector","handleDefaults");for(h=0;h<T.length;h++)O=t[S=T[h]],P=e[S],U(t,e,S),"date"===P.type&&G(O,P,e,C,P.calendar),D("fixedrange");for(h=0;h<C.length;h++){O=t[S=C[h]];var W=e[f.id2name((P=e[S]).anchor)];D("fixedrange",W&&W.rangeslider&&W.rangeslider.visible)}e._axisConstraintGroups=[];var Y=N.x.concat(N.y);for(h=0;h<A.length;h++)E=(S=A[h]).charAt(0),c(O=t[S],P=e[S],D,Y,e)}},{"../../components/color":43,"../../lib":163,"../../registry":245,"../layout_attributes":235,"./axis_defaults":207,"./axis_ids":208,"./constraint_defaults":211,"./layout_attributes":217,"./position_defaults":220,"./type_defaults":228}],219:[function(t,e,n){"use strict";var r=t("tinycolor2").mix,i=t("../../components/color/attributes").lightFraction,o=t("../../lib");e.exports=function(t,e,n,a){var l=(a=a||{}).dfltColor;function s(n,r){return o.coerce2(t,e,a.attributes,n,r)}var u=s("linecolor",l),c=s("linewidth");n("showline",a.showLine||!!u||!!c)||(delete e.linecolor,delete e.linewidth);var d=s("gridcolor",r(l,a.bgColor,a.blend||i).toRgbString()),f=s("gridwidth");if(n("showgrid",a.showGrid||!!d||!!f)||(delete e.gridcolor,delete e.gridwidth),!a.noZeroLine){var h=s("zerolinecolor",l),p=s("zerolinewidth");n("zeroline",a.showGrid||!!h||!!p)||(delete e.zerolinecolor,delete e.zerolinewidth)}}},{"../../components/color/attributes":42,"../../lib":163,tinycolor2:25}],220:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("../../lib");e.exports=function(t,e,n,o){var a,l,s,u,c=o.counterAxes||[],d=o.overlayableAxes||[],f=o.letter,h=o.grid;h&&(a=h._anchors[e._id],(l=h._domains[f][h._axisMap[e._id]])&&(s=h[f+"side"].split(" ")[0],u=h.domain[f]["right"===s||"top"===s?1:0])),l=l||[0,1],a=a||(r(t.position)?"free":c[0]||"free"),s=s||("x"===f?"bottom":"left"),u=u||0,"free"===i.coerce(t,e,{anchor:{valType:"enumerated",values:["free"].concat(c),dflt:a}},"anchor")&&n("position",u),i.coerce(t,e,{side:{valType:"enumerated",values:"x"===f?["bottom","top"]:["left","right"],dflt:s}},"side");var p=!1;if(d.length&&(p=i.coerce(t,e,{overlaying:{valType:"enumerated",values:[!1].concat(d),dflt:!1}},"overlaying")),!p){var g=n("domain",l);g[0]>g[1]-.01&&(e.domain=l),i.noneOrAll(t.domain,e.domain,l)}return n("layer"),e}},{"../../lib":163,"fast-isnumeric":10}],221:[function(t,e,n){"use strict";var r=t("../../constants/alignment").FROM_BL;e.exports=function(t,e,n){void 0===n&&(n=r[t.constraintoward||"center"]);var i=[t.r2l(t.range[0]),t.r2l(t.range[1])],o=i[0]+(i[1]-i[0])*n;t.range=t._input.range=[t.l2r(o+(i[0]-o)*e),t.l2r(o+(i[1]-o)*e)]}},{"../../constants/alignment":143}],222:[function(t,e,n){"use strict";var r=t("polybooljs"),i=t("../../registry"),o=t("../../components/color"),a=t("../../components/fx"),l=t("../../lib/polygon"),s=t("../../lib/throttle"),u=t("../../components/fx/helpers").makeEventData,c=t("./axis_ids").getFromId,d=t("../sort_modules").sortModules,f=t("./constants"),h=f.MINSELECT,p=l.filter,g=l.tester,m=l.multitester;function y(t){return t._id}function v(t,e,n){var r,o,a,l;if(n){var s=n.points||[];for(r=0;r<e.length;r++)(l=e[r].cd[0].trace).selectedpoints=[],l._input.selectedpoints=[];for(r=0;r<s.length;r++){var u=s[r],c=u.data,f=u.fullData;u.pointIndices?([].push.apply(c.selectedpoints,u.pointIndices),[].push.apply(f.selectedpoints,u.pointIndices)):(c.selectedpoints.push(u.pointIndex),f.selectedpoints.push(u.pointIndex))}}else for(r=0;r<e.length;r++)delete(l=e[r].cd[0].trace).selectedpoints,delete l._input.selectedpoints;var h={};for(r=0;r<e.length;r++){var p=(a=e[r])._module.name;h[p]?h[p].push(a):h[p]=[a]}var g=Object.keys(h).sort(d);for(r=0;r<g.length;r++){var m=h[g[r]],y=m.length,v=m[0],b=v._module,_=b.styleOnSelect||b.style;if(i.traceIs(v.cd[0].trace,"regl")){var x=new Array(y);for(o=0;o<y;o++)x[o]=m[o].cd;_(t,x)}else for(o=0;o<y;o++)_(t,m[o].cd)}}function b(t,e){if(Array.isArray(t))for(var n=e.cd,r=e.cd[0].trace,i=0;i<t.length;i++)t[i]=u(t[i],r,n);return t}function _(t){t.selectAll(".select-outline").remove()}e.exports={prepSelect:function(t,e,n,i,l){var u,d,x,w,k,T,C,A,M,S=i.gd,E=S._fullLayout,O=E._zoomlayer,P=i.element.getBoundingClientRect(),I=i.plotinfo,D=I.xaxis._offset,L=I.yaxis._offset,R=e-P.left,N=n-P.top,F=R,z=N,j="M"+R+","+N,V=i.xaxes[0]._length,B=i.yaxes[0]._length,H=i.xaxes.map(y),q=i.yaxes.map(y),U=i.xaxes.concat(i.yaxes),G=t.altKey,W=E._lastSelectedSubplot&&E._lastSelectedSubplot===I.id;W&&(t.shiftKey||t.altKey)&&I.selection&&I.selection.polygons&&!i.polygons?(i.polygons=I.selection.polygons,i.mergedPolygons=I.selection.mergedPolygons):(!t.shiftKey&&!t.altKey||(t.shiftKey||t.altKey)&&!I.selection)&&(I.selection={},I.selection.polygons=i.polygons=[],I.selection.mergedPolygons=i.mergedPolygons=[]),W||(_(O),E._lastSelectedSubplot=I.id),"lasso"===l&&(u=p([[R,N]],f.BENDPX));var Y=O.selectAll("path.select-outline-"+I.id).data([1,2]);Y.enter().append("path").attr("class",function(t){return"select-outline select-outline-"+t+" select-outline-"+I.id}).attr("transform","translate("+D+", "+L+")").attr("d",j+"Z");var Z,X=O.append("path").attr("class","zoombox-corners").style({fill:o.background,stroke:o.defaultLine,"stroke-width":1}).attr("transform","translate("+D+", "+L+")").attr("d","M0,0Z"),Q=[],K=E._uid+f.SELECTID,$=[];for(k=0;k<S.calcdata.length;k++)if(!0===(C=(T=S.calcdata[k])[0].trace).visible&&C._module&&C._module.selectPoints)if(i.subplot)C.subplot!==i.subplot&&C.geo!==i.subplot||Q.push({_module:C._module,cd:T,xaxis:i.xaxes[0],yaxis:i.yaxes[0]});else if("splom"===C.type&&C._xaxes[H[0]]&&C._yaxes[q[0]])Q.push({_module:C._module,cd:T,xaxis:i.xaxes[0],yaxis:i.yaxes[0]});else{if(-1===H.indexOf(C.xaxis))continue;if(-1===q.indexOf(C.yaxis))continue;Q.push({_module:C._module,cd:T,xaxis:c(S,C.xaxis),yaxis:c(S,C.yaxis)})}function J(t){var e="y"===t._id.charAt(0)?1:0;return function(n){return t.p2d(n[e])}}function tt(t,e){return t-e}Z=I.fillRangeItems?I.fillRangeItems:"select"===l?function(t,e){var n=t.range={};for(k=0;k<U.length;k++){var r=U[k],i=r._id.charAt(0);n[r._id]=[r.p2d(e[i+"min"]),r.p2d(e[i+"max"])].sort(tt)}}:function(t,e,n){var r=t.lassoPoints={};for(k=0;k<U.length;k++){var i=U[k];r[i._id]=n.filtered.map(J(i))}},i.moveFn=function(t,e){F=Math.max(0,Math.min(V,t+R)),z=Math.max(0,Math.min(B,e+N));var n,o=Math.abs(F-R),a=Math.abs(z-N);"select"===l?"h"===(n="any"===E.selectdirection?a<Math.min(.6*o,h)?"h":o<Math.min(.6*a,h)?"v":"d":E.selectdirection)?((w=[[R,0],[R,B],[F,B],[F,0]]).xmin=Math.min(R,F),w.xmax=Math.max(R,F),w.ymin=Math.min(0,B),w.ymax=Math.max(0,B),X.attr("d","M"+w.xmin+","+(N-h)+"h-4v"+2*h+"h4ZM"+(w.xmax-1)+","+(N-h)+"h4v"+2*h+"h-4Z")):"v"===n?((w=[[0,N],[0,z],[V,z],[V,N]]).xmin=Math.min(0,V),w.xmax=Math.max(0,V),w.ymin=Math.min(N,z),w.ymax=Math.max(N,z),X.attr("d","M"+(R-h)+","+w.ymin+"v-4h"+2*h+"v4ZM"+(R-h)+","+(w.ymax-1)+"v4h"+2*h+"v-4Z")):"d"===n&&((w=[[R,N],[R,z],[F,z],[F,N]]).xmin=Math.min(R,F),w.xmax=Math.max(R,F),w.ymin=Math.min(N,z),w.ymax=Math.max(N,z),X.attr("d","M0,0Z")):"lasso"===l&&(u.addPt([F,z]),w=u.filtered);i.polygons&&i.polygons.length?(x=function(t,e,n){return n?r.difference({regions:t,inverted:!1},{regions:[e],inverted:!1}).regions:r.union({regions:t,inverted:!1},{regions:[e],inverted:!1}).regions}(i.mergedPolygons,w,G),w.subtract=G,d=m(i.polygons.concat([w]))):(x=[w],d=g(w));var c=[];for(k=0;k<x.length;k++){var p=x[k];c.push(p.join("L")+"L"+p[0])}Y.attr("d","M"+c.join("M")+"Z"),s.throttle(K,f.SELECTDELAY,function(){$=[];var t,e,n=[];for(k=0;k<Q.length;k++)if(e=(A=Q[k])._module.selectPoints(A,d),n.push(e),t=b(e,A),$.length)for(var r=0;r<t.length;r++)$.push(t[r]);else $=t;v(S,Q,M={points:$}),Z(M,w,u),i.gd.emit("plotly_selecting",M)})},i.clickFn=function(t,e){X.remove(),s.done(K).then(function(){if(s.clear(K),2===t){for(Y.remove(),k=0;k<Q.length;k++)(A=Q[k])._module.selectPoints(A,!1);v(S,Q),S.emit("plotly_deselect",null)}else S.emit("plotly_selected",void 0);a.click(S,e)})},i.doneFn=function(){X.remove(),s.done(K).then(function(){s.clear(K),i.gd.emit("plotly_selected",M),w&&i.polygons&&(w.subtract=G,i.polygons.push(w),i.mergedPolygons.length=0,[].push.apply(i.mergedPolygons,x))})}},clearSelect:_}},{"../../components/color":43,"../../components/fx":85,"../../components/fx/helpers":82,"../../lib/polygon":175,"../../lib/throttle":185,"../../registry":245,"../sort_modules":244,"./axis_ids":208,"./constants":210,polybooljs:16}],223:[function(t,e,n){"use strict";var r=t("d3"),i=t("fast-isnumeric"),o=t("../../lib"),a=o.cleanNumber,l=o.ms2DateTime,s=o.dateTime2ms,u=o.ensureNumber,c=t("../../constants/numerical"),d=c.FP_SAFE,f=c.BADNUM,h=t("./constants"),p=t("./axis_ids");function g(t){return Math.pow(10,t)}e.exports=function(t,e){e=e||{};var n=(t._id||"x").charAt(0),c=10;function m(e,n){if(e>0)return Math.log(e)/Math.LN10;if(e<=0&&n&&t.range&&2===t.range.length){var r=t.range[0],i=t.range[1];return.5*(r+i-3*c*Math.abs(r-i))}return f}function y(e,n,r){var o=s(e,r||t.calendar);if(o===f){if(!i(e))return f;o=s(new Date(+e))}return o}function v(e,n,r){return l(e,n,r||t.calendar)}function b(e){return t._categories[Math.round(e)]}function _(e){if(t._categoriesMap){var n=t._categoriesMap[e];if(void 0!==n)return n}if(i(e))return+e}function x(e){return i(e)?r.round(t._b+t._m*e,2):f}function w(e){return(e-t._b)/t._m}t.c2l="log"===t.type?m:u,t.l2c="log"===t.type?g:u,t.l2p=x,t.p2l=w,t.c2p="log"===t.type?function(t,e){return x(m(t,e))}:x,t.p2c="log"===t.type?function(t){return g(w(t))}:w,-1!==["linear","-"].indexOf(t.type)?(t.d2r=t.r2d=t.d2c=t.r2c=t.d2l=t.r2l=a,t.c2d=t.c2r=t.l2d=t.l2r=u,t.d2p=t.r2p=function(e){return t.l2p(a(e))},t.p2d=t.p2r=w,t.cleanPos=u):"log"===t.type?(t.d2r=t.d2l=function(t,e){return m(a(t),e)},t.r2d=t.r2c=function(t){return g(a(t))},t.d2c=t.r2l=a,t.c2d=t.l2r=u,t.c2r=m,t.l2d=g,t.d2p=function(e,n){return t.l2p(t.d2r(e,n))},t.p2d=function(t){return g(w(t))},t.r2p=function(e){return t.l2p(a(e))},t.p2r=w,t.cleanPos=u):"date"===t.type?(t.d2r=t.r2d=o.identity,t.d2c=t.r2c=t.d2l=t.r2l=y,t.c2d=t.c2r=t.l2d=t.l2r=v,t.d2p=t.r2p=function(e,n,r){return t.l2p(y(e,0,r))},t.p2d=t.p2r=function(t,e,n){return v(w(t),e,n)},t.cleanPos=function(e){return o.cleanDate(e,f,t.calendar)}):"category"===t.type&&(t.d2c=t.d2l=function(e){if(null!==e&&void 0!==e){if(void 0===t._categoriesMap&&(t._categoriesMap={}),void 0!==t._categoriesMap[e])return t._categoriesMap[e];t._categories.push(e);var n=t._categories.length-1;return t._categoriesMap[e]=n,n}return f},t.r2d=t.c2d=t.l2d=b,t.d2r=t.d2l_noadd=_,t.r2c=function(e){var n=_(e);return void 0!==n?n:t.fraction2r(.5)},t.l2r=t.c2r=u,t.r2l=_,t.d2p=function(e){return t.l2p(t.r2c(e))},t.p2d=function(t){return b(w(t))},t.r2p=t.d2p,t.p2r=w,t.cleanPos=function(t){return"string"==typeof t&&""!==t?t:u(t)}),t.fraction2r=function(e){var n=t.r2l(t.range[0]),r=t.r2l(t.range[1]);return t.l2r(n+e*(r-n))},t.r2fraction=function(e){var n=t.r2l(t.range[0]),r=t.r2l(t.range[1]);return(t.r2l(e)-n)/(r-n)},t.cleanRange=function(e,r){r||(r={}),e||(e="range");var a,l,s=o.nestedProperty(t,e).get();if(l=(l="date"===t.type?o.dfltRange(t.calendar):"y"===n?h.DFLTRANGEY:r.dfltRange||h.DFLTRANGEX).slice(),s&&2===s.length)for("date"===t.type&&(s[0]=o.cleanDate(s[0],f,t.calendar),s[1]=o.cleanDate(s[1],f,t.calendar)),a=0;a<2;a++)if("date"===t.type){if(!o.isDateTime(s[a],t.calendar)){t[e]=l;break}if(t.r2l(s[0])===t.r2l(s[1])){var u=o.constrain(t.r2l(s[0]),o.MIN_MS+1e3,o.MAX_MS-1e3);s[0]=t.l2r(u-1e3),s[1]=t.l2r(u+1e3);break}}else{if(!i(s[a])){if(!i(s[1-a])){t[e]=l;break}s[a]=s[1-a]*(a?10:.1)}if(s[a]<-d?s[a]=-d:s[a]>d&&(s[a]=d),s[0]===s[1]){var c=Math.max(1,Math.abs(1e-6*s[0]));s[0]-=c,s[1]+=c}}else o.nestedProperty(t,e).set(l)},t.setScale=function(r){var i=e._size;if(t._categories||(t._categories=[]),t._categoriesMap||(t._categoriesMap={}),t.overlaying){var o=p.getFromId({_fullLayout:e},t.overlaying);t.domain=o.domain}var a=r&&t._r?"_r":"range",l=t.calendar;t.cleanRange(a);var s=t.r2l(t[a][0],l),u=t.r2l(t[a][1],l);if("y"===n?(t._offset=i.t+(1-t.domain[1])*i.h,t._length=i.h*(t.domain[1]-t.domain[0]),t._m=t._length/(s-u),t._b=-t._m*u):(t._offset=i.l+t.domain[0]*i.w,t._length=i.w*(t.domain[1]-t.domain[0]),t._m=t._length/(u-s),t._b=-t._m*s),!isFinite(t._m)||!isFinite(t._b))throw e._replotting=!1,new Error("Something went wrong with axis scaling")},t.makeCalcdata=function(e,n){var r,i,a,l,s=t.type,u="date"===s&&e[n+"calendar"];if(n in e){if(r=e[n],l=e._length||r.length,o.isTypedArray(r)&&("linear"===s||"log"===s)){if(l===r.length)return r;if(r.subarray)return r.subarray(0,l)}for(i=new Array(l),a=0;a<l;a++)i[a]=t.d2c(r[a],0,u)}else{var c=n+"0"in e?t.d2c(e[n+"0"],0,u):0,d=e["d"+n]?Number(e["d"+n]):1;for(r=e[{x:"y",y:"x"}[n]],l=e._length||r.length,i=new Array(l),a=0;a<l;a++)i[a]=c+a*d}return i},t.isValidRange=function(e){return Array.isArray(e)&&2===e.length&&i(t.r2l(e[0]))&&i(t.r2l(e[1]))},t.isPtWithinRange=function(e,r){var i=t.c2l(e[n],null,r),o=t.r2l(t.range[0]),a=t.r2l(t.range[1]);return o<a?o<=i&&i<=a:a<=i&&i<=o},t.clearCalc=function(){t._min=[],t._max=[],t._categories=(t._initialCategories||[]).slice(),t._categoriesMap={};for(var e=0;e<t._categories.length;e++)t._categoriesMap[t._categories[e]]=e};var k=e._d3locale;"date"===t.type&&(t._dateFormat=k?k.timeFormat.utc:r.time.format.utc,t._extraFormat=e._extraFormat),t._separators=e.separators,t._numFormat=k?k.numberFormat:r.format,delete t._minDtick,delete t._forceTick0}},{"../../constants/numerical":145,"../../lib":163,"./axis_ids":208,"./constants":210,d3:7,"fast-isnumeric":10}],224:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("./layout_attributes");e.exports=function(t,e,n,o,a){var l=function(t){var e=["showexponent","showtickprefix","showticksuffix"].filter(function(e){return void 0!==t[e]});if(e.every(function(n){return t[n]===t[e[0]]})||1===e.length)return t[e[0]]}(t);if(n("tickprefix")&&n("showtickprefix",l),n("ticksuffix",a.tickSuffixDflt)&&n("showticksuffix",l),n("showticklabels")){var s=a.font||{};if(r.coerceFont(n,"tickfont",{family:s.family,size:s.size,color:e.color===t.color?e.color:s.color}),n("tickangle"),"category"!==o){var u=n("tickformat");!function(n,o){var a,l,s=t.tickformatstops,u=e.tickformatstops=[];if(Array.isArray(s))for(var c=0;c<s.length;c++)a=s[c],l={},d("dtickrange"),d("value"),u.push(l);function d(t,e){return r.coerce(a,l,i.tickformatstops,t,e)}}(),u||"date"===o||(n("showexponent",l),n("exponentformat"),n("separatethousands"))}}}},{"../../lib":163,"./layout_attributes":217}],225:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("./layout_attributes");e.exports=function(t,e,n,o){var a=r.coerce2(t,e,i,"ticklen"),l=r.coerce2(t,e,i,"tickwidth"),s=r.coerce2(t,e,i,"tickcolor",e.color);n("ticks",o.outerTicks||a||l||s?"outside":"")||(delete e.ticklen,delete e.tickwidth,delete e.tickcolor)}},{"../../lib":163,"./layout_attributes":217}],226:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("../../lib"),o=t("../../constants/numerical").ONEDAY;e.exports=function(t,e,n,a){var l="auto";"array"!==t.tickmode||"log"!==a&&"date"!==a||(t.tickmode="auto"),Array.isArray(t.tickvals)?l="array":t.dtick&&(l="linear");var s=n("tickmode",l);if("auto"===s)n("nticks");else if("linear"===s){var u="date"===a?o:1,c=n("dtick",u);if(r(c))e.dtick=c>0?Number(c):u;else if("string"!=typeof c)e.dtick=u;else{var d=c.charAt(0),f=c.substr(1);((f=r(f)?Number(f):0)<=0||!("date"===a&&"M"===d&&f===Math.round(f)||"log"===a&&"L"===d||"log"===a&&"D"===d&&(1===f||2===f)))&&(e.dtick=u)}var h="date"===a?i.dateTick0(e.calendar):0,p=n("tick0",h);e.tick0="date"===a?i.cleanDate(p,h):r(p)&&"D1"!==c&&"D2"!==c?Number(p):h}else void 0===n("tickvals")?e.tickmode="auto":n("ticktext")}},{"../../constants/numerical":145,"../../lib":163,"fast-isnumeric":10}],227:[function(t,e,n){"use strict";var r=t("d3"),i=t("../../registry"),o=t("../../components/drawing"),a=t("./axes"),l=t("./constants").attrRegex;e.exports=function(t,e,n,s){var u,c,d,f,h=t._fullLayout,p=[],g=function(t){var e,n,r,i,o={};for(e in t)if((n=e.split("."))[0].match(l)){var a=e.charAt(0),s=n[0];if(r=h[s],i={},Array.isArray(t[e])?i.to=t[e].slice(0):Array.isArray(t[e].range)&&(i.to=t[e].range.slice(0)),!i.to)continue;i.axisName=s,i.length=r._length,p.push(a),o[a]=i}return o}(e),m=Object.keys(g),y=function(t,e,n){var r,i,o,a=t._plots,l=[];for(r in a){var s=a[r];if(-1===l.indexOf(s)){var u=s.xaxis._id,c=s.yaxis._id,d=s.xaxis.range,f=s.yaxis.range;s.xaxis._r=s.xaxis.range.slice(),s.yaxis._r=s.yaxis.range.slice(),i=n[u]?n[u].to:d,o=n[c]?n[c].to:f,d[0]===i[0]&&d[1]===i[1]&&f[0]===o[0]&&f[1]===o[1]||-1===e.indexOf(u)&&-1===e.indexOf(c)||l.push(s)}}return l}(h,m,g);if(!y.length)return function(){function e(e,n,r){for(var i=0;i<e.length;i++)if(n(t,i),r)return}e(h.annotations||[],i.getComponentMethod("annotations","drawOne")),e(h.shapes||[],i.getComponentMethod("shapes","drawOne")),e(h.images||[],i.getComponentMethod("images","draw"),!0)}(),!1;function v(t){var e=t.xaxis,n=t.yaxis;h._defs.select("#"+t.clipId+"> rect").call(o.setTranslate,0,0).call(o.setScale,1,1),t.plot.call(o.setTranslate,e._offset,n._offset).call(o.setScale,1,1);var r=t.plot.selectAll(".scatterlayer .trace");r.selectAll(".point").call(o.setPointGroupScale,1,1),r.selectAll(".textpoint").call(o.setTextPointsScale,1,1),r.call(o.hideOutsideRangePoints,t)}function b(e,n){var r,l,s,u=g[e.xaxis._id],c=g[e.yaxis._id],d=[];if(u){d[0]=((l=(r=t._fullLayout[u.axisName])._r)[0]*(1-n)+n*(s=u.to)[0]-l[0])/(l[1]-l[0])*e.xaxis._length;var f=l[1]-l[0],p=s[1]-s[0];r.range[0]=l[0]*(1-n)+n*s[0],r.range[1]=l[1]*(1-n)+n*s[1],d[2]=e.xaxis._length*(1-n+n*p/f)}else d[0]=0,d[2]=e.xaxis._length;if(c){d[1]=((l=(r=t._fullLayout[c.axisName])._r)[1]*(1-n)+n*(s=c.to)[1]-l[1])/(l[0]-l[1])*e.yaxis._length;var m=l[1]-l[0],y=s[1]-s[0];r.range[0]=l[0]*(1-n)+n*s[0],r.range[1]=l[1]*(1-n)+n*s[1],d[3]=e.yaxis._length*(1-n+n*y/m)}else d[1]=0,d[3]=e.yaxis._length;!function(n,r){var o,l=[];for(l=[e.xaxis._id,e.yaxis._id],o=0;o<l.length;o++)a.doTicksSingle(t,l[o],!0);function s(e,n,r){for(o=0;o<e.length;o++){var i=e[o];if(-1===l.indexOf(i.xref)&&-1===l.indexOf(i.yref)||n(t,o),r)return}}s(h.annotations||[],i.getComponentMethod("annotations","drawOne")),s(h.shapes||[],i.getComponentMethod("shapes","drawOne")),s(h.images||[],i.getComponentMethod("images","draw"),!0)}();var v=e.xaxis,b=e.yaxis,_=!!u,x=!!c,w=_?v._length/d[2]:1,k=x?b._length/d[3]:1,T=v._offset-(_?d[0]/d[2]*v._length:0),C=b._offset-(x?d[1]/d[3]*b._length:0);e.clipRect.call(o.setTranslate,_?d[0]:0,x?d[1]:0).call(o.setScale,1/w,1/k),e.plot.call(o.setTranslate,T,C).call(o.setScale,w,k),o.setPointGroupScale(e.zoomScalePts,1/w,1/k),o.setTextPointsScale(e.zoomScaleTxt,1/w,1/k)}s&&(u=s());var _=r.ease(n.easing);return t._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(f),f=null,function(){for(var e={},n=0;n<m.length;n++){var r=t._fullLayout[m[n]+"axis"];e[r._name+".range[0]"]=r.range[0],e[r._name+".range[1]"]=r.range[1],r.range=r._r.slice()}return i.call("relayout",t,e).then(function(){for(var t=0;t<y.length;t++)v(y[t])})}()}),c=Date.now(),f=window.requestAnimationFrame(function e(){d=Date.now();for(var r=Math.min(1,(d-c)/n.duration),o=_(r),a=0;a<y.length;a++)b(y[a],o);d-c>n.duration?(function(){for(var e={},n=0;n<m.length;n++){var r=t._fullLayout[g[m[n]].axisName],o=g[m[n]].to;e[r._name+".range[0]"]=o[0],e[r._name+".range[1]"]=o[1],r.range=o.slice()}u&&u(),i.call("relayout",t,e).then(function(){for(var t=0;t<y.length;t++)v(y[t])})}(),f=window.cancelAnimationFrame(e)):f=window.requestAnimationFrame(e)}),Promise.resolve()}},{"../../components/drawing":68,"../../registry":245,"./axes":205,"./constants":210,d3:7}],228:[function(t,e,n){"use strict";var r=t("../../registry"),i=t("./axis_autotype"),o=t("./axis_ids").name2id;function a(t){return{v:"x",h:"y"}[t.orientation||"v"]}function l(t,e){var n=a(t),i=r.traceIs(t,"box-violin"),o=r.traceIs(t._fullInput||{},"candlestick");return i&&!o&&e===n&&void 0===t[n]&&void 0===t[n+"0"]}e.exports=function(t,e,n,s,u){u&&(e._name=u,e._id=o(u)),"-"===n("type")&&(function(t,e){if("-"===t.type){var n=t._id,o=n.charAt(0);-1!==n.indexOf("scene")&&(n=o);var s=function(t,e,n){for(var r=0;r<t.length;r++){var i=t[r];if("splom"===i.type&&i._length>0&&i["_"+n+"axes"][e])return i;if((i[n+"axis"]||n)===e){if(l(i,n))return i;if((i[n]||[]).length||i[n+"0"])return i}}}(e,n,o);if(s)if("histogram"!==s.type||o!=={v:"y",h:"x"}[s.orientation||"v"]){var u,c=o+"calendar",d=s[c];if(l(s,o)){var f=a(s),h=[];for(u=0;u<e.length;u++){var p=e[u];r.traceIs(p,"box-violin")&&(p[o+"axis"]||o)===n&&(h.push(void 0!==p[f]?p[f][0]:void 0!==p.name?p.name:"text"),p[c]!==d&&(d=void 0))}t.type=i(h,d)}else if("splom"===s.type){var g=s.dimensions;for(u=0;u<g.length;u++){var m=g[u];if(m.visible){t.type=i(m.values,d);break}}}else t.type=i(s[o]||[s[o+"0"]],d)}else t.type="linear"}}(e,s),"-"===e.type?e.type="linear":t.type=e.type)}},{"../../registry":245,"./axis_autotype":206,"./axis_ids":208}],229:[function(t,e,n){"use strict";var r=t("../registry"),i=t("../lib");function o(t,e,n){var r,o,a,l=!1;if("data"===e.type)r=t._fullData[null!==e.traces?e.traces[0]:0];else{if("layout"!==e.type)return!1;r=t._fullLayout}return o=i.nestedProperty(r,e.prop).get(),(a=n[e.type]=n[e.type]||{}).hasOwnProperty(e.prop)&&a[e.prop]!==o&&(l=!0),a[e.prop]=o,{changed:l,value:o}}function a(t,e){var n=[],r=e[0],o={};if("string"==typeof r)o[r]=e[1];else{if(!i.isPlainObject(r))return n;o=r}return s(o,function(t,e,r){n.push({type:"layout",prop:t,value:r})},"",0),n}function l(t,e){var n,r,o,a,l=[];if(o=e[1],n=e[2],a={},"string"==typeof(r=e[0]))a[r]=o;else{if(!i.isPlainObject(r))return l;a=r,void 0===n&&(n=o)}return void 0===n&&(n=null),s(a,function(e,r,i){var o;if(Array.isArray(i)){var a=Math.min(i.length,t.data.length);n&&(a=Math.min(a,n.length)),o=[];for(var s=0;s<a;s++)o[s]=n?n[s]:s}else o=n?n.slice(0):null;if(null===o)Array.isArray(i)&&(i=i[0]);else if(Array.isArray(o)){if(!Array.isArray(i)){var u=i;i=[];for(var c=0;c<o.length;c++)i[c]=u}i.length=Math.min(o.length,i.length)}l.push({type:"data",prop:e,traces:o,value:i})},"",0),l}function s(t,e,n,r){Object.keys(t).forEach(function(o){var a=t[o];if("_"!==o[0]){var l=n+(r>0?".":"")+o;i.isPlainObject(a)?s(a,e,l,r+1):e(l,o,a)}})}n.manageCommandObserver=function(t,e,r,a){var l={},s=!0;e&&e._commandObserver&&(l=e._commandObserver),l.cache||(l.cache={}),l.lookupTable={};var u=n.hasSimpleAPICommandBindings(t,r,l.lookupTable);if(e&&e._commandObserver){if(u)return l;if(e._commandObserver.remove)return e._commandObserver.remove(),e._commandObserver=null,l}if(u){o(t,u,l.cache),l.check=function(){if(s){var e=o(t,u,l.cache);return e.changed&&a&&void 0!==l.lookupTable[e.value]&&(l.disable(),Promise.resolve(a({value:e.value,type:u.type,prop:u.prop,traces:u.traces,index:l.lookupTable[e.value]})).then(l.enable,l.enable)),e.changed}};for(var c=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],d=0;d<c.length;d++)t._internalOn(c[d],l.check);l.remove=function(){for(var e=0;e<c.length;e++)t._removeInternalListener(c[e],l.check)}}else i.log("Unable to automatically bind plot updates to API command"),l.lookupTable={},l.remove=function(){};return l.disable=function(){s=!1},l.enable=function(){s=!0},e&&(e._commandObserver=l),l},n.hasSimpleAPICommandBindings=function(t,e,r){var i,o,a=e.length;for(i=0;i<a;i++){var l,s=e[i],u=s.method,c=s.args;if(Array.isArray(c)||(c=[]),!u)return!1;var d=n.computeAPICommandBindings(t,u,c);if(1!==d.length)return!1;if(o){if((l=d[0]).type!==o.type)return!1;if(l.prop!==o.prop)return!1;if(Array.isArray(o.traces)){if(!Array.isArray(l.traces))return!1;l.traces.sort();for(var f=0;f<o.traces.length;f++)if(o.traces[f]!==l.traces[f])return!1}else if(l.prop!==o.prop)return!1}else o=d[0],Array.isArray(o.traces)&&o.traces.sort();var h=(l=d[0]).value;if(Array.isArray(h)){if(1!==h.length)return!1;h=h[0]}r&&(r[h]=i)}return o},n.executeAPICommand=function(t,e,n){if("skip"===e)return Promise.resolve();var o=r.apiMethodRegistry[e],a=[t];Array.isArray(n)||(n=[]);for(var l=0;l<n.length;l++)a.push(n[l]);return o.apply(null,a).catch(function(t){return i.warn("API call to Plotly."+e+" rejected.",t),Promise.reject(t)})},n.computeAPICommandBindings=function(t,e,n){var r;switch(Array.isArray(n)||(n=[]),e){case"restyle":r=l(t,n);break;case"relayout":r=a(0,n);break;case"update":r=l(t,[n[0],n[2]]).concat(a(0,[n[1]]));break;case"animate":r=function(t,e){return Array.isArray(e[0])&&1===e[0].length&&-1!==["string","number"].indexOf(typeof e[0][0])?[{type:"layout",prop:"_currentFrame",value:e[0][0].toString()}]:[]}(0,n);break;default:r=[]}return r}},{"../lib":163,"../registry":245}],230:[function(t,e,n){"use strict";var r=t("../lib/extend").extendFlat;n.attributes=function(t,e){t=t||{},e=e||{};var n={valType:"info_array",editType:t.editType,items:[{valType:"number",min:0,max:1,editType:t.editType},{valType:"number",min:0,max:1,editType:t.editType}],dflt:[0,1]},i={x:r({},n,{}),y:r({},n,{}),editType:t.editType};return t.noGridCell||(i.row={valType:"integer",min:0,dflt:0,editType:t.editType},i.column={valType:"integer",min:0,dflt:0,editType:t.editType}),i},n.defaults=function(t,e,n,r){var i=r&&r.x||[0,1],o=r&&r.y||[0,1],a=e.grid;if(a){var l=n("domain.column");void 0!==l&&(l<a.columns?i=a._domains.x[l]:delete t.domain.column);var s=n("domain.row");void 0!==s&&(s<a.rows?o=a._domains.y[s]:delete t.domain.row)}n("domain.x",i),n("domain.y",o)}},{"../lib/extend":157}],231:[function(t,e,n){"use strict";e.exports=function(t){var e=t.editType,n=t.colorEditType;void 0===n&&(n=e);var r={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:n},editType:e};return t.arrayOk&&(r.family.arrayOk=!0,r.size.arrayOk=!0,r.color.arrayOk=!0),r}},{}],232:[function(t,e,n){"use strict";e.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},{}],233:[function(t,e,n){"use strict";var r=t("../registry"),i=t("./cartesian/constants").SUBPLOT_PATTERN;n.getSubplotCalcData=function(t,e,n){var i=r.subplotsRegistry[e];if(!i)return[];for(var o=i.attr,a=[],l=0;l<t.length;l++){var s=t[l];s[0].trace[o]===n&&a.push(s)}return a},n.getModuleCalcData=function(t,e){var n,i=[],o=[];if(!(n="string"==typeof e?r.getModule(e).plot:"function"==typeof e?e:e.plot))return[i,t];for(var a=0;a<t.length;a++){var l=t[a],s=l[0].trace;!0===s.visible&&(s._module.plot===n?i.push(l):o.push(l))}return[i,o]},n.getSubplotData=function(t,e,n){if(!r.subplotsRegistry[e])return[];var o,a,l,s=r.subplotsRegistry[e].attr,u=[];if("gl2d"===e){var c=n.match(i);a="x"+c[1],l="y"+c[2]}for(var d=0;d<t.length;d++)o=t[d],"gl2d"===e&&r.traceIs(o,"gl2d")?o[s[0]]===a&&o[s[1]]===l&&u.push(o):o[s]===n&&u.push(o);return u},n.getUidsFromCalcData=function(t){for(var e={},n=0;n<t.length;n++)e[t[n][0].trace.uid]=1;return e}},{"../registry":245,"./cartesian/constants":210}],234:[function(t,e,n){"use strict";function r(t,e){var n,r,i=[0,0,0,0];for(n=0;n<4;++n)for(r=0;r<4;++r)i[r]+=t[4*n+r]*e[n];return i}e.exports=function(t,e){return r(t.projection,r(t.view,r(t.model,[e[0],e[1],e[2],1])))}},{}],235:[function(t,e,n){"use strict";var r=t("./font_attributes"),i=t("../components/color/attributes"),o=r({editType:"calc"});o.family.dflt='"Open Sans", verdana, arial, sans-serif',o.size.dflt=12,o.color.dflt=i.defaultLine,e.exports={font:o,title:{valType:"string",editType:"layoutstyle"},titlefont:r({editType:"layoutstyle"}),autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},paper_bgcolor:{valType:"color",dflt:i.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:i.background,editType:"layoutstyle"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:i.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"}}},{"../components/color/attributes":42,"./font_attributes":231}],236:[function(t,e,n){"use strict";e.exports={t:{valType:"number",dflt:0,editType:"arraydraw"},r:{valType:"number",dflt:0,editType:"arraydraw"},b:{valType:"number",dflt:0,editType:"arraydraw"},l:{valType:"number",dflt:0,editType:"arraydraw"},editType:"arraydraw"}},{}],237:[function(t,e,n){"use strict";var r=t("d3"),i=t("fast-isnumeric"),o=t("../registry"),a=t("../plot_api/plot_schema"),l=t("../lib"),s=t("../components/color"),u=t("../constants/numerical").BADNUM,c=t("../plots/cartesian/axis_ids"),d=t("./sort_modules").sortBasePlotModules,f=t("./animation_attributes"),h=t("./frame_attributes"),p=l.relinkPrivateKeys,g=l._,m=e.exports={};l.extendFlat(m,o),m.attributes=t("./attributes"),m.attributes.type.values=m.allTypes,m.fontAttrs=t("./font_attributes"),m.layoutAttributes=t("./layout_attributes"),m.fontWeight="normal";var y=m.transformsRegistry,v=t("./command");m.executeAPICommand=v.executeAPICommand,m.computeAPICommandBindings=v.computeAPICommandBindings,m.manageCommandObserver=v.manageCommandObserver,m.hasSimpleAPICommandBindings=v.hasSimpleAPICommandBindings,m.redrawText=function(t){if(!((t=l.getGraphDiv(t)).data&&t.data[0]&&t.data[0].r))return new Promise(function(e){setTimeout(function(){o.getComponentMethod("annotations","draw")(t),o.getComponentMethod("legend","draw")(t),(t.calcdata||[]).forEach(function(t){t[0]&&t[0].t&&t[0].t.cb&&t[0].t.cb()}),e(m.previousPromises(t))},300)})},m.resize=function(t){return t=l.getGraphDiv(t),new Promise(function(e,n){t&&!function(t){var e=window.getComputedStyle(t).display;return!e||"none"===e}(t)||n(new Error("Resize must be passed a displayed plot div element.")),t._redrawTimer&&clearTimeout(t._redrawTimer),t._redrawTimer=setTimeout(function(){if(t.layout.width&&t.layout.height)e(t);else{delete t.layout.width,delete t.layout.height;var n=t.changed;t.autoplay=!0,o.call("relayout",t,{autosize:!0}).then(function(){t.changed=n,e(t)})}},100)})},m.previousPromises=function(t){if((t._promises||[]).length)return Promise.all(t._promises).then(function(){t._promises=[]})},m.addLinks=function(t){if(t._context.showLink||t._context.showSources){var e=t._fullLayout,n=l.ensureSingle(e._paper,"text","js-plot-link-container",function(t){t.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:s.defaultLine,"pointer-events":"all"}).each(function(){var t=r.select(this);t.append("tspan").classed("js-link-to-tool",!0),t.append("tspan").classed("js-link-spacer",!0),t.append("tspan").classed("js-sourcelinks",!0)})}),i=n.node(),o={y:e._paper.attr("height")-9};document.body.contains(i)&&i.getComputedTextLength()>=e.width-20?(o["text-anchor"]="start",o.x=5):(o["text-anchor"]="end",o.x=e._paper.attr("width")-7),n.attr(o);var a=n.select(".js-link-to-tool"),u=n.select(".js-link-spacer"),c=n.select(".js-sourcelinks");t._context.showSources&&t._context.showSources(t),t._context.showLink&&function(t,e){e.text("");var n=e.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(t._context.linkText+" "+String.fromCharCode(187));if(t._context.sendData)n.on("click",function(){m.sendDataToCloud(t)});else{var r=window.location.pathname.split("/"),i=window.location.search;n.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+r[2].split(".")[0]+"/"+r[1]+i})}}(t,a),u.text(a.text()&&c.text()?" - ":"")}},m.sendDataToCloud=function(t){t.emit("plotly_beforeexport");var e=window.PLOTLYENV&&window.PLOTLYENV.BASE_URL||"https://plot.ly",n=r.select(t).append("div").attr("id","hiddenform").style("display","none"),i=n.append("form").attr({action:e+"/external",method:"post",target:"_blank"});return i.append("input").attr({type:"text",name:"data"}).node().value=m.graphJson(t,!1,"keepdata"),i.node().submit(),n.remove(),t.emit("plotly_afterexport"),!1};var b,_=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],x=["year","month","dayMonth","dayMonthYear"];function w(t,e){var n=t._context.locale,r=!1,i={};function a(t){for(var n=!0,o=0;o<e.length;o++){var a=e[o];i[a]||(t[a]?i[a]=t[a]:n=!1)}n&&(r=!0)}for(var l=0;l<2;l++){for(var s=t._context.locales,u=0;u<2;u++){var c=(s[n]||{}).format;if(c&&(a(c),r))break;s=o.localeRegistry}var d=n.split("-")[0];if(r||d===n)break;n=d}return r||a(o.localeRegistry.en.format),i}function k(t,e,n,r){for(var i=t.transforms,o=[t],a=0;a<i.length;a++){var l=i[a],s=y[l.type];s&&s.transform&&(o=s.transform(o,{transform:l,fullTrace:t,fullData:e,layout:n,fullLayout:r,transformIndex:a}))}return o}function T(t){for(var e=0;e<t.length;e++)t[e].clearCalc()}m.supplyDefaults=function(t,e){var n=e&&e.skipUpdateCalc,i=t._fullLayout||{};if(i._skipDefaults)delete i._skipDefaults;else{var a,s=t._fullLayout={},u=t.layout||{},f=t._fullData||[],h=t._fullData=[],y=t.data||[],v=t.calcdata||[],k=t._context||{};t._transitionData||m.createTransitionData(t),s._dfltTitle={plot:g(t,"Click to enter Plot title"),x:g(t,"Click to enter X axis title"),y:g(t,"Click to enter Y axis title"),colorbar:g(t,"Click to enter Colorscale title"),annotation:g(t,"new text")},s._traceWord=g(t,"trace");var T=w(t,_);if(s._mapboxAccessToken=k.mapboxAccessToken,i._initialAutoSizeIsDone){var C=i.width,A=i.height;m.supplyLayoutGlobalDefaults(u,s,T),u.width||(s.width=C),u.height||(s.height=A)}else{m.supplyLayoutGlobalDefaults(u,s,T);var M=!u.width||!u.height,S=s.autosize;M&&(S||k.autosizable)?m.plotAutoSize(t,u,s):M&&m.sanitizeMargins(t),!S&&M&&(u.width=s.width,u.height=s.height)}s._d3locale=function(t,e){return t.decimal=e.charAt(0),t.thousands=e.charAt(1),r.locale(t)}(T,s.separators),s._extraFormat=w(t,x),s._initialAutoSizeIsDone=!0,s._dataLength=y.length,s._modules=[],s._basePlotModules=[];var E=s._subplots=function(){var t,e,n={};if(!b){b=[];var r=o.subplotsRegistry;for(var i in r){var a=r[i].attr;if(a&&(b.push(i),Array.isArray(a)))for(e=0;e<a.length;e++)l.pushUnique(b,a[e])}}for(t=0;t<b.length;t++)n[b[t]]=[];return n}(),O=s._splomAxes={x:{},y:{}},P=s._splomSubplots={};s._splomGridDflt={},s._requestRangeslider={},s._globalTransforms=(t._context||{}).globalTransforms,m.supplyDataDefaults(y,h,u,s);var I=Object.keys(O.x),D=Object.keys(O.y);if(I.length>1&&D.length>1){for(o.getComponentMethod("grid","sizeDefaults")(u,s),a=0;a<I.length;a++)l.pushUnique(E.xaxis,I[a]);for(a=0;a<D.length;a++)l.pushUnique(E.yaxis,D[a]);for(var L in P)l.pushUnique(E.cartesian,L)}s._has=m._hasPlotType.bind(s);var R=s._modules;for(a=0;a<R.length;a++){var N=R[a];N.cleanData&&N.cleanData(h)}if(f.length===h.length)for(a=0;a<h.length;a++)p(h[a],f[a]);m.supplyLayoutModuleDefaults(u,s,h,t._transitionData),s._hasOnlyLargeSploms=1===s._basePlotModules.length&&"splom"===s._basePlotModules[0].name&&I.length>15&&D.length>15&&0===s.shapes.length&&0===s.images.length,s._hasCartesian=s._has("cartesian"),s._hasGeo=s._has("geo"),s._hasGL3D=s._has("gl3d"),s._hasGL2D=s._has("gl2d"),s._hasTernary=s._has("ternary"),s._hasPie=s._has("pie"),m.linkSubplots(h,s,f,i),m.cleanPlot(h,s,f,i,v),p(s,i),m.doAutoMargin(t);var F=c.list(t);for(a=0;a<F.length;a++)F[a].setScale();n||v.length!==h.length||m.supplyDefaultsUpdateCalc(v,h),s._basePlotModules.sort(d)}},m.supplyDefaultsUpdateCalc=function(t,e){for(var n=0;n<e.length;n++){var r=e[n],i=t[n][0];if(i&&i.trace){var o=i.trace;if(o._hasCalcTransform){var a,s,u,c=o._arrayAttrs;for(a=0;a<c.length;a++)u=l.nestedProperty(o,s=c[a]).get().slice(),l.nestedProperty(r,s).set(u)}i.trace=r}}},m.createTransitionData=function(t){t._transitionData||(t._transitionData={}),t._transitionData._frames||(t._transitionData._frames=[]),t._transitionData._frameHash||(t._transitionData._frameHash={}),t._transitionData._counter||(t._transitionData._counter=0),t._transitionData._interruptCallbacks||(t._transitionData._interruptCallbacks=[])},m._hasPlotType=function(t){var e,n=this._basePlotModules||[];for(e=0;e<n.length;e++)if(n[e].name===t)return!0;var r=this._modules||[];for(e=0;e<r.length;e++){var i=r[e].name;if(i===t)return!0;var a=o.modules[i];if(a&&a.categories[t])return!0}return!1},m.cleanPlot=function(t,e,n,r,i){var o,a,l=r._basePlotModules||[];for(o=0;o<l.length;o++){var s=l[o];s.clean&&s.clean(t,e,n,r,i)}var u=r._has&&r._has("gl"),c=e._has&&e._has("gl");u&&!c&&void 0!==r._glcontainer&&(r._glcontainer.selectAll(".gl-canvas").remove(),r._glcanvas=null);var d=!!r._infolayer;t:for(o=0;o<n.length;o++){var f=n[o].uid;for(a=0;a<t.length;a++)if(f===t[a].uid)continue t;d&&r._infolayer.select(".cb"+f).remove()}r._zoomlayer&&r._zoomlayer.selectAll(".select-outline").remove()},m.linkSubplots=function(t,e,n,r){var i,o,a,l,s=r._plots||{},u=e._plots={},d=e._subplots,f={_fullData:t,_fullLayout:e},h=d.cartesian.concat(d.gl2d||[]);for(i=0;i<h.length;i++){var p,g=s[a=h[i]],m=c.getFromId(f,a,"x"),y=c.getFromId(f,a,"y");for(g?((p=u[a]=g).xaxis.layer!==m.layer&&(p.xlines.attr("d",null),p.xaxislayer.selectAll("*").remove()),p.yaxis.layer!==y.layer&&(p.ylines.attr("d",null),p.yaxislayer.selectAll("*").remove())):(p=u[a]={}).id=a,p.xaxis=m,p.yaxis=y,p._hasClipOnAxisFalse=!1,o=0;o<t.length;o++){var v=t[o];if(v.xaxis===p.xaxis._id&&v.yaxis===p.yaxis._id&&!1===v.cliponaxis){p._hasClipOnAxisFalse=!0;break}}}var b=c.list(f,null,!0);for(i=0;i<b.length;i++){var _=null;(l=b[i]).overlaying&&(_=c.getFromId(f,l.overlaying))&&_.overlaying&&(l.overlaying=!1,_=null),l._mainAxis=_||l,_&&(l.domain=_.domain.slice()),l._anchorAxis="free"===l.anchor?null:c.getFromId(f,l.anchor)}},m.clearExpandedTraceDefaultColors=function(t){var e,n,r;for(n=[],(e=t._module._colorAttrs)||(t._module._colorAttrs=e=[],a.crawl(t._module.attributes,function(t,r,i,o){n[o]=r,n.length=o+1,"color"===t.valType&&void 0===t.dflt&&e.push(n.join("."))})),r=0;r<e.length;r++)l.nestedProperty(t,"_input."+e[r]).get()||l.nestedProperty(t,e[r]).set(null)},m.supplyDataDefaults=function(t,e,n,r){var i,a,s,u=r._modules,c=r._basePlotModules,d=0,f=0;function h(t){e.push(t);var n=t._module;n&&(!0===t.visible&&l.pushUnique(u,n),l.pushUnique(c,t._module.basePlotModule),d++,!1!==t._input.visible&&f++)}r._transformModules=[];var g={},y=[];for(i=0;i<t.length;i++){if((a=m.supplyTraceDefaults(s=t[i],f,r,i)).index=i,a._input=s,a._expandedIndex=d,a.transforms&&a.transforms.length)for(var v=k(a,e,n,r),b=0;b<v.length;b++){var _=v[b],x=m.supplyTraceDefaults(_,d,r,i);p(x,_),_.uid=x.uid=a.uid+b,x.index=i,x._input=s,x._fullInput=a,x._expandedIndex=d,x._expandedInput=_,h(x)}else a._fullInput=a,a._expandedInput=a,h(a);o.traceIs(a,"carpetAxis")&&(g[a.carpet]=a),o.traceIs(a,"carpetDependent")&&y.push(i)}for(i=0;i<y.length;i++)if((a=e[y[i]]).visible){var w=g[a.carpet];a._carpet=w,w&&w.visible?(a.xaxis=w.xaxis,a.yaxis=w.yaxis):a.visible=!1}},m.supplyAnimationDefaults=function(t){var e;t=t||{};var n={};function r(e,r){return l.coerce(t||{},n,f,e,r)}if(r("mode"),r("direction"),r("fromcurrent"),Array.isArray(t.frame))for(n.frame=[],e=0;e<t.frame.length;e++)n.frame[e]=m.supplyAnimationFrameDefaults(t.frame[e]||{});else n.frame=m.supplyAnimationFrameDefaults(t.frame||{});if(Array.isArray(t.transition))for(n.transition=[],e=0;e<t.transition.length;e++)n.transition[e]=m.supplyAnimationTransitionDefaults(t.transition[e]||{});else n.transition=m.supplyAnimationTransitionDefaults(t.transition||{});return n},m.supplyAnimationFrameDefaults=function(t){var e={};function n(n,r){return l.coerce(t||{},e,f.frame,n,r)}return n("duration"),n("redraw"),e},m.supplyAnimationTransitionDefaults=function(t){var e={};function n(n,r){return l.coerce(t||{},e,f.transition,n,r)}return n("duration"),n("easing"),e},m.supplyFrameDefaults=function(t){var e={};function n(n,r){return l.coerce(t,e,h,n,r)}return n("group"),n("name"),n("traces"),n("baseframe"),n("data"),n("layout"),e},m.supplyTraceDefaults=function(t,e,n,r){var i,a=n.colorway||s.defaults,u={},c=a[e%a.length];function d(e,n){return l.coerce(t,u,m.attributes,e,n)}var f=d("visible");d("type"),d("uid"),d("name",n._traceWord+" "+r);var h=m.getModule(u);if(u._module=h,h){var p=h.basePlotModule,g=p.attr,y=p.attributes;if(g&&y){var v=n._subplots,b="";if("gl2d"!==p.name||f){if(Array.isArray(g))for(i=0;i<g.length;i++){var _=g[i],x=l.coerce(t,u,y,_);v[_]&&l.pushUnique(v[_],x),b+=x}else b=l.coerce(t,u,y,g);v[p.name]&&l.pushUnique(v[p.name],b)}}}return f&&(d("customdata"),d("ids"),o.traceIs(u,"showLegend")&&(d("showlegend"),d("legendgroup")),o.getComponentMethod("fx","supplyDefaults")(t,u,c,n),h&&(h.supplyDefaults(t,u,c,n),l.coerceHoverinfo(t,u,n)),o.traceIs(u,"noOpacity")||d("opacity"),o.traceIs(u,"notLegendIsolatable")&&(u.visible=!!u.visible),h&&h.selectPoints&&d("selectedpoints"),m.supplyTransformDefaults(t,u,n)),u},m.supplyTransformDefaults=function(t,e,n){if(e._length){var r=n._globalTransforms||[],i=n._transformModules||[];if(Array.isArray(t.transforms)||0!==r.length)for(var o=r.concat(t.transforms||[]),a=e.transforms=[],s=0;s<o.length;s++){var u,c=o[s],d=c.type,f=y[d],h=!(c._module&&c._module===f),p=f&&"function"==typeof f.transform;f||l.warn("Unrecognized transform type "+d+"."),f&&f.supplyDefaults&&(h||p)?((u=f.supplyDefaults(c,e,n,t)).type=d,u._module=f,l.pushUnique(i,f)):u=l.extendFlat({},c),a.push(u)}}},m.supplyLayoutGlobalDefaults=function(t,e,n){function r(n,r){return l.coerce(t,e,m.layoutAttributes,n,r)}var i=l.coerceFont(r,"font");r("title",e._dfltTitle.plot),l.coerceFont(r,"titlefont",{family:i.family,size:Math.round(1.4*i.size),color:i.color}),r("autosize",!(t.width&&t.height)),r("width"),r("height"),r("margin.l"),r("margin.r"),r("margin.t"),r("margin.b"),r("margin.pad"),r("margin.autoexpand"),t.width&&t.height&&m.sanitizeMargins(e),o.getComponentMethod("grid","sizeDefaults")(t,e),r("paper_bgcolor"),r("separators",n.decimal+n.thousands),r("hidesources"),r("colorway"),r("datarevision"),o.getComponentMethod("calendars","handleDefaults")(t,e,"calendar"),o.getComponentMethod("fx","supplyLayoutGlobalDefaults")(t,e,r)},m.plotAutoSize=function(t,e,n){var r,o,a=t._context||{},s=a.frameMargins,u=l.isPlotDiv(t);if(u&&t.emit("plotly_autosize"),a.fillFrame)r=window.innerWidth,o=window.innerHeight,document.body.style.overflow="hidden";else if(i(s)&&s>0){var c=function(t){var e,n={left:0,right:0,bottom:0,top:0};if(t)for(e in t)t.hasOwnProperty(e)&&(n.left+=t[e].left||0,n.right+=t[e].right||0,n.bottom+=t[e].bottom||0,n.top+=t[e].top||0);return n}(t._boundingBoxMargins),d=c.left+c.right,f=c.bottom+c.top,h=1-2*s,p=n._container&&n._container.node?n._container.node().getBoundingClientRect():{width:n.width,height:n.height};r=Math.round(h*(p.width-d)),o=Math.round(h*(p.height-f))}else{var g=u?window.getComputedStyle(t):{};r=parseFloat(g.width)||n.width,o=parseFloat(g.height)||n.height}var y=m.layoutAttributes.width.min,v=m.layoutAttributes.height.min;r<y&&(r=y),o<v&&(o=v);var b=!e.width&&Math.abs(n.width-r)>1,_=!e.height&&Math.abs(n.height-o)>1;(_||b)&&(b&&(n.width=r),_&&(n.height=o)),t._initialAutoSize||(t._initialAutoSize={width:r,height:o}),m.sanitizeMargins(n)},m.supplyLayoutModuleDefaults=function(t,e,n,r){var i,a,s,u=o.componentsRegistry,c=e._basePlotModules,d=o.subplotsRegistry.cartesian;for(i in u)(s=u[i]).includeBasePlot&&s.includeBasePlot(t,e);for(var f in c.length||c.push(d),e._has("cartesian")&&(o.getComponentMethod("grid","contentDefaults")(t,e),d.finalizeSubplots(t,e)),e._subplots)e._subplots[f].sort(l.subplotSort);for(a=0;a<c.length;a++)(s=c[a]).supplyLayoutDefaults&&s.supplyLayoutDefaults(t,e,n);var h=e._modules;for(a=0;a<h.length;a++)(s=h[a]).supplyLayoutDefaults&&s.supplyLayoutDefaults(t,e,n);var p=e._transformModules;for(a=0;a<p.length;a++)(s=p[a]).supplyLayoutDefaults&&s.supplyLayoutDefaults(t,e,n,r);for(i in u)(s=u[i]).supplyLayoutDefaults&&s.supplyLayoutDefaults(t,e,n)},m.purge=function(t){var e=t._fullLayout||{};void 0!==e._glcontainer&&(e._glcontainer.selectAll(".gl-canvas").remove(),e._glcontainer.remove(),e._glcanvas=null),void 0!==e._geocontainer&&e._geocontainer.remove(),e._modeBar&&e._modeBar.destroy(),t._transitionData&&(t._transitionData._interruptCallbacks&&(t._transitionData._interruptCallbacks.length=0),t._transitionData._animationRaf&&window.cancelAnimationFrame(t._transitionData._animationRaf)),l.clearThrottle(),delete t.data,delete t.layout,delete t._fullData,delete t._fullLayout,delete t.calcdata,delete t.framework,delete t.empty,delete t.fid,delete t.undoqueue,delete t.undonum,delete t.autoplay,delete t.changed,delete t._promises,delete t._redrawTimer,delete t.firstscatter,delete t._hmlumcount,delete t._hmpixcount,delete t._transitionData,delete t._transitioning,delete t._initialAutoSize,delete t._transitioningWithDuration,delete t._dragging,delete t._dragged,delete t._hoverdata,delete t._snapshotInProgress,delete t._editing,delete t._replotPending,delete t._mouseDownTime,delete t._legendMouseDownTime,t.removeAllListeners&&t.removeAllListeners()},m.style=function(t){var e,n=t._fullLayout._modules,r=[];for(e=0;e<n.length;e++){var i=n[e];i.style&&l.pushUnique(r,i.style)}for(e=0;e<r.length;e++)r[e](t)},m.sanitizeMargins=function(t){if(t&&t.margin){var e,n=t.width,r=t.height,i=t.margin,o=r-(i.t+i.b);n-(i.l+i.r)<0&&(e=(n-1)/(i.l+i.r),i.l=Math.floor(e*i.l),i.r=Math.floor(e*i.r)),o<0&&(e=(r-1)/(i.t+i.b),i.t=Math.floor(e*i.t),i.b=Math.floor(e*i.b))}},m.autoMargin=function(t,e,n){var r=t._fullLayout;if(r._pushmargin||(r._pushmargin={}),!1!==r.margin.autoexpand){if(n){var i=void 0===n.pad?12:n.pad;n.l+n.r>.5*r.width&&(n.l=n.r=0),n.b+n.t>.5*r.height&&(n.b=n.t=0),r._pushmargin[e]={l:{val:n.x,size:n.l+i},r:{val:n.x,size:n.r+i},b:{val:n.y,size:n.b+i},t:{val:n.y,size:n.t+i}}}else delete r._pushmargin[e];r._replotting||m.doAutoMargin(t)}},m.doAutoMargin=function(t){var e=t._fullLayout;e._size||(e._size={}),e._pushmargin||(e._pushmargin={});var n=e._size,r=JSON.stringify(n),a=Math.max(e.margin.l||0,0),l=Math.max(e.margin.r||0,0),s=Math.max(e.margin.t||0,0),u=Math.max(e.margin.b||0,0),c=e._pushmargin;if(!1!==e.margin.autoexpand)for(var d in c.base={l:{val:0,size:a},r:{val:1,size:l},t:{val:1,size:s},b:{val:0,size:u}},c){var f=c[d].l||{},h=c[d].b||{},p=f.val,g=f.size,m=h.val,y=h.size;for(var v in c){if(i(g)&&c[v].r){var b=c[v].r.val,_=c[v].r.size;if(b>p){var x=(g*b+(_-e.width)*p)/(b-p),w=(_*(1-p)+(g-e.width)*(1-b))/(b-p);x>=0&&w>=0&&x+w>a+l&&(a=x,l=w)}}if(i(y)&&c[v].t){var k=c[v].t.val,T=c[v].t.size;if(k>m){var C=(y*k+(T-e.height)*m)/(k-m),A=(T*(1-m)+(y-e.height)*(1-k))/(k-m);C>=0&&A>=0&&C+A>u+s&&(u=C,s=A)}}}}if(n.l=Math.round(a),n.r=Math.round(l),n.t=Math.round(s),n.b=Math.round(u),n.p=Math.round(e.margin.pad),n.w=Math.round(e.width)-n.l-n.r,n.h=Math.round(e.height)-n.t-n.b,!e._replotting&&"{}"!==r&&r!==JSON.stringify(e._size))return o.call("plot",t)},m.graphJson=function(t,e,n,r,i){(i&&e&&!t._fullData||i&&!e&&!t._fullLayout)&&m.supplyDefaults(t);var o=i?t._fullLayout:t.layout,a=(t._transitionData||{})._frames;function s(t){if("function"==typeof t)return null;if(l.isPlainObject(t)){var e,r,i={};for(e in t)if("function"!=typeof t[e]&&-1===["_","["].indexOf(e.charAt(0))){if("keepdata"===n){if("src"===e.substr(e.length-3))continue}else if("keepstream"===n){if("string"==typeof(r=t[e+"src"])&&r.indexOf(":")>0&&!l.isPlainObject(t.stream))continue}else if("keepall"!==n&&"string"==typeof(r=t[e+"src"])&&r.indexOf(":")>0)continue;i[e]=s(t[e])}return i}return Array.isArray(t)?t.map(s):l.isJSDate(t)?l.ms2DateTimeLocal(+t):t}var u={data:((i?t._fullData:t.data)||[]).map(function(t){var n=s(t);return e&&delete n.fit,n})};return e||(u.layout=s(o)),t.framework&&t.framework.isPolar&&(u=t.framework.getConfig()),a&&(u.frames=s(a)),"object"===r?u:JSON.stringify(u)},m.modifyFrames=function(t,e){var n,r,i,o=t._transitionData._frames,a=t._transitionData._frameHash;for(n=0;n<e.length;n++)switch((r=e[n]).type){case"replace":i=r.value;var l=(o[r.index]||{}).name,s=i.name;o[r.index]=a[s]=i,s!==l&&(delete a[l],a[s]=i);break;case"insert":a[(i=r.value).name]=i,o.splice(r.index,0,i);break;case"delete":delete a[(i=o[r.index]).name],o.splice(r.index,1)}return Promise.resolve()},m.computeFrame=function(t,e){var n,r,i,o,a=t._transitionData._frameHash;if(!e)throw new Error("computeFrame must be given a string frame name");var l=a[e.toString()];if(!l)return!1;for(var s=[l],u=[l.name];l.baseframe&&(l=a[l.baseframe.toString()])&&-1===u.indexOf(l.name);)s.push(l),u.push(l.name);for(var c={};l=s.pop();)if(l.layout&&(c.layout=m.extendLayout(c.layout,l.layout)),l.data){if(c.data||(c.data=[]),!(r=l.traces))for(r=[],n=0;n<l.data.length;n++)r[n]=n;for(c.traces||(c.traces=[]),n=0;n<l.data.length;n++)void 0!==(i=r[n])&&null!==i&&(-1===(o=c.traces.indexOf(i))&&(c.traces[o=c.data.length]=i),c.data[o]=m.extendTrace(c.data[o],l.data[n]))}return c},m.recomputeFrameHash=function(t){for(var e=t._transitionData._frameHash={},n=t._transitionData._frames,r=0;r<n.length;r++){var i=n[r];i&&i.name&&(e[i.name]=i)}},m.extendObjectWithContainers=function(t,e,n){var r,i,o,a,s,u,c,d=l.extendDeepNoArrays({},e||{}),f=l.expandObjectPaths(d),h={};if(n&&n.length)for(o=0;o<n.length;o++)void 0===(i=(r=l.nestedProperty(f,n[o])).get())?l.nestedProperty(h,n[o]).set(null):(r.set(null),l.nestedProperty(h,n[o]).set(i));if(t=l.extendDeepNoArrays(t||{},f),n&&n.length)for(o=0;o<n.length;o++)if(u=l.nestedProperty(h,n[o]).get()){for(c=(s=l.nestedProperty(t,n[o])).get(),Array.isArray(c)||s.set(c=[]),a=0;a<u.length;a++){var p=u[a];c[a]=null===p?null:m.extendObjectWithContainers(c[a],p)}s.set(c)}return t},m.dataArrayContainers=["transforms","dimensions"],m.layoutArrayContainers=o.layoutArrayContainers,m.extendTrace=function(t,e){return m.extendObjectWithContainers(t,e,m.dataArrayContainers)},m.extendLayout=function(t,e){return m.extendObjectWithContainers(t,e,m.layoutArrayContainers)},m.transition=function(t,e,n,r,i,a){var s,u=Array.isArray(e)?e.length:0,c=r.slice(0,u),d=[],f=!1;for(s=0;s<c.length;s++);var h=l.syncOrAsync([m.previousPromises,function(){if(t._transitionData)return t._transitioning=!1,function(t){var e=Promise.resolve();if(!t)return e;for(;t.length;)e=e.then(t.shift());return e}(t._transitionData._interruptCallbacks)},function(){var r;for(r=0;r<c.length;r++){var i=c[r],a=t._fullData[i]._module;a&&(a.animatable&&d.push(i),t.data[c[r]]=m.extendTrace(t.data[c[r]],e[r]))}var s=l.expandObjectPaths(l.extendDeepNoArrays({},n)),u=/^[xy]axis[0-9]*$/;for(var f in s)u.test(f)&&delete s[f].range;return m.extendLayout(t.layout,s),delete t.calcdata,m.supplyDefaults(t),m.doCalcdata(t),o.getComponentMethod("errorbars","calc")(t),Promise.resolve()},m.rehover,function(){return t.emit("plotly_transitioning",[]),new Promise(function(e){t._transitioning=!0,a.duration>0&&(t._transitioningWithDuration=!0),t._transitionData._interruptCallbacks.push(function(){f=!0}),i.redraw&&t._transitionData._interruptCallbacks.push(function(){return o.call("redraw",t)}),t._transitionData._interruptCallbacks.push(function(){t.emit("plotly_transitioninterrupted",[])});var r,s,u=0,c=0;function h(){return u++,function(){var n;f||++c!==u||(n=e,t._transitionData&&(function(t){if(t)for(;t.length;)t.shift()}(t._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(i.redraw)return o.call("redraw",t)}).then(function(){t._transitioning=!1,t._transitioningWithDuration=!1,t.emit("plotly_transitioned",[])}).then(n)))}}var p=t._fullLayout._basePlotModules,g=!1;if(n)for(s=0;s<p.length;s++)if(p[s].transitionAxes){var m=l.expandObjectPaths(n);g=p[s].transitionAxes(t,m,a,h)||g}for(g?(r=l.extendFlat({},a)).duration=0:r=a,s=0;s<p.length;s++)p[s].plot(t,d,r,h);setTimeout(h())})}],t);return h&&h.then||(h=Promise.resolve()),h.then(function(){return t})},m.doCalcdata=function(t,e){var n,r,i,l,s=c.list(t),d=t._fullData,f=t._fullLayout,h=new Array(d.length),p=(t.calcdata||[]).slice(0);for(t.calcdata=h,t.firstscatter=!0,f._numBoxes=0,f._numViolins=0,f._violinScaleGroupStats={},t._hmpixcount=0,t._hmlumcount=0,f._piecolormap={},f._piecolorway=null,f._piedefaultcolorcount=0,i=0;i<d.length;i++)Array.isArray(e)&&-1===e.indexOf(i)&&(h[i]=p[i]);for(i=0;i<d.length;i++)(n=d[i])._arrayAttrs=a.findArrayAttributes(n);var g=f._subplots.polar||[];for(i=0;i<g.length;i++)s.push(f[g[i]].radialaxis,f[g[i]].angularaxis);T(s);var m=!1;for(i=0;i<d.length;i++)if(!0===(n=d[i]).visible&&n.transforms){if((r=n._module)&&r.calc){var v=r.calc(t,n);v[0]&&v[0].t&&v[0].t._scene&&delete v[0].t._scene.dirty}for(l=0;l<n.transforms.length;l++){var b=n.transforms[l];(r=y[b.type])&&r.calcTransform&&(n._hasCalcTransform=!0,m=!0,r.calcTransform(t,n,b))}}function _(e,i){if(!!(r=(n=d[e])._module).isContainer===i){var o=[];if(!0===n.visible){var a=n.transforms||[];for(l=a.length-1;l>=0;l--)if(a[l].enabled){n._indexToPoints=a[l]._indexToPoints;break}r&&r.calc&&(o=r.calc(t,n))}Array.isArray(o)&&o[0]||(o=[{x:u,y:u}]),o[0].t||(o[0].t={}),o[0].trace=n,h[e]=o}}for(m&&T(s),i=0;i<d.length;i++)_(i,!0);for(i=0;i<d.length;i++)_(i,!1);o.getComponentMethod("fx","calc")(t)},m.rehover=function(t){t._fullLayout._rehover&&t._fullLayout._rehover()},m.generalUpdatePerTraceModule=function(t,e,n,r){var i,o=e.traceHash,a={};for(i=0;i<n.length;i++){var s=n[i],u=s[0].trace;u.visible&&(a[u.type]=a[u.type]||[],a[u.type].push(s))}for(var c in o)if(!a[c]){var d=o[c][0];d[0].trace.visible=!1,a[c]=[d]}for(var f in a){var h=a[f];h[0][0].trace._module.plot(t,e,l.filterVisible(h),r)}e.traceHash=a}},{"../components/color":43,"../constants/numerical":145,"../lib":163,"../plot_api/plot_schema":196,"../plots/cartesian/axis_ids":208,"../registry":245,"./animation_attributes":200,"./attributes":202,"./command":229,"./font_attributes":231,"./frame_attributes":232,"./layout_attributes":235,"./sort_modules":244,d3:7,"fast-isnumeric":10}],238:[function(t,e,n){"use strict";var r=t("../../../traces/scatter/attributes"),i=r.marker;e.exports={r:r.r,t:r.t,marker:{color:i.color,size:i.size,symbol:i.symbol,opacity:i.opacity,editType:"calc"}}},{"../../../traces/scatter/attributes":281}],239:[function(t,e,n){"use strict";var r=t("../../cartesian/layout_attributes"),i=t("../../../lib/extend").extendFlat,o=t("../../../plot_api/edit_types").overrideAll,a=i({},r.domain,{});function l(t,e){return i({},e,{showline:{valType:"boolean"},showticklabels:{valType:"boolean"},tickorientation:{valType:"enumerated",values:["horizontal","vertical"]},ticklen:{valType:"number",min:0},tickcolor:{valType:"color"},ticksuffix:{valType:"string"},endpadding:{valType:"number"},visible:{valType:"boolean"}})}e.exports=o({radialaxis:l(0,{range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},domain:a,orientation:{valType:"number"}}),angularaxis:l(0,{range:{valType:"info_array",items:[{valType:"number",dflt:0},{valType:"number",dflt:360}]},domain:a}),layout:{direction:{valType:"enumerated",values:["clockwise","counterclockwise"]},orientation:{valType:"angle"}}},"plot","nested")},{"../../../lib/extend":157,"../../../plot_api/edit_types":190,"../../cartesian/layout_attributes":217}],240:[function(t,e,n){"use strict";(e.exports=t("./micropolar")).manager=t("./micropolar_manager")},{"./micropolar":241,"./micropolar_manager":242}],241:[function(t,e,n){var r=t("d3"),i=t("../../../lib").extendDeepAll,o=t("../../../constants/alignment").MID_SHIFT,a=e.exports={version:"0.2.2"};a.Axis=function(){var t,e,n,l,s={data:[],layout:{}},u={},c={},d=r.dispatch("hover"),f={render:function(u){return function(u){var d=s.data,f=s.layout;("string"==typeof(e=u||e)||e.nodeName)&&(e=r.select(e)),e.datum(d).each(function(e,s){var u=e.slice();c={data:a.util.cloneJson(u),layout:a.util.cloneJson(f)};var d=0;u.forEach(function(t,e){t.color||(t.color=f.defaultColorRange[d],d=(d+1)%f.defaultColorRange.length),t.strokeColor||(t.strokeColor="LinePlot"===t.geometry?t.color:r.rgb(t.color).darker().toString()),c.data[e].color=t.color,c.data[e].strokeColor=t.strokeColor,c.data[e].strokeDash=t.strokeDash,c.data[e].strokeSize=t.strokeSize});var h=u.filter(function(t,e){var n=t.visible;return void 0===n||!0===n}),p=!1,g=h.map(function(t,e){return p=p||void 0!==t.groupId,t});if(p){var m=[],y=r.nest().key(function(t,e){return void 0!==t.groupId?t.groupId:"unstacked"}).entries(g).map(function(t,e){if("unstacked"===t.key)return t.values;var n=t.values[0].r.map(function(t,e){return 0});return t.values.forEach(function(t,e,r){t.yStack=[n],m.push(n),n=a.util.sumArrays(t.r,n)}),t.values});h=r.merge(y)}h.forEach(function(t,e){t.t=Array.isArray(t.t[0])?t.t:[t.t],t.r=Array.isArray(t.r[0])?t.r:[t.r]});var v=Math.min(f.width-f.margin.left-f.margin.right,f.height-f.margin.top-f.margin.bottom)/2;v=Math.max(10,v);var b,_=[f.margin.left+v,f.margin.top+v];b=p?[0,r.max(a.util.sumArrays(a.util.arrayLast(h).r[0],a.util.arrayLast(m)))]:r.extent(a.util.flattenArray(h.map(function(t,e){return t.r}))),f.radialAxis.domain!=a.DATAEXTENT&&(b[0]=0),n=r.scale.linear().domain(f.radialAxis.domain!=a.DATAEXTENT&&f.radialAxis.domain?f.radialAxis.domain:b).range([0,v]),c.layout.radialAxis.domain=n.domain();var x,w=a.util.flattenArray(h.map(function(t,e){return t.t})),k="string"==typeof w[0];k&&(w=a.util.deduplicate(w),x=w.slice(),w=r.range(w.length),h=h.map(function(t,e){var n=t;return t.t=[w],p&&(n.yStack=t.yStack),n}));var T=h.filter(function(t,e){return"LinePlot"===t.geometry||"DotPlot"===t.geometry}).length===h.length,C=null===f.needsEndSpacing?k||!T:f.needsEndSpacing,A=f.angularAxis.domain&&f.angularAxis.domain!=a.DATAEXTENT&&!k&&f.angularAxis.domain[0]>=0?f.angularAxis.domain:r.extent(w),M=Math.abs(w[1]-w[0]);T&&!k&&(M=0);var S=A.slice();C&&k&&(S[1]+=M);var E=f.angularAxis.ticksCount||4;E>8&&(E=E/(E/8)+E%8),f.angularAxis.ticksStep&&(E=(S[1]-S[0])/E);var O=f.angularAxis.ticksStep||(S[1]-S[0])/(E*(f.minorTicks+1));x&&(O=Math.max(Math.round(O),1)),S[2]||(S[2]=O);var P=r.range.apply(this,S);if(P=P.map(function(t,e){return parseFloat(t.toPrecision(12))}),l=r.scale.linear().domain(S.slice(0,2)).range("clockwise"===f.direction?[0,360]:[360,0]),c.layout.angularAxis.domain=l.domain(),c.layout.angularAxis.endPadding=C?M:0,void 0===(t=r.select(this).select("svg.chart-root"))||t.empty()){var I=(new DOMParser).parseFromString("<svg xmlns='http://www.w3.org/2000/svg' class='chart-root'>' + '<g class='outer-group'>' + '<g class='chart-group'>' + '<circle class='background-circle'></circle>' + '<g class='geometry-group'></g>' + '<g class='radial axis-group'>' + '<circle class='outside-circle'></circle>' + '</g>' + '<g class='angular axis-group'></g>' + '<g class='guides-group'><line></line><circle r='0'></circle></g>' + '</g>' + '<g class='legend-group'></g>' + '<g class='tooltips-group'></g>' + '<g class='title-group'><text></text></g>' + '</g>' + '</svg>","application/xml"),D=this.appendChild(this.ownerDocument.importNode(I.documentElement,!0));t=r.select(D)}t.select(".guides-group").style({"pointer-events":"none"}),t.select(".angular.axis-group").style({"pointer-events":"none"}),t.select(".radial.axis-group").style({"pointer-events":"none"});var L,R=t.select(".chart-group"),N={fill:"none",stroke:f.tickColor},F={"font-size":f.font.size,"font-family":f.font.family,fill:f.font.color,"text-shadow":["-1px 0px","1px -1px","-1px 1px","1px 1px"].map(function(t,e){return" "+t+" 0 "+f.font.outlineColor}).join(",")};if(f.showLegend){L=t.select(".legend-group").attr({transform:"translate("+[v,f.margin.top]+")"}).style({display:"block"});var z=h.map(function(t,e){var n=a.util.cloneJson(t);return n.symbol="DotPlot"===t.geometry?t.dotType||"circle":"LinePlot"!=t.geometry?"square":"line",n.visibleInLegend=void 0===t.visibleInLegend||t.visibleInLegend,n.color="LinePlot"===t.geometry?t.strokeColor:t.color,n});a.Legend().config({data:h.map(function(t,e){return t.name||"Element"+e}),legendConfig:i({},a.Legend.defaultConfig().legendConfig,{container:L,elements:z,reverseOrder:f.legend.reverseOrder})})();var j=L.node().getBBox();v=Math.min(f.width-j.width-f.margin.left-f.margin.right,f.height-f.margin.top-f.margin.bottom)/2,v=Math.max(10,v),_=[f.margin.left+v,f.margin.top+v],n.range([0,v]),c.layout.radialAxis.domain=n.domain(),L.attr("transform","translate("+[_[0]+v,_[1]-v]+")")}else L=t.select(".legend-group").style({display:"none"});t.attr({width:f.width,height:f.height}).style({opacity:f.opacity}),R.attr("transform","translate("+_+")").style({cursor:"crosshair"});var V=[(f.width-(f.margin.left+f.margin.right+2*v+(j?j.width:0)))/2,(f.height-(f.margin.top+f.margin.bottom+2*v))/2];if(V[0]=Math.max(0,V[0]),V[1]=Math.max(0,V[1]),t.select(".outer-group").attr("transform","translate("+V+")"),f.title){var B=t.select("g.title-group text").style(F).text(f.title),H=B.node().getBBox();B.attr({x:_[0]-H.width/2,y:_[1]-v-20})}var q=t.select(".radial.axis-group");if(f.radialAxis.gridLinesVisible){var U=q.selectAll("circle.grid-circle").data(n.ticks(5));U.enter().append("circle").attr({class:"grid-circle"}).style(N),U.attr("r",n),U.exit().remove()}q.select("circle.outside-circle").attr({r:v}).style(N);var G=t.select("circle.background-circle").attr({r:v}).style({fill:f.backgroundColor,stroke:f.stroke});function W(t,e){return l(t)%360+f.orientation}if(f.radialAxis.visible){var Y=r.svg.axis().scale(n).ticks(5).tickSize(5);q.call(Y).attr({transform:"rotate("+f.radialAxis.orientation+")"}),q.selectAll(".domain").style(N),q.selectAll("g>text").text(function(t,e){return this.textContent+f.radialAxis.ticksSuffix}).style(F).style({"text-anchor":"start"}).attr({x:0,y:0,dx:0,dy:0,transform:function(t,e){return"horizontal"===f.radialAxis.tickOrientation?"rotate("+-f.radialAxis.orientation+") translate("+[0,F["font-size"]]+")":"translate("+[0,F["font-size"]]+")"}}),q.selectAll("g>line").style({stroke:"black"})}var Z=t.select(".angular.axis-group").selectAll("g.angular-tick").data(P),X=Z.enter().append("g").classed("angular-tick",!0);Z.attr({transform:function(t,e){return"rotate("+W(t)+")"}}).style({display:f.angularAxis.visible?"block":"none"}),Z.exit().remove(),X.append("line").classed("grid-line",!0).classed("major",function(t,e){return e%(f.minorTicks+1)==0}).classed("minor",function(t,e){return!(e%(f.minorTicks+1)==0)}).style(N),X.selectAll(".minor").style({stroke:f.minorTickColor}),Z.select("line.grid-line").attr({x1:f.tickLength?v-f.tickLength:0,x2:v}).style({display:f.angularAxis.gridLinesVisible?"block":"none"}),X.append("text").classed("axis-text",!0).style(F);var Q=Z.select("text.axis-text").attr({x:v+f.labelOffset,dy:o+"em",transform:function(t,e){var n=W(t),r=v+f.labelOffset,i=f.angularAxis.tickOrientation;return"horizontal"==i?"rotate("+-n+" "+r+" 0)":"radial"==i?n<270&&n>90?"rotate(180 "+r+" 0)":null:"rotate("+(n<=180&&n>0?-90:90)+" "+r+" 0)"}}).style({"text-anchor":"middle",display:f.angularAxis.labelsVisible?"block":"none"}).text(function(t,e){return e%(f.minorTicks+1)!=0?"":x?x[t]+f.angularAxis.ticksSuffix:t+f.angularAxis.ticksSuffix}).style(F);f.angularAxis.rewriteTicks&&Q.text(function(t,e){return e%(f.minorTicks+1)!=0?"":f.angularAxis.rewriteTicks(this.textContent,e)});var K=r.max(R.selectAll(".angular-tick text")[0].map(function(t,e){return t.getCTM().e+t.getBBox().width}));L.attr({transform:"translate("+[v+K,f.margin.top]+")"});var $=t.select("g.geometry-group").selectAll("g").size()>0,J=t.select("g.geometry-group").selectAll("g.geometry").data(h);if(J.enter().append("g").attr({class:function(t,e){return"geometry geometry"+e}}),J.exit().remove(),h[0]||$){var tt=[];h.forEach(function(t,e){var r={};r.radialScale=n,r.angularScale=l,r.container=J.filter(function(t,n){return n==e}),r.geometry=t.geometry,r.orientation=f.orientation,r.direction=f.direction,r.index=e,tt.push({data:t,geometryConfig:r})});var et=[];r.nest().key(function(t,e){return void 0!==t.data.groupId||"unstacked"}).entries(tt).forEach(function(t,e){"unstacked"===t.key?et=et.concat(t.values.map(function(t,e){return[t]})):et.push(t.values)}),et.forEach(function(t,e){var n;n=Array.isArray(t)?t[0].geometryConfig.geometry:t.geometryConfig.geometry;var r=t.map(function(t,e){return i(a[n].defaultConfig(),t)});a[n]().config(r)()})}var nt,rt,it=t.select(".guides-group"),ot=t.select(".tooltips-group"),at=a.tooltipPanel().config({container:ot,fontSize:8})(),lt=a.tooltipPanel().config({container:ot,fontSize:8})(),st=a.tooltipPanel().config({container:ot,hasTick:!0})();if(!k){var ut=it.select("line").attr({x1:0,y1:0,y2:0}).style({stroke:"grey","pointer-events":"none"});R.on("mousemove.angular-guide",function(t,e){var n=a.util.getMousePos(G).angle;ut.attr({x2:-v,transform:"rotate("+n+")"}).style({opacity:.5}),nt=l.invert((n+180+360-f.orientation)%360);var r=a.util.convertToCartesian(v+12,n+180);at.text(a.util.round(nt)).move([r[0]+_[0],r[1]+_[1]])}).on("mouseout.angular-guide",function(t,e){it.select("line").style({opacity:0})})}var ct=it.select("circle").style({stroke:"grey",fill:"none"});R.on("mousemove.radial-guide",function(t,e){var r=a.util.getMousePos(G).radius;ct.attr({r:r}).style({opacity:.5}),rt=n.invert(a.util.getMousePos(G).radius);var i=a.util.convertToCartesian(r,f.radialAxis.orientation);lt.text(a.util.round(rt)).move([i[0]+_[0],i[1]+_[1]])}).on("mouseout.radial-guide",function(t,e){ct.style({opacity:0}),st.hide(),at.hide(),lt.hide()}),t.selectAll(".geometry-group .mark").on("mouseover.tooltip",function(e,n){var i=r.select(this),o=this.style.fill,l="black";if(i.attr({"data-opacity":this.style.opacity||1}),o&&"none"!==o){i.attr({"data-fill":o}),l=r.hsl(o).darker().toString(),i.style({fill:l,opacity:1});var s={t:a.util.round(e[0]),r:a.util.round(e[1])};k&&(s.t=x[e[0]]);var u="t: "+s.t+", r: "+s.r,c=this.getBoundingClientRect(),d=t.node().getBoundingClientRect(),f=[c.left+c.width/2-V[0]-d.left,c.top+c.height/2-V[1]-d.top];st.config({color:l}).text(u),st.move(f)}else i.attr({"data-stroke":o=this.style.stroke||"black"}),l=r.hsl(o).darker().toString(),i.style({stroke:l,opacity:1})}).on("mousemove.tooltip",function(t,e){if(0!=r.event.which)return!1;r.select(this).attr("data-fill")&&st.show()}).on("mouseout.tooltip",function(t,e){st.hide();var n=r.select(this),i=n.attr("data-fill");n.style(i?{fill:i,opacity:n.attr("data-opacity")}:{stroke:n.attr("data-stroke"),opacity:n.attr("data-opacity")})})})}(u),this},config:function(t){if(!arguments.length)return s;var e=a.util.cloneJson(t);return e.data.forEach(function(t,e){s.data[e]||(s.data[e]={}),i(s.data[e],a.Axis.defaultConfig().data[0]),i(s.data[e],t)}),i(s.layout,a.Axis.defaultConfig().layout),i(s.layout,e.layout),this},getLiveConfig:function(){return c},getinputConfig:function(){return u},radialScale:function(t){return n},angularScale:function(t){return l},svg:function(){return t}};return r.rebind(f,d,"on"),f},a.Axis.defaultConfig=function(t,e){return{data:[{t:[1,2,3,4],r:[10,11,12,13],name:"Line1",geometry:"LinePlot",color:null,strokeDash:"solid",strokeColor:null,strokeSize:"1",visibleInLegend:!0,opacity:1}],layout:{defaultColorRange:r.scale.category10().range(),title:null,height:450,width:500,margin:{top:40,right:40,bottom:40,left:40},font:{size:12,color:"gray",outlineColor:"white",family:"Tahoma, sans-serif"},direction:"clockwise",orientation:0,labelOffset:10,radialAxis:{domain:null,orientation:-45,ticksSuffix:"",visible:!0,gridLinesVisible:!0,tickOrientation:"horizontal",rewriteTicks:null},angularAxis:{domain:[0,360],ticksSuffix:"",visible:!0,gridLinesVisible:!0,labelsVisible:!0,tickOrientation:"horizontal",rewriteTicks:null,ticksCount:null,ticksStep:null},minorTicks:0,tickLength:null,tickColor:"silver",minorTickColor:"#eee",backgroundColor:"none",needsEndSpacing:null,showLegend:!0,legend:{reverseOrder:!1},opacity:1}}},a.util={},a.DATAEXTENT="dataExtent",a.AREA="AreaChart",a.LINE="LinePlot",a.DOT="DotPlot",a.BAR="BarChart",a.util._override=function(t,e){for(var n in t)n in e&&(e[n]=t[n])},a.util._extend=function(t,e){for(var n in t)e[n]=t[n]},a.util._rndSnd=function(){return 2*Math.random()-1+(2*Math.random()-1)+(2*Math.random()-1)},a.util.dataFromEquation2=function(t,e){var n=e||6;return r.range(0,360+n,n).map(function(e,n){var r=e*Math.PI/180;return[e,t(r)]})},a.util.dataFromEquation=function(t,e,n){var i=e||6,o=[],a=[];r.range(0,360+i,i).forEach(function(e,n){var r=e*Math.PI/180,i=t(r);o.push(e),a.push(i)});var l={t:o,r:a};return n&&(l.name=n),l},a.util.ensureArray=function(t,e){if(void 0===t)return null;var n=[].concat(t);return r.range(e).map(function(t,e){return n[e]||n[0]})},a.util.fillArrays=function(t,e,n){return e.forEach(function(e,r){t[e]=a.util.ensureArray(t[e],n)}),t},a.util.cloneJson=function(t){return JSON.parse(JSON.stringify(t))},a.util.validateKeys=function(t,e){"string"==typeof e&&(e=e.split("."));var n=e.shift();return t[n]&&(!e.length||objHasKeys(t[n],e))},a.util.sumArrays=function(t,e){return r.zip(t,e).map(function(t,e){return r.sum(t)})},a.util.arrayLast=function(t){return t[t.length-1]},a.util.arrayEqual=function(t,e){for(var n=Math.max(t.length,e.length,1);n-- >=0&&t[n]===e[n];);return-2===n},a.util.flattenArray=function(t){for(var e=[];!a.util.arrayEqual(e,t);)e=t,t=[].concat.apply([],t);return t},a.util.deduplicate=function(t){return t.filter(function(t,e,n){return n.indexOf(t)==e})},a.util.convertToCartesian=function(t,e){var n=e*Math.PI/180;return[t*Math.cos(n),t*Math.sin(n)]},a.util.round=function(t,e){var n=Math.pow(10,e||2);return Math.round(t*n)/n},a.util.getMousePos=function(t){var e=r.mouse(t.node()),n=e[0],i=e[1],o={};return o.x=n,o.y=i,o.pos=e,o.angle=180*(Math.atan2(i,n)+Math.PI)/Math.PI,o.radius=Math.sqrt(n*n+i*i),o},a.util.duplicatesCount=function(t){for(var e,n={},r={},i=0,o=t.length;i<o;i++)(e=t[i])in n?(n[e]++,r[e]=n[e]):n[e]=1;return r},a.util.duplicates=function(t){return Object.keys(a.util.duplicatesCount(t))},a.util.translator=function(t,e,n,r){if(r){var i=n.slice();n=e,e=i}var o=e.reduce(function(t,e){if(void 0!==t)return t[e]},t);void 0!==o&&(e.reduce(function(t,n,r){if(void 0!==t)return r===e.length-1&&delete t[n],t[n]},t),n.reduce(function(t,e,r){return void 0===t[e]&&(t[e]={}),r===n.length-1&&(t[e]=o),t[e]},t))},a.PolyChart=function(){var t=[a.PolyChart.defaultConfig()],e=r.dispatch("hover"),n={solid:"none",dash:[5,2],dot:[2,5]};function o(){var e=t[0].geometryConfig,i=e.container;"string"==typeof i&&(i=r.select(i)),i.datum(t).each(function(t,i){var o=!!t[0].data.yStack,a=t.map(function(t,e){return o?r.zip(t.data.t[0],t.data.r[0],t.data.yStack[0]):r.zip(t.data.t[0],t.data.r[0])}),l=e.angularScale,s=e.radialScale.domain()[0],u={bar:function(n,i,o){var a=t[o].data,s=e.radialScale(n[1])-e.radialScale(0),u=e.radialScale(n[2]||0),c=a.barWidth;r.select(this).attr({class:"mark bar",d:"M"+[[s+u,-c/2],[s+u,c/2],[u,c/2],[u,-c/2]].join("L")+"Z",transform:function(t,n){return"rotate("+(e.orientation+l(t[0]))+")"}})},dot:function(n,i,o){var a=n[2]?[n[0],n[1]+n[2]]:n,l=r.svg.symbol().size(t[o].data.dotSize).type(t[o].data.dotType)(n,i);r.select(this).attr({class:"mark dot",d:l,transform:function(t,n){var r;return"translate("+[(r=function(t,n){return{r:e.radialScale(t[1]),t:(e.angularScale(t[0])+e.orientation)*Math.PI/180}}(a)).r*Math.cos(r.t),r.r*Math.sin(r.t)]+")"}})}},c=r.svg.line.radial().interpolate(t[0].data.lineInterpolation).radius(function(t){return e.radialScale(t[1])}).angle(function(t){return e.angularScale(t[0])*Math.PI/180});u.line=function(n,i,o){var l=n[2]?a[o].map(function(t,e){return[t[0],t[1]+t[2]]}):a[o];if(r.select(this).each(u.dot).style({opacity:function(e,n){return+t[o].data.dotVisible},fill:p.stroke(n,i,o)}).attr({class:"mark dot"}),!(i>0)){var s=r.select(this.parentNode).selectAll("path.line").data([0]);s.enter().insert("path"),s.attr({class:"line",d:c(l),transform:function(t,n){return"rotate("+(e.orientation+90)+")"},"pointer-events":"none"}).style({fill:function(t,e){return p.fill(n,i,o)},"fill-opacity":0,stroke:function(t,e){return p.stroke(n,i,o)},"stroke-width":function(t,e){return p["stroke-width"](n,i,o)},"stroke-dasharray":function(t,e){return p["stroke-dasharray"](n,i,o)},opacity:function(t,e){return p.opacity(n,i,o)},display:function(t,e){return p.display(n,i,o)}})}};var d=e.angularScale.range(),f=Math.abs(d[1]-d[0])/a[0].length*Math.PI/180,h=r.svg.arc().startAngle(function(t){return-f/2}).endAngle(function(t){return f/2}).innerRadius(function(t){return e.radialScale(s+(t[2]||0))}).outerRadius(function(t){return e.radialScale(s+(t[2]||0))+e.radialScale(t[1])});u.arc=function(t,n,i){r.select(this).attr({class:"mark arc",d:h,transform:function(t,n){return"rotate("+(e.orientation+l(t[0])+90)+")"}})};var p={fill:function(e,n,r){return t[r].data.color},stroke:function(e,n,r){return t[r].data.strokeColor},"stroke-width":function(e,n,r){return t[r].data.strokeSize+"px"},"stroke-dasharray":function(e,r,i){return n[t[i].data.strokeDash]},opacity:function(e,n,r){return t[r].data.opacity},display:function(e,n,r){return void 0===t[r].data.visible||t[r].data.visible?"block":"none"}},g=r.select(this).selectAll("g.layer").data(a);g.enter().append("g").attr({class:"layer"});var m=g.selectAll("path.mark").data(function(t,e){return t});m.enter().append("path").attr({class:"mark"}),m.style(p).each(u[e.geometryType]),m.exit().remove(),g.exit().remove()})}return o.config=function(e){return arguments.length?(e.forEach(function(e,n){t[n]||(t[n]={}),i(t[n],a.PolyChart.defaultConfig()),i(t[n],e)}),this):t},o.getColorScale=function(){},r.rebind(o,e,"on"),o},a.PolyChart.defaultConfig=function(){return{data:{name:"geom1",t:[[1,2,3,4]],r:[[1,2,3,4]],dotType:"circle",dotSize:64,dotVisible:!1,barWidth:20,color:"#ffa500",strokeSize:1,strokeColor:"silver",strokeDash:"solid",opacity:1,index:0,visible:!0,visibleInLegend:!0},geometryConfig:{geometry:"LinePlot",geometryType:"arc",direction:"clockwise",orientation:0,container:"body",radialScale:null,angularScale:null,colorScale:r.scale.category20()}}},a.BarChart=function(){return a.PolyChart()},a.BarChart.defaultConfig=function(){return{geometryConfig:{geometryType:"bar"}}},a.AreaChart=function(){return a.PolyChart()},a.AreaChart.defaultConfig=function(){return{geometryConfig:{geometryType:"arc"}}},a.DotPlot=function(){return a.PolyChart()},a.DotPlot.defaultConfig=function(){return{geometryConfig:{geometryType:"dot",dotType:"circle"}}},a.LinePlot=function(){return a.PolyChart()},a.LinePlot.defaultConfig=function(){return{geometryConfig:{geometryType:"line"}}},a.Legend=function(){var t=a.Legend.defaultConfig(),e=r.dispatch("hover");function n(){var e=t.legendConfig,o=t.data.map(function(t,n){return[].concat(t).map(function(t,r){var o=i({},e.elements[n]);return o.name=t,o.color=[].concat(e.elements[n].color)[r],o})}),a=r.merge(o);a=a.filter(function(t,n){return e.elements[n]&&(e.elements[n].visibleInLegend||void 0===e.elements[n].visibleInLegend)}),e.reverseOrder&&(a=a.reverse());var l=e.container;("string"==typeof l||l.nodeName)&&(l=r.select(l));var s=a.map(function(t,e){return t.color}),u=e.fontSize,c=null==e.isContinuous?"number"==typeof a[0]:e.isContinuous,d=c?e.height:u*a.length,f=l.classed("legend-group",!0).selectAll("svg").data([0]),h=f.enter().append("svg").attr({width:300,height:d+u,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"});h.append("g").classed("legend-axis",!0),h.append("g").classed("legend-marks",!0);var p=r.range(a.length),g=r.scale[c?"linear":"ordinal"]().domain(p).range(s),m=r.scale[c?"linear":"ordinal"]().domain(p)[c?"range":"rangePoints"]([0,d]);if(c){var y=f.select(".legend-marks").append("defs").append("linearGradient").attr({id:"grad1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}).selectAll("stop").data(s);y.enter().append("stop"),y.attr({offset:function(t,e){return e/(s.length-1)*100+"%"}}).style({"stop-color":function(t,e){return t}}),f.append("rect").classed("legend-mark",!0).attr({height:e.height,width:e.colorBandWidth,fill:"url(#grad1)"})}else{var v=f.select(".legend-marks").selectAll("path.legend-mark").data(a);v.enter().append("path").classed("legend-mark",!0),v.attr({transform:function(t,e){return"translate("+[u/2,m(e)+u/2]+")"},d:function(t,e){var n,i,o;return o=3*(i=u),"line"===(n=t.symbol)?"M"+[[-i/2,-i/12],[i/2,-i/12],[i/2,i/12],[-i/2,i/12]]+"Z":-1!=r.svg.symbolTypes.indexOf(n)?r.svg.symbol().type(n).size(o)():r.svg.symbol().type("square").size(o)()},fill:function(t,e){return g(e)}}),v.exit().remove()}var b=r.svg.axis().scale(m).orient("right"),_=f.select("g.legend-axis").attr({transform:"translate("+[c?e.colorBandWidth:u,u/2]+")"}).call(b);return _.selectAll(".domain").style({fill:"none",stroke:"none"}),_.selectAll("line").style({fill:"none",stroke:c?e.textColor:"none"}),_.selectAll("text").style({fill:e.textColor,"font-size":e.fontSize}).text(function(t,e){return a[e].name}),n}return n.config=function(e){return arguments.length?(i(t,e),this):t},r.rebind(n,e,"on"),n},a.Legend.defaultConfig=function(t,e){return{data:["a","b","c"],legendConfig:{elements:[{symbol:"line",color:"red"},{symbol:"square",color:"yellow"},{symbol:"diamond",color:"limegreen"}],height:150,colorBandWidth:30,fontSize:12,container:"body",isContinuous:null,textColor:"grey",reverseOrder:!1}}},a.tooltipPanel=function(){var t,e,n,o={container:null,hasTick:!1,fontSize:12,color:"white",padding:5},l="tooltip-"+a.tooltipPanel.uid++,s=10,u=function(){var r=(t=o.container.selectAll("g."+l).data([0])).enter().append("g").classed(l,!0).style({"pointer-events":"none",display:"none"});return n=r.append("path").style({fill:"white","fill-opacity":.9}).attr({d:"M0 0"}),e=r.append("text").attr({dx:o.padding+s,dy:.3*+o.fontSize}),u};return u.text=function(i){var a=r.hsl(o.color).l,l=a>=.5?"#aaa":"white",c=i||"";e.style({fill:a>=.5?"black":"white","font-size":o.fontSize+"px"}).text(c);var d=o.padding,f=e.node().getBBox(),h={fill:o.color,stroke:l,"stroke-width":"2px"},p=f.width+2*d+s,g=f.height+2*d;return n.attr({d:"M"+[[s,-g/2],[s,-g/4],[o.hasTick?0:s,0],[s,g/4],[s,g/2],[p,g/2],[p,-g/2]].join("L")+"Z"}).style(h),t.attr({transform:"translate("+[s,-g/2+2*d]+")"}),t.style({display:"block"}),u},u.move=function(e){if(t)return t.attr({transform:"translate("+[e[0],e[1]]+")"}).style({display:"block"}),u},u.hide=function(){if(t)return t.style({display:"none"}),u},u.show=function(){if(t)return t.style({display:"block"}),u},u.config=function(t){return i(o,t),u},u},a.tooltipPanel.uid=1,a.adapter={},a.adapter.plotly=function(){return{convert:function(t,e){var n={};if(t.data&&(n.data=t.data.map(function(t,n){var r=i({},t);return[[r,["marker","color"],["color"]],[r,["marker","opacity"],["opacity"]],[r,["marker","line","color"],["strokeColor"]],[r,["marker","line","dash"],["strokeDash"]],[r,["marker","line","width"],["strokeSize"]],[r,["marker","symbol"],["dotType"]],[r,["marker","size"],["dotSize"]],[r,["marker","barWidth"],["barWidth"]],[r,["line","interpolation"],["lineInterpolation"]],[r,["showlegend"],["visibleInLegend"]]].forEach(function(t,n){a.util.translator.apply(null,t.concat(e))}),e||delete r.marker,e&&delete r.groupId,e?("LinePlot"===r.geometry?(r.type="scatter",!0===r.dotVisible?(delete r.dotVisible,r.mode="lines+markers"):r.mode="lines"):"DotPlot"===r.geometry?(r.type="scatter",r.mode="markers"):"AreaChart"===r.geometry?r.type="area":"BarChart"===r.geometry&&(r.type="bar"),delete r.geometry):("scatter"===r.type?"lines"===r.mode?r.geometry="LinePlot":"markers"===r.mode?r.geometry="DotPlot":"lines+markers"===r.mode&&(r.geometry="LinePlot",r.dotVisible=!0):"area"===r.type?r.geometry="AreaChart":"bar"===r.type&&(r.geometry="BarChart"),delete r.mode,delete r.type),r}),!e&&t.layout&&"stack"===t.layout.barmode)){var o=a.util.duplicates(n.data.map(function(t,e){return t.geometry}));n.data.forEach(function(t,e){var r=o.indexOf(t.geometry);-1!=r&&(n.data[e].groupId=r)})}if(t.layout){var l=i({},t.layout);if([[l,["plot_bgcolor"],["backgroundColor"]],[l,["showlegend"],["showLegend"]],[l,["radialaxis"],["radialAxis"]],[l,["angularaxis"],["angularAxis"]],[l.angularaxis,["showline"],["gridLinesVisible"]],[l.angularaxis,["showticklabels"],["labelsVisible"]],[l.angularaxis,["nticks"],["ticksCount"]],[l.angularaxis,["tickorientation"],["tickOrientation"]],[l.angularaxis,["ticksuffix"],["ticksSuffix"]],[l.angularaxis,["range"],["domain"]],[l.angularaxis,["endpadding"],["endPadding"]],[l.radialaxis,["showline"],["gridLinesVisible"]],[l.radialaxis,["tickorientation"],["tickOrientation"]],[l.radialaxis,["ticksuffix"],["ticksSuffix"]],[l.radialaxis,["range"],["domain"]],[l.angularAxis,["showline"],["gridLinesVisible"]],[l.angularAxis,["showticklabels"],["labelsVisible"]],[l.angularAxis,["nticks"],["ticksCount"]],[l.angularAxis,["tickorientation"],["tickOrientation"]],[l.angularAxis,["ticksuffix"],["ticksSuffix"]],[l.angularAxis,["range"],["domain"]],[l.angularAxis,["endpadding"],["endPadding"]],[l.radialAxis,["showline"],["gridLinesVisible"]],[l.radialAxis,["tickorientation"],["tickOrientation"]],[l.radialAxis,["ticksuffix"],["ticksSuffix"]],[l.radialAxis,["range"],["domain"]],[l.font,["outlinecolor"],["outlineColor"]],[l.legend,["traceorder"],["reverseOrder"]],[l,["labeloffset"],["labelOffset"]],[l,["defaultcolorrange"],["defaultColorRange"]]].forEach(function(t,n){a.util.translator.apply(null,t.concat(e))}),e?(void 0!==l.tickLength&&(l.angularaxis.ticklen=l.tickLength,delete l.tickLength),l.tickColor&&(l.angularaxis.tickcolor=l.tickColor,delete l.tickColor)):(l.angularAxis&&void 0!==l.angularAxis.ticklen&&(l.tickLength=l.angularAxis.ticklen),l.angularAxis&&void 0!==l.angularAxis.tickcolor&&(l.tickColor=l.angularAxis.tickcolor)),l.legend&&"boolean"!=typeof l.legend.reverseOrder&&(l.legend.reverseOrder="normal"!=l.legend.reverseOrder),l.legend&&"boolean"==typeof l.legend.traceorder&&(l.legend.traceorder=l.legend.traceorder?"reversed":"normal",delete l.legend.reverseOrder),l.margin&&void 0!==l.margin.t){var s=["t","r","b","l","pad"],u=["top","right","bottom","left","pad"],c={};r.entries(l.margin).forEach(function(t,e){c[u[s.indexOf(t.key)]]=t.value}),l.margin=c}e&&(delete l.needsEndSpacing,delete l.minorTickColor,delete l.minorTicks,delete l.angularaxis.ticksCount,delete l.angularaxis.ticksCount,delete l.angularaxis.ticksStep,delete l.angularaxis.rewriteTicks,delete l.angularaxis.nticks,delete l.radialaxis.ticksCount,delete l.radialaxis.ticksCount,delete l.radialaxis.ticksStep,delete l.radialaxis.rewriteTicks,delete l.radialaxis.nticks),n.layout=l}return n}}}},{"../../../constants/alignment":143,"../../../lib":163,d3:7}],242:[function(t,e,n){"use strict";var r=t("d3"),i=t("../../../lib"),o=t("../../../components/color"),a=t("./micropolar"),l=t("./undo_manager"),s=i.extendDeepAll,u=e.exports={};u.framework=function(t){var e,n,i,o,c,d=new l;function f(n,l){return l&&(c=l),r.select(r.select(c).node().parentNode).selectAll(".svg-container>*:not(.chart-root)").remove(),e=e?s(e,n):n,i||(i=a.Axis()),o=a.adapter.plotly().convert(e),i.config(o).render(c),t.data=e.data,t.layout=e.layout,u.fillLayout(t),e}return f.isPolar=!0,f.svg=function(){return i.svg()},f.getConfig=function(){return e},f.getLiveConfig=function(){return a.adapter.plotly().convert(i.getLiveConfig(),!0)},f.getLiveScales=function(){return{t:i.angularScale(),r:i.radialScale()}},f.setUndoPoint=function(){var t,r,i=this,o=a.util.cloneJson(e);t=o,r=n,d.add({undo:function(){r&&i(r)},redo:function(){i(t)}}),n=a.util.cloneJson(o)},f.undo=function(){d.undo()},f.redo=function(){d.redo()},f},u.fillLayout=function(t){var e=r.select(t).selectAll(".plot-container"),n=e.selectAll(".svg-container"),i=t.framework&&t.framework.svg&&t.framework.svg();t._fullLayout=s({width:800,height:600,paper_bgcolor:o.background,_container:e,_paperdiv:n,_paper:i},t.layout)}},{"../../../components/color":43,"../../../lib":163,"./micropolar":241,"./undo_manager":243,d3:7}],243:[function(t,e,n){"use strict";e.exports=function(){var t,e=[],n=-1,r=!1;function i(t,e){return t?(r=!0,t[e](),r=!1,this):this}return{add:function(t){return r?this:(e.splice(n+1,e.length-n),e.push(t),n=e.length-1,this)},setCallback:function(e){t=e},undo:function(){var r=e[n];return r?(i(r,"undo"),n-=1,t&&t(r.undo),this):this},redo:function(){var r=e[n+1];return r?(i(r,"redo"),n+=1,t&&t(r.redo),this):this},clear:function(){e=[],n=-1},hasUndo:function(){return-1!==n},hasRedo:function(){return n<e.length-1},getCommands:function(){return e},getPreviousCommand:function(){return e[n-1]},getIndex:function(){return n}}}},{}],244:[function(t,e,n){"use strict";function r(t,e){return"splom"===t?-1:"splom"===e?1:0}e.exports={sortBasePlotModules:function(t,e){return r(t.name,e.name)},sortModules:r}},{}],245:[function(t,e,n){"use strict";var r=t("./lib/loggers"),i=t("./lib/noop"),o=t("./lib/push_unique"),a=t("./lib/is_plain_object"),l=t("./lib/extend"),s=t("./plots/attributes"),u=t("./plots/layout_attributes"),c=l.extendFlat,d=l.extendDeepAll;function f(t){var e=t.name,i=t.categories,o=t.meta;if(n.modules[e])r.log("Type "+e+" already registered");else{n.subplotsRegistry[t.basePlotModule.name]||function(t){var e=t.name;if(n.subplotsRegistry[e])r.log("Plot type "+e+" already registered.");else for(var i in m(t),n.subplotsRegistry[e]=t,n.componentsRegistry)b(i,t.name)}(t.basePlotModule);for(var a={},l=0;l<i.length;l++)a[i[l]]=!0,n.allCategories[i[l]]=!0;for(var s in n.modules[e]={_module:t,categories:a},o&&Object.keys(o).length&&(n.modules[e].meta=o),n.allTypes.push(e),n.componentsRegistry)y(s,e);t.layoutAttributes&&c(n.traceLayoutAttributes,t.layoutAttributes)}}function h(t){if("string"!=typeof t.name)throw new Error("Component module *name* must be a string.");var e=t.name;for(var r in n.componentsRegistry[e]=t,t.layoutAttributes&&(t.layoutAttributes._isLinkedToArray&&o(n.layoutArrayContainers,e),m(t)),n.modules)y(e,r);for(var i in n.subplotsRegistry)b(e,i);for(var a in n.transformsRegistry)v(e,a);t.schema&&t.schema.layout&&d(u,t.schema.layout)}function p(t){if("string"!=typeof t.name)throw new Error("Transform module *name* must be a string.");var e="Transform module "+t.name,i="function"==typeof t.transform,o="function"==typeof t.calcTransform;if(!i&&!o)throw new Error(e+" is missing a *transform* or *calcTransform* method.");for(var l in i&&o&&r.log([e+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),a(t.attributes)||r.log(e+" registered without an *attributes* object."),"function"!=typeof t.supplyDefaults&&r.log(e+" registered without a *supplyDefaults* method."),n.transformsRegistry[t.name]=t,n.componentsRegistry)v(l,t.name)}function g(t){var e=t.name,r=e.split("-")[0],i=t.dictionary,o=t.format,a=i&&Object.keys(i).length,l=o&&Object.keys(o).length,s=n.localeRegistry,u=s[e];if(u||(s[e]=u={}),r!==e){var c=s[r];c||(s[r]=c={}),a&&c.dictionary===u.dictionary&&(c.dictionary=i),l&&c.format===u.format&&(c.format=o)}a&&(u.dictionary=i),l&&(u.format=o)}function m(t){if(t.layoutAttributes){var e=t.layoutAttributes._arrayAttrRegexps;if(e)for(var r=0;r<e.length;r++)o(n.layoutArrayRegexes,e[r])}}function y(t,e){var r=n.componentsRegistry[t].schema;if(r&&r.traces){var i=r.traces[e];i&&d(n.modules[e]._module.attributes,i)}}function v(t,e){var r=n.componentsRegistry[t].schema;if(r&&r.transforms){var i=r.transforms[e];i&&d(n.transformsRegistry[e].attributes,i)}}function b(t,e){var r=n.componentsRegistry[t].schema;if(r&&r.subplots){var i=n.subplotsRegistry[e],o=i.layoutAttributes,a="subplot"===i.attr?i.name:i.attr;Array.isArray(a)&&(a=a[0]);var l=r.subplots[a];o&&l&&d(o,l)}}function _(t){return"object"==typeof t&&(t=t.type),t}n.modules={},n.allCategories={},n.allTypes=[],n.subplotsRegistry={},n.transformsRegistry={},n.componentsRegistry={},n.layoutArrayContainers=[],n.layoutArrayRegexes=[],n.traceLayoutAttributes={},n.localeRegistry={},n.apiMethodRegistry={},n.register=function(t){if(!t)throw new Error("No argument passed to Plotly.register.");t&&!Array.isArray(t)&&(t=[t]);for(var e=0;e<t.length;e++){var r=t[e];if(!r)throw new Error("Invalid module was attempted to be registered!");switch(r.moduleType){case"trace":f(r);break;case"transform":p(r);break;case"component":h(r);break;case"locale":g(r);break;case"apiMethod":n.apiMethodRegistry[r.name]=r.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},n.getModule=function(t){var e=n.modules[_(t)];return!!e&&e._module},n.traceIs=function(t,e){if("various"===(t=_(t)))return!1;var i=n.modules[t];return i||(t&&"area"!==t&&r.log("Unrecognized trace type "+t+"."),i=n.modules[s.type.dflt]),!!i.categories[e]},n.getTransformIndices=function(t,e){for(var n=[],r=t.transforms||[],i=0;i<r.length;i++)r[i].type===e&&n.push(i);return n},n.hasTransform=function(t,e){for(var n=t.transforms||[],r=0;r<n.length;r++)if(n[r].type===e)return!0;return!1},n.getComponentMethod=function(t,e){var r=n.componentsRegistry[t];return r&&r[e]||i},n.call=function(){var t=arguments[0],e=[].slice.call(arguments,1);return n.apiMethodRegistry[t].apply(null,e)}},{"./lib/extend":157,"./lib/is_plain_object":165,"./lib/loggers":168,"./lib/noop":172,"./lib/push_unique":176,"./plots/attributes":202,"./plots/layout_attributes":235}],246:[function(t,e,n){"use strict";var r=t("../lib"),i=r.extendFlat,o=r.extendDeep;function a(t){var e;switch(t){case"themes__thumb":e={autosize:!0,width:150,height:150,title:"",showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":e={title:"",hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:e={}}return e}e.exports=function(t,e){var n;t.framework&&t.framework.isPolar&&(t=t.framework.getConfig());var r=t.layout,l=o([],t.data),s=o({},r,a(e.tileClass)),u=t._context||{};if(e.width&&(s.width=e.width),e.height&&(s.height=e.height),"thumbnail"===e.tileClass||"themes__thumb"===e.tileClass){s.annotations=[];var c=Object.keys(s);for(n=0;n<c.length;n++)["xaxis","yaxis","zaxis"].indexOf(c[n].slice(0,5))>-1&&(s[c[n]].title="");for(n=0;n<l.length;n++){var d=l[n];d.showscale=!1,d.marker&&(d.marker.showscale=!1),"pie"===d.type&&(d.textposition="none")}}if(Array.isArray(e.annotations))for(n=0;n<e.annotations.length;n++)s.annotations.push(e.annotations[n]);var f=Object.keys(s).filter(function(t){return t.match(/^scene\d*$/)});if(f.length){var h={};for("thumbnail"===e.tileClass&&(h={title:"",showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),n=0;n<f.length;n++){var p=s[f[n]];p.xaxis||(p.xaxis={}),p.yaxis||(p.yaxis={}),p.zaxis||(p.zaxis={}),i(p.xaxis,h),i(p.yaxis,h),i(p.zaxis,h),p._scene=null}}var g=document.createElement("div");e.tileClass&&(g.className=e.tileClass);var m={gd:g,td:g,layout:s,data:l,config:{staticPlot:void 0===e.staticPlot||e.staticPlot,plotGlPixelRatio:void 0===e.plotGlPixelRatio?2:e.plotGlPixelRatio,displaylogo:e.displaylogo||!1,showLink:e.showLink||!1,showTips:e.showTips||!1,mapboxAccessToken:u.mapboxAccessToken}};return"transparent"!==e.setBackground&&(m.config.setBackground=e.setBackground||"opaque"),m.gd.defaultLayout=a(e.tileClass),m}},{"../lib":163}],247:[function(t,e,n){"use strict";var r=t("../plot_api/to_image"),i=t("../lib"),o=t("./filesaver");e.exports=function(t,e){return(e=e||{}).format=e.format||"png",new Promise(function(n,a){t._snapshotInProgress&&a(new Error("Snapshotting already in progress.")),i.isIE()&&"svg"!==e.format&&a(new Error("Sorry IE does not support downloading from canvas. Try {format:'svg'} instead.")),t._snapshotInProgress=!0;var l=r(t,e),s=e.filename||t.fn||"newplot";s+="."+e.format,l.then(function(e){return t._snapshotInProgress=!1,o(e,s)}).then(function(t){n(t)}).catch(function(e){t._snapshotInProgress=!1,a(e)})})}},{"../lib":163,"../plot_api/to_image":198,"./filesaver":248}],248:[function(t,e,n){"use strict";e.exports=function(t,e){var n=document.createElement("a"),r="download"in n,i=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);return new Promise(function(o,a){if("undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent)&&a(new Error("IE < 10 unsupported")),i&&(document.location.href="data:application/octet-stream"+t.slice(t.search(/[,;]/)),o(e)),e||(e="download"),r&&(n.href=t,n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n),o(e)),"undefined"!=typeof navigator&&navigator.msSaveBlob){var l=t.split(/^data:image\/svg\+xml,/)[1],s=decodeURIComponent(l);navigator.msSaveBlob(new Blob([s]),e),o(e)}a(new Error("download error"))})}},{}],249:[function(t,e,n){"use strict";n.getDelay=function(t){return t._has&&(t._has("gl3d")||t._has("gl2d")||t._has("mapbox"))?500:0},n.getRedrawFunc=function(t){var e=t._fullLayout||{};if(e._has&&e._has("polar")||!t.data||!t.data[0]||!t.data[0].r)return function(){(t.calcdata||[]).forEach(function(t){t[0]&&t[0].t&&t[0].t.cb&&t[0].t.cb()})}}},{}],250:[function(t,e,n){"use strict";var r=t("./helpers"),i={getDelay:r.getDelay,getRedrawFunc:r.getRedrawFunc,clone:t("./cloneplot"),toSVG:t("./tosvg"),svgToImg:t("./svgtoimg"),toImage:t("./toimage"),downloadImage:t("./download")};e.exports=i},{"./cloneplot":246,"./download":247,"./helpers":249,"./svgtoimg":251,"./toimage":252,"./tosvg":253}],251:[function(t,e,n){"use strict";var r=t("../lib"),i=t("events").EventEmitter;e.exports=function(t){var e=t.emitter||new i,n=new Promise(function(i,o){var a=window.Image,l=t.svg,s=t.format||"png";if(r.isIE()&&"svg"!==s){var u=new Error("Sorry IE does not support downloading from canvas. Try {format:'svg'} instead.");return o(u),t.promise?n:e.emit("error",u)}var c=t.canvas,d=t.scale||1,f=d*(t.width||300),h=d*(t.height||150),p=c.getContext("2d"),g=new a,m="data:image/svg+xml,"+encodeURIComponent(l);c.width=f,c.height=h,g.onload=function(){var n;switch("svg"!==s&&p.drawImage(g,0,0,f,h),s){case"jpeg":n=c.toDataURL("image/jpeg");break;case"png":n=c.toDataURL("image/png");break;case"webp":n=c.toDataURL("image/webp");break;case"svg":n=m;break;default:var r="Image format is not jpeg, png, svg or webp.";if(o(new Error(r)),!t.promise)return e.emit("error",r)}i(n),t.promise||e.emit("success",n)},g.onerror=function(n){if(o(n),!t.promise)return e.emit("error",n)},g.src=m});return t.promise?n:e}},{"../lib":163,events:9}],252:[function(t,e,n){"use strict";var r=t("events").EventEmitter,i=t("../registry"),o=t("../lib"),a=t("./helpers"),l=t("./cloneplot"),s=t("./tosvg"),u=t("./svgtoimg");e.exports=function(t,e){var n=new r,c=l(t,{format:"png"}),d=c.gd;d.style.position="absolute",d.style.left="-5000px",document.body.appendChild(d);var f=a.getRedrawFunc(d);return i.call("plot",d,c.data,c.layout,c.config).then(f).then(function(){var t=a.getDelay(d._fullLayout);setTimeout(function(){var t=s(d),r=document.createElement("canvas");r.id=o.randstr(),(n=u({format:e.format,width:d._fullLayout.width,height:d._fullLayout.height,canvas:r,emitter:n,svg:t})).clean=function(){d&&document.body.removeChild(d)}},t)}).catch(function(t){n.emit("error",t)}),n}},{"../lib":163,"../registry":245,"./cloneplot":246,"./helpers":249,"./svgtoimg":251,"./tosvg":253,events:9}],253:[function(t,e,n){"use strict";var r=t("d3"),i=t("../lib"),o=t("../components/drawing"),a=t("../components/color"),l=t("../constants/xmlns_namespaces"),s=/"/g,u=new RegExp('("TOBESTRIPPED)|(TOBESTRIPPED")',"g");e.exports=function(t,e,n){var c,d=t._fullLayout,f=d._paper,h=d._toppaper,p=d.width,g=d.height;f.insert("rect",":first-child").call(o.setRect,0,0,p,g).call(a.fill,d.paper_bgcolor);var m=d._basePlotModules||[];for(c=0;c<m.length;c++){var y=m[c];y.toSVG&&y.toSVG(t)}if(h){var v=h.node().childNodes,b=Array.prototype.slice.call(v);for(c=0;c<b.length;c++){var _=b[c];_.childNodes.length&&f.node().appendChild(_)}}d._draggers&&d._draggers.remove(),f.node().style.background="",f.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var t=r.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){t.style({visibility:null,display:null});var e=this.style.fontFamily;e&&-1!==e.indexOf('"')&&t.style("font-family",e.replace(s,"TOBESTRIPPED"))}else t.remove()}),f.selectAll(".point,.scatterpts").each(function(){var t=r.select(this),e=this.style.fill;e&&-1!==e.indexOf("url(")&&t.style("fill",e.replace(s,"TOBESTRIPPED"))}),"pdf"!==e&&"eps"!==e||f.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),f.node().setAttributeNS(l.xmlns,"xmlns",l.svg),f.node().setAttributeNS(l.xmlns,"xmlns:xlink",l.xlink),"svg"===e&&n&&(f.attr("width",n*p),f.attr("height",n*g),f.attr("viewBox","0 0 "+p+" "+g));var x=(new window.XMLSerializer).serializeToString(f.node());return x=(x=(x=function(t){var e=r.select("body").append("div").style({display:"none"}).html(""),n=t.replace(/(&[^;]*;)/gi,function(t){return"&lt;"===t?"&#60;":"&rt;"===t?"&#62;":-1!==t.indexOf("<")||-1!==t.indexOf(">")?"":e.html(t).text()});return e.remove(),n}(x)).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(u,"'"),i.isIE()&&(x=(x=(x=x.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),x}},{"../components/color":43,"../components/drawing":68,"../constants/xmlns_namespaces":147,"../lib":163,d3:7}],254:[function(t,e,n){"use strict";var r=t("../../lib").mergeArray;e.exports=function(t,e){for(var n=0;n<t.length;n++)t[n].i=n;r(e.text,t,"tx"),r(e.hovertext,t,"htx");var i=e.marker;if(i){r(i.opacity,t,"mo"),r(i.color,t,"mc");var o=i.line;o&&(r(o.color,t,"mlc"),r(o.width,t,"mlw"))}}},{"../../lib":163}],255:[function(t,e,n){"use strict";var r=t("../scatter/attributes"),i=t("../../components/colorscale/color_attributes"),o=t("../../components/colorbar/attributes"),a=t("../../plots/font_attributes"),l=t("../../lib/extend").extendFlat,s=a({editType:"calc",arrayOk:!0}),u=r.marker,c=l({line:l({width:l({},u.line.width,{dflt:0}),editType:"calc"},i("marker.line")),editType:"calc"},i("marker"),{showscale:u.showscale,colorbar:o,opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"}});e.exports={x:r.x,x0:r.x0,dx:r.dx,y:r.y,y0:r.y0,dy:r.dy,text:r.text,hovertext:r.hovertext,textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"none",arrayOk:!0,editType:"calc"},textfont:l({},s,{}),insidetextfont:l({},s,{}),outsidetextfont:l({},s,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:l({},r.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:c,selected:{marker:{opacity:r.selected.marker.opacity,color:r.selected.marker.color,editType:"style"},textfont:r.selected.textfont,editType:"style"},unselected:{marker:{opacity:r.unselected.marker.opacity,color:r.unselected.marker.color,editType:"style"},textfont:r.unselected.textfont,editType:"style"},r:r.r,t:r.t,_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},{"../../components/colorbar/attributes":44,"../../components/colorscale/color_attributes":51,"../../lib/extend":157,"../../plots/font_attributes":231,"../scatter/attributes":281}],256:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("../../lib").isArrayOrTypedArray,o=t("../../plots/cartesian/axes"),a=t("../../components/colorscale/has_colorscale"),l=t("../../components/colorscale/calc"),s=t("./arrays_to_calcdata"),u=t("../scatter/calc_selection");e.exports=function(t,e){var n,c,d,f,h,p=o.getFromId(t,e.xaxis||"x"),g=o.getFromId(t,e.yaxis||"y");"h"===(e.orientation||(e.x&&!e.y?"h":"v"))?(n=p,d=p.makeCalcdata(e,"x"),c=g.makeCalcdata(e,"y"),h=e.xcalendar):(n=g,d=g.makeCalcdata(e,"y"),c=p.makeCalcdata(e,"x"),h=e.ycalendar);var m=Math.min(c.length,d.length),y=new Array(m);for(f=0;f<m;f++)y[f]={p:c[f],s:d[f]},e.ids&&(y[f].id=String(e.ids[f]));var v,b=e.base;if(i(b)){for(f=0;f<Math.min(b.length,y.length);f++)v=n.d2c(b[f],0,h),r(v)?(y[f].b=+v,y[f].hasB=1):y[f].b=0;for(;f<y.length;f++)y[f].b=0}else{v=n.d2c(b,0,h);var _=r(v);for(v=_?v:0,f=0;f<y.length;f++)y[f].b=v,_&&(y[f].hasB=1)}return a(e,"marker")&&l(e,e.marker.color,"marker","c"),a(e,"marker.line")&&l(e,e.marker.line.color,"marker.line","c"),s(y,e),u(y,e),y}},{"../../components/colorscale/calc":50,"../../components/colorscale/has_colorscale":57,"../../lib":163,"../../plots/cartesian/axes":205,"../scatter/calc_selection":283,"./arrays_to_calcdata":254,"fast-isnumeric":10}],257:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../components/color"),o=t("../../registry"),a=t("../scatter/xy_defaults"),l=t("../bar/style_defaults"),s=t("./attributes");e.exports=function(t,e,n,u){function c(n,i){return r.coerce(t,e,s,n,i)}var d=r.coerceFont;if(a(t,e,u,c)){c("orientation",e.x&&!e.y?"h":"v"),c("base"),c("offset"),c("width"),c("text"),c("hovertext");var f=c("textposition"),h=Array.isArray(f)||"auto"===f,p=h||"inside"===f,g=h||"outside"===f;if(p||g){var m=d(c,"textfont",u.font);p&&d(c,"insidetextfont",m),g&&d(c,"outsidetextfont",m),c("constraintext"),c("selected.textfont.color"),c("unselected.textfont.color"),c("cliponaxis")}l(t,e,c,n,u);var y=o.getComponentMethod("errorbars","supplyDefaults");y(t,e,i.defaultLine,{axis:"y"}),y(t,e,i.defaultLine,{axis:"x",inherit:"y"}),r.coerceSelectionMarkerOpacity(e,c)}else e.visible=!1}},{"../../components/color":43,"../../lib":163,"../../registry":245,"../bar/style_defaults":267,"../scatter/xy_defaults":305,"./attributes":255}],258:[function(t,e,n){"use strict";var r=t("../../components/fx"),i=t("../../registry"),o=t("../../components/color"),a=t("../scatter/fill_hover_text");e.exports=function(t,e,n,l){var s,u,c,d,f,h,p,g=t.cd,m=g[0].trace,y=g[0].t,v="closest"===l,b=t.maxHoverDistance,_=t.maxSpikeDistance;function x(t){return t[c]-t.w/2}function w(t){return t[c]+t.w/2}var k=v?x:function(t){return Math.min(x(t),t.p-y.bardelta/2)},T=v?w:function(t){return Math.max(w(t),t.p+y.bardelta/2)};function C(t,e){return r.inbox(t-s,e-s,b+Math.min(1,Math.abs(e-t)/p)-1)}function A(t){return C(k(t),T(t))}function M(t){return r.inbox(t.b-u,t[d]-u,b+(t[d]-u)/(t[d]-t.b)-1)}"h"===m.orientation?(s=n,u=e,c="y",d="x",f=M,h=A):(s=e,u=n,c="x",d="y",h=M,f=A);var S=t[c+"a"],E=t[d+"a"];p=Math.abs(S.r2c(S.range[1])-S.r2c(S.range[0]));var O=r.getDistanceFunction(l,f,h,function(t){return(f(t)+h(t))/2});if(r.getClosest(g,O,t),!1!==t.index){v||(k=function(t){return Math.min(x(t),t.p-y.bargroupwidth/2)},T=function(t){return Math.max(w(t),t.p+y.bargroupwidth/2)});var P=g[t.index],I=P.mcc||m.marker.color,D=P.mlcc||m.marker.line.color,L=P.mlw||m.marker.line.width;o.opacity(I)?t.color=I:o.opacity(D)&&L&&(t.color=D);var R=m.base?P.b+P.s:P.s;t[d+"0"]=t[d+"1"]=E.c2p(P[d],!0),t[d+"LabelVal"]=R;var N=y.extents[y.extents.round(P.p)];return t[c+"0"]=S.c2p(v?k(P):N[0],!0),t[c+"1"]=S.c2p(v?T(P):N[1],!0),t[c+"LabelVal"]=P.p,t.spikeDistance=(M(P)+function(t){return C(x(t),w(t))}(P))/2+_-b,t[c+"Spike"]=S.c2p(P.p,!0),a(P,m,t),i.getComponentMethod("errorbars","hoverInfo")(P,m,t),[t]}}},{"../../components/color":43,"../../components/fx":85,"../../registry":245,"../scatter/fill_hover_text":289}],259:[function(t,e,n){"use strict";var r={};r.attributes=t("./attributes"),r.layoutAttributes=t("./layout_attributes"),r.supplyDefaults=t("./defaults"),r.supplyLayoutDefaults=t("./layout_defaults"),r.calc=t("./calc"),r.setPositions=t("./set_positions"),r.colorbar=t("../scatter/colorbar"),r.arraysToCalcdata=t("./arrays_to_calcdata"),r.plot=t("./plot"),r.style=t("./style").style,r.styleOnSelect=t("./style").styleOnSelect,r.hoverPoints=t("./hover"),r.selectPoints=t("./select"),r.moduleType="trace",r.name="bar",r.basePlotModule=t("../../plots/cartesian"),r.categories=["cartesian","svg","bar","oriented","markerColorscale","errorBarsOK","showLegend","zoomScale"],r.meta={},e.exports=r},{"../../plots/cartesian":216,"../scatter/colorbar":285,"./arrays_to_calcdata":254,"./attributes":255,"./calc":256,"./defaults":257,"./hover":258,"./layout_attributes":260,"./layout_defaults":261,"./plot":262,"./select":263,"./set_positions":264,"./style":266}],260:[function(t,e,n){"use strict";e.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},{}],261:[function(t,e,n){"use strict";var r=t("../../registry"),i=t("../../plots/cartesian/axes"),o=t("../../lib"),a=t("./layout_attributes");e.exports=function(t,e,n){function l(n,r){return o.coerce(t,e,a,n,r)}for(var s=!1,u=!1,c=!1,d={},f=0;f<n.length;f++){var h=n[f];if(r.traceIs(h,"bar")){if(s=!0,"overlay"!==t.barmode&&"stack"!==t.barmode){var p=h.xaxis+h.yaxis;d[p]&&(c=!0),d[p]=!0}h.visible&&"histogram"===h.type&&"category"!==i.getFromId({_fullLayout:e},h["v"===h.orientation?"xaxis":"yaxis"]).type&&(u=!0)}}s&&("overlay"!==l("barmode")&&l("barnorm"),l("bargap",u&&!c?0:.2),l("bargroupgap"))}},{"../../lib":163,"../../plots/cartesian/axes":205,"../../registry":245,"./layout_attributes":260}],262:[function(t,e,n){"use strict";var r=t("d3"),i=t("fast-isnumeric"),o=t("tinycolor2"),a=t("../../lib"),l=t("../../lib/svg_text_utils"),s=t("../../components/color"),u=t("../../components/drawing"),c=t("../../registry"),d=t("./attributes"),f=d.text,h=d.textposition,p=d.textfont,g=d.insidetextfont,m=d.outsidetextfont;function y(t,e,n,r,i,o){var a;return i<1?a="scale("+i+") ":(i=1,a=""),"translate("+(n-i*t)+" "+(r-i*e)+")"+a+(o?"rotate("+o+" "+t+" "+e+") ":"")}function v(t,e,n,r){var a=b((e=e||{}).family,n),l=b(e.size,n),s=b(e.color,n);return{family:_(t.family,a,r.family),size:function(t,e,n){if(i(e)){e=+e;var r=t.min,o=t.max;if(!(void 0!==r&&e<r||void 0!==o&&e>o))return e}return void 0!==n?n:t.dflt}(t.size,l,r.size),color:function(t,e,n){return o(e).isValid()?e:void 0!==n?n:t.dflt}(t.color,s,r.color)}}function b(t,e){var n;return Array.isArray(t)?e<t.length&&(n=t[e]):n=t,n}function _(t,e,n){if("string"==typeof e){if(e||!t.noBlank)return e}else if("number"==typeof e&&!t.strict)return String(e);return void 0!==n?n:t.dflt}e.exports=function(t,e,n,o){var d=e.xaxis,x=e.yaxis,w=t._fullLayout,k=o.selectAll("g.trace.bars").data(n,function(t){return t[0].trace.uid});k.enter().append("g").attr("class","trace bars").append("g").attr("class","points"),k.exit().remove(),k.order(),k.each(function(n){var o=n[0],c=o.t,k=o.trace,T=r.select(this);e.isRangePlot||(o.node3=T);var C=c.poffset,A=Array.isArray(C),M=T.select("g.points").selectAll("g.point").data(a.identity);M.enter().append("g").classed("point",!0),M.exit().remove(),M.each(function(o,c){var T,M,S,E,O=r.select(this),P=o.p+(A?C[c]:C),I=P+o.w,D=o.b,L=D+o.s;if("h"===k.orientation?(S=x.c2p(P,!0),E=x.c2p(I,!0),T=d.c2p(D,!0),M=d.c2p(L,!0),o.ct=[M,(S+E)/2]):(T=d.c2p(P,!0),M=d.c2p(I,!0),S=x.c2p(D,!0),E=x.c2p(L,!0),o.ct=[(T+M)/2,E]),i(T)&&i(M)&&i(S)&&i(E)&&T!==M&&S!==E){var R=(o.mlw+1||k.marker.line.width+1||(o.trace?o.trace.marker.line.width:0)+1)-1,N=r.round(R/2%1,2);if(!t._context.staticPlot){var F=s.opacity(o.mc||k.marker.color)<1||R>.01?z:function(t,e){return Math.abs(t-e)>=2?z(t):t>e?Math.ceil(t):Math.floor(t)};M=F(M,T=F(T,M)),E=F(E,S=F(S,E))}a.ensureSingle(O,"path").style("vector-effect","non-scaling-stroke").attr("d","M"+T+","+S+"V"+E+"H"+M+"V"+S+"Z").call(u.setClipUrl,e.layerClipId),function(t,e,n,r,i,o,s,c){var d;function x(e,n,r){return a.ensureSingle(e,"text").text(n).attr({class:"bartext bartext-"+d,transform:"","text-anchor":"middle","data-notex":1}).call(u.font,r).call(l.convertToTspans,t)}var w=n[0].trace,k=w.orientation,T=function(t,e){var n=b(t.text,r);return _(f,n)}(w);if(T&&"none"!==(d=function(t,e){var n=b(t.textposition,r);return function(t,e,n){return t.coerceNumber&&(e=+e),-1!==t.values.indexOf(e)?e:t.dflt}(h,n)}(w))){var C,A,M,S,E,O=function(e,n,i){return v(p,e.textfont,r,t._fullLayout.font)}(w),P=function(t,e,n){return v(g,t.insidetextfont,r,O)}(w),I=function(t,e,n){return v(m,t.outsidetextfont,r,O)}(w),D=t._fullLayout.barmode,L=!("stack"===D||"relative"===D)||n[r]._outmost,R=Math.abs(o-i)-6,N=Math.abs(c-s)-6;"outside"===d&&(L||(d="inside")),"auto"===d&&(L?(d="inside",C=x(e,T,P),S=(A=u.bBox(C.node())).height,(M=A.width)>0&&S>0&&(M<=R&&S<=N||M<=N&&S<=R||("h"===k?R>=M*(N/S):N>=S*(R/M)))?d="inside":(d="outside",C.remove(),C=null)):d="inside"),!C&&(C=x(e,T,"outside"===d?I:P),S=(A=u.bBox(C.node())).height,(M=A.width)<=0||S<=0)?C.remove():(E="outside"===d?function(t,e,n,r,i,o,a){var l,s="h"===o?Math.abs(r-n):Math.abs(e-t);s>6&&(l=3);var u,c,d,f,h=1;return a&&(h="h"===o?Math.min(1,s/i.height):Math.min(1,s/i.width)),u=h*i.width,c=h*i.height,"h"===o?e<t?(d=e-l-u/2,f=(n+r)/2):(d=e+l+u/2,f=(n+r)/2):r>n?(d=(t+e)/2,f=r+l+c/2):(d=(t+e)/2,f=r-l-c/2),y((i.left+i.right)/2,(i.top+i.bottom)/2,d,f,h,!1)}(i,o,s,c,A,k,"both"===w.constraintext||"outside"===w.constraintext):function(t,e,n,r,i,o,a){var l,s,u,c,d,f,h,p=i.width,g=i.height,m=(i.left+i.right)/2,v=(i.top+i.bottom)/2,b=Math.abs(e-t),_=Math.abs(r-n);return b>6&&_>6?(b-=2*(d=3),_-=2*d):d=0,p<=b&&g<=_?(f=!1,h=1):p<=_&&g<=b?(f=!0,h=1):p<g==b<_?(f=!1,h=a?Math.min(b/p,_/g):1):(f=!0,h=a?Math.min(_/p,b/g):1),f&&(f=90),f?(l=h*g,s=h*p):(l=h*p,s=h*g),"h"===o?e<t?(u=e+d+l/2,c=(n+r)/2):(u=e-d-l/2,c=(n+r)/2):r>n?(u=(t+e)/2,c=r-d-s/2):(u=(t+e)/2,c=r+d+s/2),y(m,v,u,c,h,f)}(i,o,s,c,A,k,"both"===w.constraintext||"inside"===w.constraintext),C.attr("transform",E))}}(t,O,n,c,T,M,S,E),e.layerClipId&&u.hideOutsideRangePoint(n[c],O.select("text"),d,x,k.xcalendar,k.ycalendar)}else O.remove();function z(t){return 0===w.bargap&&0===w.bargroupgap?r.round(Math.round(t)-N,2):t}}),u.setClipUrl(T,!1===n[0].trace.cliponaxis?null:e.layerClipId)}),c.getComponentMethod("errorbars","plot")(k,e)}},{"../../components/color":43,"../../components/drawing":68,"../../lib":163,"../../lib/svg_text_utils":184,"../../registry":245,"./attributes":255,d3:7,"fast-isnumeric":10,tinycolor2:25}],263:[function(t,e,n){"use strict";e.exports=function(t,e){var n,r=t.cd,i=t.xaxis,o=t.yaxis,a=[];if(!1===e)for(n=0;n<r.length;n++)r[n].selected=0;else for(n=0;n<r.length;n++){var l=r[n];e.contains(l.ct)?(a.push({pointNumber:n,x:i.c2d(l.x),y:o.c2d(l.y)}),l.selected=1):l.selected=0}return a}},{}],264:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("../../lib").isArrayOrTypedArray,o=t("../../constants/numerical").BADNUM,a=t("../../registry"),l=t("../../plots/cartesian/axes"),s=t("./sieve.js");function u(t,e,n,i){if(i.length){var a,u,_,x,w=t._fullLayout.barmode,k="group"===w;if("overlay"===w)c(t,e,n,i);else if(k){for(a=[],u=[],_=0;_<i.length;_++)void 0===(x=i[_])[0].trace.offset?u.push(x):a.push(x);u.length&&function(t,e,n,r){var i=t._fullLayout.barnorm,o=new s(u,!1,!i);(function(t,e,n){var r,i,o=t._fullLayout,a=n.minDiff,l=n.traces,s=n.positions.length!==n.distinctPositions.length,u=l.length,c=a*(1-o.bargap),d=s?c/u:c,g=d*(1-o.bargroupgap);for(r=0;r<u;r++){var m=s?((2*r+1-u)*d-g)/2:-g/2;(i=l[r][0].t).barwidth=g,i.poffset=m,i.bargroupwidth=c,i.bardelta=a}n.binWidth=l[0][0].t.barwidth/100,f(n),h(0,e,n),p(0,e,n,s)})(t,e,o),i?(y(0,0,o),v(t,n,o)):m(0,n,o)}(t,e,n),a.length&&c(t,e,n,a)}else{for(a=[],u=[],_=0;_<i.length;_++)void 0===(x=i[_])[0].trace.base?u.push(x):a.push(x);u.length&&function(t,e,n,i){var a=t._fullLayout.barmode,u="relative"===a,c=t._fullLayout.barnorm,f=new s(i,u,!(c||"stack"===a||u));d(t,e,f),function(t,e,n){var i,a,s,u,c=t._fullLayout.barnorm,d=b(e),f=n.traces,h=[null,null];for(i=0;i<f.length;i++)for(a=f[i],s=0;s<a.length;s++)if((u=a[s]).s!==o){var p=n.put(u.p,u.b+u.s),m=p+u.b+u.s;u.b=p,u[d]=m,c||(r(e.c2l(m))&&g(h,m),u.hasB&&r(e.c2l(p))&&g(h,p))}c||l.expand(e,h,{tozero:!0,padded:!0})}(t,n,f);for(var h=0;h<i.length;h++)for(var p=i[h],m=0;m<p.length;m++){var y=p[m];y.s!==o&&y.b+y.s===f.get(y.p,y.s)&&(y._outmost=!0)}c&&v(t,n,f)}(t,e,n,u),a.length&&c(t,e,n,a)}!function(t,e){var n,i,o,a=e._id.charAt(0),l={},s=1/0,u=-1/0;for(n=0;n<t.length;n++)for(o=t[n],i=0;i<o.length;i++){var c=o[i].p;r(c)&&(s=Math.min(s,c),u=Math.max(u,c))}var d=1e4/(u-s),f=l.round=function(t){return String(Math.round(d*(t-s)))};for(n=0;n<t.length;n++)for((o=t[n])[0].t.extents=l,i=0;i<o.length;i++){var h=o[i],p=h[a]-h.w/2;if(r(p)){var g=h[a]+h.w/2,m=f(h.p);l[m]=l[m]?[Math.min(p,l[m][0]),Math.max(g,l[m][1])]:[p,g]}}}(i,e)}}function c(t,e,n,r){for(var i=t._fullLayout.barnorm,o=!i,a=0;a<r.length;a++){var l=new s([r[a]],!1,o);d(t,e,l),i?(y(0,0,l),v(t,n,l)):m(0,n,l)}}function d(t,e,n){var r,i,o=t._fullLayout,a=n.minDiff,l=n.traces,s=a*(1-o.bargap),u=s*(1-o.bargroupgap),c=-u/2;for(r=0;r<l.length;r++)(i=l[r][0].t).barwidth=u,i.poffset=c,i.bargroupwidth=s,i.bardelta=a;n.binWidth=l[0][0].t.barwidth/100,f(n),h(0,e,n),p(0,e,n)}function f(t){var e,n,o,a,l,s,u=t.traces;for(e=0;e<u.length;e++){var c,d=(a=(o=(n=u[e])[0]).trace).offset,f=(s=o.t).poffset;if(i(d)){for(c=d.slice(0,n.length),l=0;l<c.length;l++)r(c[l])||(c[l]=f);for(l=c.length;l<n.length;l++)c.push(f);s.poffset=c}else void 0!==d&&(s.poffset=d);var h=a.width,p=s.barwidth;if(i(h)){var g=h.slice(0,n.length);for(l=0;l<g.length;l++)r(g[l])||(g[l]=p);for(l=g.length;l<n.length;l++)g.push(p);if(s.barwidth=g,void 0===d){for(c=[],l=0;l<n.length;l++)c.push(f+(p-g[l])/2);s.poffset=c}}else void 0!==h&&(s.barwidth=h,void 0===d&&(s.poffset=f+(p-h)/2))}}function h(t,e,n){for(var r=n.traces,i=b(e),o=0;o<r.length;o++)for(var a=r[o],l=a[0].t,s=l.poffset,u=Array.isArray(s),c=l.barwidth,d=Array.isArray(c),f=0;f<a.length;f++){var h=a[f],p=h.w=d?c[f]:c;h[i]=h.p+(u?s[f]:s)+p/2}}function p(t,e,n,r){var i=n.traces,o=n.distinctPositions,a=n.minDiff,s=a/2;l.minDtick(e,a,o[0],r);for(var u=Math.min.apply(Math,o)-s,c=Math.max.apply(Math,o)+s,d=0;d<i.length;d++){var f=i[d],h=f[0],p=h.trace;if(void 0!==p.width||void 0!==p.offset)for(var g=h.t,m=g.poffset,y=g.barwidth,v=Array.isArray(m),b=Array.isArray(y),_=0;_<f.length;_++){var x=f[_].p+(v?m[_]:m),w=x+(b?y[_]:y);u=Math.min(u,x),c=Math.max(c,w)}}l.expand(e,[u,c],{padded:!1})}function g(t,e){t[0]=r(t[0])?Math.min(t[0],e):e,t[1]=r(t[1])?Math.max(t[1],e):e}function m(t,e,n){for(var i=n.traces,o=b(e),a=[null,null],s=0;s<i.length;s++)for(var u=i[s],c=0;c<u.length;c++){var d=u[c],f=d.b,h=f+d.s;d[o]=h,r(e.c2l(h))&&g(a,h),d.hasB&&r(e.c2l(f))&&g(a,f)}l.expand(e,a,{tozero:!0,padded:!0})}function y(t,e,n){for(var r=n.traces,i=0;i<r.length;i++)for(var a=r[i],l=0;l<a.length;l++){var s=a[l];s.s!==o&&n.put(s.p,s.b+s.s)}}function v(t,e,n){var i=n.traces,a=b(e),s="fraction"===t._fullLayout.barnorm?1:100,u=s/1e9,c=e.l2c(e.c2l(0)),d="stack"===t._fullLayout.barmode?s:c,f=[c,d],h=!1;function p(t){r(e.c2l(t))&&(t<c-u||t>d+u||!r(c))&&(h=!0,g(f,t))}for(var m=0;m<i.length;m++)for(var y=i[m],v=0;v<y.length;v++){var _=y[v];if(_.s!==o){var x=Math.abs(s/n.get(_.p,_.s));_.b*=x,_.s*=x;var w=_.b,k=w+_.s;_[a]=k,p(k),_.hasB&&p(w)}}l.expand(e,f,{tozero:!0,padded:h})}function b(t){return t._id.charAt(0)}e.exports=function(t,e){var n,r=e.xaxis,i=e.yaxis,o=t._fullData,l=t.calcdata,s=[],c=[];for(n=0;n<o.length;n++){var d=o[n];!0===d.visible&&a.traceIs(d,"bar")&&d.xaxis===r._id&&d.yaxis===i._id&&("h"===d.orientation?s.push(l[n]):c.push(l[n]))}u(t,r,i,c),u(t,i,r,s)}},{"../../constants/numerical":145,"../../lib":163,"../../plots/cartesian/axes":205,"../../registry":245,"./sieve.js":265,"fast-isnumeric":10}],265:[function(t,e,n){"use strict";e.exports=o;var r=t("../../lib"),i=t("../../constants/numerical").BADNUM;function o(t,e,n){this.traces=t,this.separateNegativeValues=e,this.dontMergeOverlappingData=n;for(var o=1/0,a=[],l=0;l<t.length;l++){for(var s=t[l],u=0;u<s.length;u++){var c=s[u];c.p!==i&&a.push(c.p)}s[0]&&s[0].width1&&(o=Math.min(s[0].width1,o))}this.positions=a;var d=r.distinctVals(a);this.distinctPositions=d.vals,this.minDiff=1===d.vals.length&&o!==1/0?o:Math.min(d.minDiff,o),this.binWidth=this.minDiff,this.bins={}}o.prototype.put=function(t,e){var n=this.getLabel(t,e),r=this.bins[n]||0;return this.bins[n]=r+e,r},o.prototype.get=function(t,e){var n=this.getLabel(t,e);return this.bins[n]||0},o.prototype.getLabel=function(t,e){return(e<0&&this.separateNegativeValues?"v":"^")+(this.dontMergeOverlappingData?t:Math.round(t/this.binWidth))}},{"../../constants/numerical":145,"../../lib":163}],266:[function(t,e,n){"use strict";var r=t("d3"),i=t("../../components/drawing"),o=t("../../registry");function a(t,e,n){var o=t.selectAll("path"),a=t.selectAll("text");i.pointStyle(o,e,n),a.each(function(t){var n,o=r.select(this);function a(e){var r=n[e];return Array.isArray(r)?r[t.i]:r}o.classed("bartext-inside")?n=e.insidetextfont:o.classed("bartext-outside")&&(n=e.outsidetextfont),n||(n=e.textfont),i.font(o,a("family"),a("size"),a("color"))})}e.exports={style:function(t,e){var n=e?e[0].node3:r.select(t).selectAll("g.trace.bars"),i=n.size(),l=t._fullLayout;n.style("opacity",function(t){return t[0].trace.opacity}).each(function(t){("stack"===l.barmode&&i>1||0===l.bargap&&0===l.bargroupgap&&!t[0].trace.marker.line.width)&&r.select(this).attr("shape-rendering","crispEdges")}),n.selectAll("g.points").each(function(e){a(r.select(this),e[0].trace,t)}),o.getComponentMethod("errorbars","style")(n)},styleOnSelect:function(t,e){var n=e[0].node3,r=e[0].trace;r.selectedpoints?(i.selectedPointStyle(n.selectAll("path"),r),i.selectedTextStyle(n.selectAll("text"),r)):a(n,r,t)}}},{"../../components/drawing":68,"../../registry":245,d3:7}],267:[function(t,e,n){"use strict";var r=t("../../components/color"),i=t("../../components/colorscale/has_colorscale"),o=t("../../components/colorscale/defaults");e.exports=function(t,e,n,a,l){n("marker.color",a),i(t,"marker")&&o(t,e,l,n,{prefix:"marker.",cLetter:"c"}),n("marker.line.color",r.defaultLine),i(t,"marker.line")&&o(t,e,l,n,{prefix:"marker.line.",cLetter:"c"}),n("marker.line.width"),n("marker.opacity"),n("selected.marker.color"),n("unselected.marker.color")}},{"../../components/color":43,"../../components/colorscale/defaults":53,"../../components/colorscale/has_colorscale":57}],268:[function(t,e,n){"use strict";var r=t("../../components/color/attributes"),i=t("../../plots/font_attributes"),o=t("../../plots/attributes"),a=t("../../plots/domain").attributes,l=t("../../lib/extend").extendFlat,s=i({editType:"calc",colorEditType:"style"});e.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:r.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},editType:"calc"},text:{valType:"data_array",editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:l({},o.hoverinfo,{flags:["label","text","value","percent","name"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},textfont:l({},s,{}),insidetextfont:l({},s,{}),outsidetextfont:l({},s,{}),domain:a({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"number",min:-360,max:360,dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"}}},{"../../components/color/attributes":42,"../../lib/extend":157,"../../plots/attributes":202,"../../plots/domain":230,"../../plots/font_attributes":231}],269:[function(t,e,n){"use strict";var r=t("../../registry"),i=t("../../plots/get_data").getModuleCalcData;n.name="pie",n.plot=function(t){var e=r.getModule("pie"),n=i(t.calcdata,e)[0];n.length&&e.plot(t,n)},n.clean=function(t,e,n,r){var i=r._has&&r._has("pie"),o=e._has&&e._has("pie");i&&!o&&r._pielayer.selectAll("g.trace").remove()}},{"../../plots/get_data":233,"../../registry":245}],270:[function(t,e,n){"use strict";var r,i=t("fast-isnumeric"),o=t("../../lib").isArrayOrTypedArray,a=t("tinycolor2"),l=t("../../components/color"),s=t("./helpers");function u(t,e){r||(r=c(l.defaults));var n=e||r;return n[t%n.length]}function c(t){var e,n=t.slice();for(e=0;e<t.length;e++)n.push(a(t[e]).lighten(20).toHexString());for(e=0;e<t.length;e++)n.push(a(t[e]).darken(20).toHexString());return n}e.exports=function(t,e){var n,r,d,f,h,p=e.values,g=o(p)&&p.length,m=e.labels,y=e.marker.colors||[],v=[],b=t._fullLayout,_=b.colorway,x=b._piecolormap,w={},k=0,T=b.hiddenlabels||[];if(b._piecolorway||_===l.defaults||(b._piecolorway=c(_)),e.dlabel)for(m=new Array(p.length),n=0;n<p.length;n++)m[n]=String(e.label0+n*e.dlabel);function C(t,e){return!!t&&!!(t=a(t)).isValid()&&(t=l.addOpacity(t,t.getAlpha()),x[e]||(x[e]=t),t)}var A=(g?p:m).length;for(n=0;n<A;n++){if(g){if(!i(r=p[n]))continue;if((r=+r)<0)continue}else r=1;void 0!==(d=m[n])&&""!==d||(d=n);var M=w[d=String(d)];void 0===M?(w[d]=v.length,(f=-1!==T.indexOf(d))||(k+=r),v.push({v:r,label:d,color:C(y[n]),i:n,pts:[n],hidden:f})):((h=v[M]).v+=r,h.pts.push(n),h.hidden||(k+=r),!1===h.color&&y[n]&&(h.color=C(y[n],d)))}for(e.sort&&v.sort(function(t,e){return e.v-t.v}),n=0;n<v.length;n++)!1===(h=v[n]).color&&(x[h.label]?h.color=x[h.label]:(x[h.label]=h.color=u(b._piedefaultcolorcount,b._piecolorway),b._piedefaultcolorcount++));if(v[0]&&(v[0].vTotal=k),e.textinfo&&"none"!==e.textinfo){var S,E=-1!==e.textinfo.indexOf("label"),O=-1!==e.textinfo.indexOf("text"),P=-1!==e.textinfo.indexOf("value"),I=-1!==e.textinfo.indexOf("percent"),D=b.separators;for(n=0;n<v.length;n++){if(h=v[n],S=E?[h.label]:[],O){var L=s.getFirstFilled(e.text,h.pts);L&&S.push(L)}P&&S.push(s.formatPieValue(h.v,D)),I&&S.push(s.formatPiePercent(h.v/k,D)),h.text=S.join("<br>")}}return v}},{"../../components/color":43,"../../lib":163,"./helpers":273,"fast-isnumeric":10,tinycolor2:25}],271:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("./attributes"),o=t("../../plots/domain").defaults;e.exports=function(t,e,n,a){function l(n,o){return r.coerce(t,e,i,n,o)}var s,u=r.coerceFont,c=l("values"),d=r.isArrayOrTypedArray(c),f=l("labels");if(Array.isArray(f)&&(s=f.length,d&&(s=Math.min(s,c.length))),!Array.isArray(f)){if(!d)return void(e.visible=!1);s=c.length,l("label0"),l("dlabel")}if(s){e._length=s,l("marker.line.width")&&l("marker.line.color"),l("marker.colors"),l("scalegroup");var h=l("text"),p=l("textinfo",Array.isArray(h)?"text+percent":"percent");if(l("hovertext"),p&&"none"!==p){var g=l("textposition"),m=Array.isArray(g)||"auto"===g,y=m||"inside"===g,v=m||"outside"===g;if(y||v){var b=u(l,"textfont",a.font);y&&u(l,"insidetextfont",b),v&&u(l,"outsidetextfont",b)}}o(e,a,l),l("hole"),l("sort"),l("direction"),l("rotation"),l("pull")}else e.visible=!1}},{"../../lib":163,"../../plots/domain":230,"./attributes":268}],272:[function(t,e,n){"use strict";var r=t("../../components/fx/helpers").appendArrayMultiPointValues;e.exports=function(t,e){var n={curveNumber:e.index,pointNumbers:t.pts,data:e._input,fullData:e,label:t.label,color:t.color,value:t.v,v:t.v};return 1===t.pts.length&&(n.pointNumber=n.i=t.pts[0]),r(n,e,t.pts),n}},{"../../components/fx/helpers":82}],273:[function(t,e,n){"use strict";var r=t("../../lib");n.formatPiePercent=function(t,e){var n=(100*t).toPrecision(3);return-1!==n.lastIndexOf(".")&&(n=n.replace(/[.]?0+$/,"")),r.numSeparate(n,e)+"%"},n.formatPieValue=function(t,e){var n=t.toPrecision(10);return-1!==n.lastIndexOf(".")&&(n=n.replace(/[.]?0+$/,"")),r.numSeparate(n,e)},n.getFirstFilled=function(t,e){if(Array.isArray(t))for(var n=0;n<e.length;n++){var r=t[e[n]];if(r||0===r)return r}},n.castOption=function(t,e){return Array.isArray(t)?n.getFirstFilled(t,e):t||void 0}},{"../../lib":163}],274:[function(t,e,n){"use strict";var r={};r.attributes=t("./attributes"),r.supplyDefaults=t("./defaults"),r.supplyLayoutDefaults=t("./layout_defaults"),r.layoutAttributes=t("./layout_attributes"),r.calc=t("./calc"),r.plot=t("./plot"),r.style=t("./style"),r.styleOne=t("./style_one"),r.moduleType="trace",r.name="pie",r.basePlotModule=t("./base_plot"),r.categories=["pie","showLegend"],r.meta={},e.exports=r},{"./attributes":268,"./base_plot":269,"./calc":270,"./defaults":271,"./layout_attributes":275,"./layout_defaults":276,"./plot":277,"./style":278,"./style_one":279}],275:[function(t,e,n){"use strict";e.exports={hiddenlabels:{valType:"data_array",editType:"calc"}}},{}],276:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("./layout_attributes");e.exports=function(t,e){r.coerce(t,e,i,"hiddenlabels",void 0)}},{"../../lib":163,"./layout_attributes":275}],277:[function(t,e,n){"use strict";var r=t("d3"),i=t("../../components/fx"),o=t("../../components/color"),a=t("../../components/drawing"),l=t("../../lib"),s=t("../../lib/svg_text_utils"),u=t("./helpers"),c=t("./event_data");function d(t,e){if(t.v===e.vTotal&&!e.trace.hole)return 1;var n=Math.PI*Math.min(t.v/e.vTotal,.5);return Math.min(1/(1+1/Math.sin(n)),(1-e.trace.hole)/2)}function f(t,e){var n=e.pxmid[0],r=e.pxmid[1],i=t.width/2,o=t.height/2;return n<0&&(i*=-1),r<0&&(o*=-1),{scale:1,rCenter:1,rotate:0,x:i+Math.abs(o)*(i>0?1:-1)/2,y:o/(1+n*n/(r*r)),outside:!0}}e.exports=function(t,e){var n=t._fullLayout;!function(t,e){var n,r,i,o,a,l,s,u,c,d=[];for(i=0;i<t.length;i++){if(n=e.w*((l=(a=t[i][0]).trace).domain.x[1]-l.domain.x[0]),r=e.h*(l.domain.y[1]-l.domain.y[0]),s=l.pull,Array.isArray(s))for(s=0,o=0;o<l.pull.length;o++)l.pull[o]>s&&(s=l.pull[o]);a.r=Math.min(n,r)/(2+2*s),a.cx=e.l+e.w*(l.domain.x[1]+l.domain.x[0])/2,a.cy=e.t+e.h*(2-l.domain.y[1]-l.domain.y[0])/2,l.scalegroup&&-1===d.indexOf(l.scalegroup)&&d.push(l.scalegroup)}for(o=0;o<d.length;o++){for(c=1/0,u=d[o],i=0;i<t.length;i++)(a=t[i][0]).trace.scalegroup===u&&(c=Math.min(c,a.r*a.r/a.vTotal));for(i=0;i<t.length;i++)(a=t[i][0]).trace.scalegroup===u&&(a.r=Math.sqrt(c*a.vTotal))}}(e,n._size);var h=n._pielayer.selectAll("g.trace").data(e);h.enter().append("g").attr({"stroke-linejoin":"round",class:"trace"}),h.exit().remove(),h.order(),h.each(function(e){var h=r.select(this),p=e[0],g=p.trace;!function(t){var e,n,r,i=t[0],o=i.trace,a=o.rotation*Math.PI/180,l=2*Math.PI/i.vTotal,s="px0",u="px1";if("counterclockwise"===o.direction){for(e=0;e<t.length&&t[e].hidden;e++);if(e===t.length)return;a+=l*t[e].v,l*=-1,s="px1",u="px0"}function c(t){return[i.r*Math.sin(t),-i.r*Math.cos(t)]}for(r=c(a),e=0;e<t.length;e++)(n=t[e]).hidden||(n[s]=r,n.pxmid=c(a+=l*n.v/2),n.midangle=a,r=c(a+=l*n.v/2),n[u]=r,n.largeArc=n.v>i.vTotal/2?1:0)}(e),h.each(function(){var h=r.select(this).selectAll("g.slice").data(e);h.enter().append("g").classed("slice",!0),h.exit().remove();var m=[[[],[]],[[],[]]],y=!1;h.each(function(e){if(e.hidden)r.select(this).selectAll("path,g").remove();else{e.pointNumber=e.i,e.curveNumber=g.index,m[e.pxmid[1]<0?0:1][e.pxmid[0]<0?0:1].push(e);var o=p.cx,h=p.cy,v=r.select(this),b=v.selectAll("path.surface").data([e]),_=!1,x=!1;if(b.enter().append("path").classed("surface",!0).style({"pointer-events":"all"}),v.select("path.textline").remove(),v.on("mouseover",function(){var a=t._fullLayout,l=t._fullData[g.index];if(!t._dragging&&!1!==a.hovermode){var s=l.hoverinfo;if(Array.isArray(s)&&(s=i.castHoverinfo({hoverinfo:[u.castOption(s,e.pts)],_module:g._module},a,0)),"all"===s&&(s="label+text+value+percent+name"),"none"!==s&&"skip"!==s&&s){var f=d(e,p),m=o+e.pxmid[0]*(1-f),y=h+e.pxmid[1]*(1-f),v=n.separators,b=[];if(-1!==s.indexOf("label")&&b.push(e.label),-1!==s.indexOf("text")){var w=u.castOption(l.hovertext||l.text,e.pts);w&&b.push(w)}-1!==s.indexOf("value")&&b.push(u.formatPieValue(e.v,v)),-1!==s.indexOf("percent")&&b.push(u.formatPiePercent(e.v/p.vTotal,v));var k=g.hoverlabel,T=k.font;i.loneHover({x0:m-f*p.r,x1:m+f*p.r,y:y,text:b.join("<br>"),name:-1!==s.indexOf("name")?l.name:void 0,idealAlign:e.pxmid[0]<0?"left":"right",color:u.castOption(k.bgcolor,e.pts)||e.color,borderColor:u.castOption(k.bordercolor,e.pts),fontFamily:u.castOption(T.family,e.pts),fontSize:u.castOption(T.size,e.pts),fontColor:u.castOption(T.color,e.pts)},{container:a._hoverlayer.node(),outerContainer:a._paper.node(),gd:t}),_=!0}t.emit("plotly_hover",{points:[c(e,l)],event:r.event}),x=!0}}).on("mouseout",function(n){var o=t._fullLayout,a=t._fullData[g.index];x&&(n.originalEvent=r.event,t.emit("plotly_unhover",{points:[c(e,a)],event:r.event}),x=!1),_&&(i.loneUnhover(o._hoverlayer.node()),_=!1)}).on("click",function(){t._dragging||!1===t._fullLayout.hovermode||(t._hoverdata=[c(e,t._fullData[g.index])],i.click(t,r.event))}),g.pull){var w=+u.castOption(g.pull,e.pts)||0;w>0&&(o+=w*e.pxmid[0],h+=w*e.pxmid[1])}e.cxFinal=o,e.cyFinal=h;var k=g.hole;if(e.v===p.vTotal){var T="M"+(o+e.px0[0])+","+(h+e.px0[1])+E(e.px0,e.pxmid,!0,1)+E(e.pxmid,e.px0,!0,1)+"Z";b.attr("d",k?"M"+(o+k*e.px0[0])+","+(h+k*e.px0[1])+E(e.px0,e.pxmid,!1,k)+E(e.pxmid,e.px0,!1,k)+"Z"+T:T)}else{var C=E(e.px0,e.px1,!0,1);if(k){var A=1-k;b.attr("d","M"+(o+k*e.px1[0])+","+(h+k*e.px1[1])+E(e.px1,e.px0,!1,k)+"l"+A*e.px0[0]+","+A*e.px0[1]+C+"Z")}else b.attr("d","M"+o+","+h+"l"+e.px0[0]+","+e.px0[1]+C+"Z")}var M=u.castOption(g.textposition,e.pts),S=v.selectAll("g.slicetext").data(e.text&&"none"!==M?[0]:[]);S.enter().append("g").classed("slicetext",!0),S.exit().remove(),S.each(function(){var n=l.ensureSingle(r.select(this),"text","",function(t){t.attr("data-notex",1)});n.text(e.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(a.font,"outside"===M?g.outsidetextfont:g.insidetextfont).call(s.convertToTspans,t);var i,u=a.bBox(n.node());"outside"===M?i=f(u,e):(i=function(t,e,n){var r=Math.sqrt(t.width*t.width+t.height*t.height),i=t.width/t.height,o=Math.PI*Math.min(e.v/n.vTotal,.5),a=1-n.trace.hole,l=d(e,n),s={scale:l*n.r*2/r,rCenter:1-l,rotate:0};if(s.scale>=1)return s;var u=i+1/(2*Math.tan(o)),c=n.r*Math.min(1/(Math.sqrt(u*u+.5)+u),a/(Math.sqrt(i*i+a/2)+i)),f={scale:2*c/t.height,rCenter:Math.cos(c/n.r)-c*i/n.r,rotate:(180/Math.PI*e.midangle+720)%180-90},h=1/i,p=h+1/(2*Math.tan(o)),g=n.r*Math.min(1/(Math.sqrt(p*p+.5)+p),a/(Math.sqrt(h*h+a/2)+h)),m={scale:2*g/t.width,rCenter:Math.cos(g/n.r)-g/i/n.r,rotate:(180/Math.PI*e.midangle+810)%180-90},y=m.scale>f.scale?m:f;return s.scale<1&&y.scale>s.scale?y:s}(u,e,p),"auto"===M&&i.scale<1&&(n.call(a.font,g.outsidetextfont),g.outsidetextfont.family===g.insidetextfont.family&&g.outsidetextfont.size===g.insidetextfont.size||(u=a.bBox(n.node())),i=f(u,e)));var c=o+e.pxmid[0]*i.rCenter+(i.x||0),m=h+e.pxmid[1]*i.rCenter+(i.y||0);i.outside&&(e.yLabelMin=m-u.height/2,e.yLabelMid=m,e.yLabelMax=m+u.height/2,e.labelExtraX=0,e.labelExtraY=0,y=!0),n.attr("transform","translate("+c+","+m+")"+(i.scale<1?"scale("+i.scale+")":"")+(i.rotate?"rotate("+i.rotate+")":"")+"translate("+-(u.left+u.right)/2+","+-(u.top+u.bottom)/2+")")})}function E(t,n,r,i){return"a"+i*p.r+","+i*p.r+" 0 "+e.largeArc+(r?" 1 ":" 0 ")+i*(n[0]-t[0])+","+i*(n[1]-t[1])}}),y&&function(t,e){var n,r,i,o,a,l,s,c,d,f,h,p,g;function m(t,e){return t.pxmid[1]-e.pxmid[1]}function y(t,e){return e.pxmid[1]-t.pxmid[1]}function v(t,n){n||(n={});var i,c,d,h,p=n.labelExtraY+(r?n.yLabelMax:n.yLabelMin),g=r?t.yLabelMin:t.yLabelMax,m=r?t.yLabelMax:t.yLabelMin,y=t.cyFinal+a(t.px0[1],t.px1[1]),v=p-g;if(v*s>0&&(t.labelExtraY=v),Array.isArray(e.pull))for(c=0;c<f.length;c++)(d=f[c])===t||(u.castOption(e.pull,t.pts)||0)>=(u.castOption(e.pull,d.pts)||0)||((t.pxmid[1]-d.pxmid[1])*s>0?(v=d.cyFinal+a(d.px0[1],d.px1[1])-g-t.labelExtraY)*s>0&&(t.labelExtraY+=v):(m+t.labelExtraY-y)*s>0&&(i=3*l*Math.abs(c-f.indexOf(t)),(h=d.cxFinal+o(d.px0[0],d.px1[0])+i-(t.cxFinal+t.pxmid[0])-t.labelExtraX)*l>0&&(t.labelExtraX+=h)))}for(r=0;r<2;r++)for(i=r?m:y,a=r?Math.max:Math.min,s=r?1:-1,n=0;n<2;n++){for(o=n?Math.max:Math.min,l=n?1:-1,(c=t[r][n]).sort(i),f=(d=t[1-r][n]).concat(c),p=[],h=0;h<c.length;h++)void 0!==c[h].yLabelMid&&p.push(c[h]);for(g=!1,h=0;r&&h<d.length;h++)if(void 0!==d[h].yLabelMid){g=d[h];break}for(h=0;h<p.length;h++){var b=h&&p[h-1];g&&!h&&(b=g),v(p[h],b)}}}(m,g),h.each(function(t){if(t.labelExtraX||t.labelExtraY){var e=r.select(this),n=e.select("g.slicetext text");n.attr("transform","translate("+t.labelExtraX+","+t.labelExtraY+")"+n.attr("transform"));var i=t.cxFinal+t.pxmid[0],a="M"+i+","+(t.cyFinal+t.pxmid[1]),l=(t.yLabelMax-t.yLabelMin)*(t.pxmid[0]<0?-1:1)/4;if(t.labelExtraX){var s=t.labelExtraX*t.pxmid[1]/t.pxmid[0],u=t.yLabelMid+t.labelExtraY-(t.cyFinal+t.pxmid[1]);Math.abs(s)>Math.abs(u)?a+="l"+u*t.pxmid[0]/t.pxmid[1]+","+u+"H"+(i+t.labelExtraX+l):a+="l"+t.labelExtraX+","+s+"v"+(u-s)+"h"+l}else a+="V"+(t.yLabelMid+t.labelExtraY)+"h"+l;e.append("path").classed("textline",!0).call(o.stroke,g.outsidetextfont.color).attr({"stroke-width":Math.min(2,g.outsidetextfont.size/8),d:a,fill:"none"})}})})}),setTimeout(function(){h.selectAll("tspan").each(function(){var t=r.select(this);t.attr("dy")&&t.attr("dy",t.attr("dy"))})},0)}},{"../../components/color":43,"../../components/drawing":68,"../../components/fx":85,"../../lib":163,"../../lib/svg_text_utils":184,"./event_data":272,"./helpers":273,d3:7}],278:[function(t,e,n){"use strict";var r=t("d3"),i=t("./style_one");e.exports=function(t){t._fullLayout._pielayer.selectAll(".trace").each(function(t){var e=t[0].trace,n=r.select(this);n.style({opacity:e.opacity}),n.selectAll("path.surface").each(function(t){r.select(this).call(i,t,e)})})}},{"./style_one":279,d3:7}],279:[function(t,e,n){"use strict";var r=t("../../components/color"),i=t("./helpers").castOption;e.exports=function(t,e,n){var o=n.marker.line,a=i(o.color,e.pts)||r.defaultLine,l=i(o.width,e.pts)||0;t.style({"stroke-width":l}).call(r.fill,e.color).call(r.stroke,a)}},{"../../components/color":43,"./helpers":273}],280:[function(t,e,n){"use strict";var r=t("../../lib");e.exports=function(t,e){for(var n=0;n<t.length;n++)t[n].i=n;r.mergeArray(e.text,t,"tx"),r.mergeArray(e.hovertext,t,"htx"),r.mergeArray(e.customdata,t,"data"),r.mergeArray(e.textposition,t,"tp"),e.textfont&&(r.mergeArray(e.textfont.size,t,"ts"),r.mergeArray(e.textfont.color,t,"tc"),r.mergeArray(e.textfont.family,t,"tf"));var i=e.marker;if(i){r.mergeArray(i.size,t,"ms"),r.mergeArray(i.opacity,t,"mo"),r.mergeArray(i.symbol,t,"mx"),r.mergeArray(i.color,t,"mc");var o=i.line;i.line&&(r.mergeArray(o.color,t,"mlc"),r.mergeArray(o.width,t,"mlw"));var a=i.gradient;a&&"none"!==a.type&&(r.mergeArray(a.type,t,"mgt"),r.mergeArray(a.color,t,"mgc"))}}},{"../../lib":163}],281:[function(t,e,n){"use strict";var r=t("../../components/colorscale/color_attributes"),i=t("../../components/colorbar/attributes"),o=t("../../plots/font_attributes"),a=t("../../components/drawing/attributes").dash,l=t("../../components/drawing"),s=(t("./constants"),t("../../lib/extend").extendFlat);e.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:s({},a,{editType:"style"}),simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],dflt:"none",editType:"calc"},fillcolor:{valType:"color",editType:"style"},marker:s({symbol:{valType:"enumerated",values:l.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style"},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calcIfAutorange"},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},showscale:{valType:"boolean",dflt:!1,editType:"calc"},colorbar:i,line:s({width:{valType:"number",min:0,arrayOk:!0,editType:"style"},editType:"calc"},r("marker.line")),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},r("marker")),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:o({editType:"calc",colorEditType:"style",arrayOk:!0}),r:{valType:"data_array",editType:"calc"},t:{valType:"data_array",editType:"calc"}}},{"../../components/colorbar/attributes":44,"../../components/colorscale/color_attributes":51,"../../components/drawing":68,"../../components/drawing/attributes":67,"../../lib/extend":157,"../../plots/font_attributes":231,"./constants":287}],282:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("../../lib").isArrayOrTypedArray,o=t("../../plots/cartesian/axes"),a=t("../../constants/numerical").BADNUM,l=t("./subtypes"),s=t("./colorscale_calc"),u=t("./arrays_to_calcdata"),c=t("./calc_selection");function d(t,e,n,r,i,a,s){var u=e._length;n._minDtick=0,r._minDtick=0;var c={padded:!0},d={padded:!0};s&&(c.ppad=d.ppad=s),!("tozerox"===e.fill||"tonextx"===e.fill&&t.firstscatter)||i[0]===i[u-1]&&a[0]===a[u-1]?(e.error_y||{}).visible||-1===["tonexty","tozeroy"].indexOf(e.fill)&&(l.hasMarkers(e)||l.hasText(e))||(c.padded=!1,c.ppad=0):c.tozero=!0,!("tozeroy"===e.fill||"tonexty"===e.fill&&t.firstscatter)||i[0]===i[u-1]&&a[0]===a[u-1]?-1!==["tonextx","tozerox"].indexOf(e.fill)&&(d.padded=!1):d.tozero=!0,o.expand(n,i,c),o.expand(r,a,d)}function f(t,e){if(l.hasMarkers(t)){var n,r=t.marker,a=1.6*(t.marker.sizeref||1);if(n="area"===t.marker.sizemode?function(t){return Math.max(Math.sqrt((t||0)/a),3)}:function(t){return Math.max((t||0)/a,3)},i(r.size)){var s={type:"linear"};o.setConvert(s);for(var u=s.makeCalcdata(t.marker,"size"),c=new Array(e),d=0;d<e;d++)c[d]=n(u[d]);return c}return n(r.size)}}e.exports={calc:function(t,e){var n=o.getFromId(t,e.xaxis||"x"),i=o.getFromId(t,e.yaxis||"y"),l=n.makeCalcdata(e,"x"),h=i.makeCalcdata(e,"y"),p=e._length,g=new Array(p);d(t,e,n,i,l,h,f(e,p));for(var m=0;m<p;m++)g[m]=r(l[m])&&r(h[m])?{x:l[m],y:h[m]}:{x:a,y:a},e.ids&&(g[m].id=String(e.ids[m]));return u(g,e),s(e),c(g,e),t.firstscatter=!1,g},calcMarkerSize:f,calcAxisExpansion:d}},{"../../constants/numerical":145,"../../lib":163,"../../plots/cartesian/axes":205,"./arrays_to_calcdata":280,"./calc_selection":283,"./colorscale_calc":286,"./subtypes":303,"fast-isnumeric":10}],283:[function(t,e,n){"use strict";var r=t("../../lib");e.exports=function(t,e){r.isArrayOrTypedArray(e.selectedpoints)&&r.tagSelected(t,e)}},{"../../lib":163}],284:[function(t,e,n){"use strict";e.exports=function(t){for(var e=0;e<t.length;e++){var n=t[e];if("scatter"===n.type){var r=n.fill;if("none"!==r&&"toself"!==r&&(n.opacity=void 0,"tonexty"===r||"tonextx"===r))for(var i=e-1;i>=0;i--){var o=t[i];if("scatter"===o.type&&o.xaxis===n.xaxis&&o.yaxis===n.yaxis){o.opacity=void 0;break}}}}}},{}],285:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("../../lib"),o=t("../../plots/plots"),a=t("../../components/colorscale"),l=t("../../components/colorbar/draw");e.exports=function(t,e){var n=e[0].trace,s=n.marker,u="cb"+n.uid;if(t._fullLayout._infolayer.selectAll("."+u).remove(),void 0!==s&&s.showscale){var c=s.color,d=s.cmin,f=s.cmax;r(d)||(d=i.aggNums(Math.min,null,c)),r(f)||(f=i.aggNums(Math.max,null,c));var h=e[0].t.cb=l(t,u),p=a.makeColorScaleFunc(a.extractScale(s.colorscale,d,f),{noNumericCheck:!0});h.fillcolor(p).filllevels({start:d,end:f,size:(f-d)/254}).options(s.colorbar)()}else o.autoMargin(t,u)}},{"../../components/colorbar/draw":47,"../../components/colorscale":58,"../../lib":163,"../../plots/plots":237,"fast-isnumeric":10}],286:[function(t,e,n){"use strict";var r=t("../../components/colorscale/has_colorscale"),i=t("../../components/colorscale/calc"),o=t("./subtypes");e.exports=function(t){o.hasLines(t)&&r(t,"line")&&i(t,t.line.color,"line","c"),o.hasMarkers(t)&&(r(t,"marker")&&i(t,t.marker.color,"marker","c"),r(t,"marker.line")&&i(t,t.marker.line.color,"marker.line","c"))}},{"../../components/colorscale/calc":50,"../../components/colorscale/has_colorscale":57,"./subtypes":303}],287:[function(t,e,n){"use strict";e.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20}},{}],288:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../registry"),o=t("./attributes"),a=t("./constants"),l=t("./subtypes"),s=t("./xy_defaults"),u=t("./marker_defaults"),c=t("./line_defaults"),d=t("./line_shape_defaults"),f=t("./text_defaults"),h=t("./fillcolor_defaults");e.exports=function(t,e,n,p){function g(n,i){return r.coerce(t,e,o,n,i)}var m=s(t,e,p,g),y=m<a.PTS_LINESONLY?"lines+markers":"lines";if(m){g("text"),g("hovertext"),g("mode",y),l.hasLines(e)&&(c(t,e,n,p,g),d(t,e,g),g("connectgaps"),g("line.simplify")),l.hasMarkers(e)&&u(t,e,n,p,g,{gradient:!0}),l.hasText(e)&&f(t,e,p,g);var v=[];(l.hasMarkers(e)||l.hasText(e))&&(g("cliponaxis"),g("marker.maxdisplayed"),v.push("points")),g("fill"),"none"!==e.fill&&(h(t,e,n,g),l.hasLines(e)||d(t,e,g)),"tonext"!==e.fill&&"toself"!==e.fill||v.push("fills"),g("hoveron",v.join("+")||"points");var b=i.getComponentMethod("errorbars","supplyDefaults");b(t,e,n,{axis:"y"}),b(t,e,n,{axis:"x",inherit:"y"}),r.coerceSelectionMarkerOpacity(e,g)}else e.visible=!1}},{"../../lib":163,"../../registry":245,"./attributes":281,"./constants":287,"./fillcolor_defaults":290,"./line_defaults":294,"./line_shape_defaults":296,"./marker_defaults":299,"./subtypes":303,"./text_defaults":304,"./xy_defaults":305}],289:[function(t,e,n){"use strict";var r=t("../../lib");function i(t){return t||0===t}e.exports=function(t,e,n){var o=Array.isArray(n)?function(t){n.push(t)}:function(t){n.text=t},a=r.extractOption(t,e,"htx","hovertext");if(i(a))return o(a);var l=r.extractOption(t,e,"tx","text");return i(l)?o(l):void 0}},{"../../lib":163}],290:[function(t,e,n){"use strict";var r=t("../../components/color"),i=t("../../lib").isArrayOrTypedArray;e.exports=function(t,e,n,o){var a=!1;if(e.marker){var l=e.marker.color,s=(e.marker.line||{}).color;l&&!i(l)?a=l:s&&!i(s)&&(a=s)}o("fillcolor",r.addOpacity((e.line||{}).color||a||n,.5))}},{"../../components/color":43,"../../lib":163}],291:[function(t,e,n){"use strict";var r=t("../../components/color"),i=t("./subtypes");e.exports=function(t,e){var n,o;if("lines"===t.mode)return(n=t.line.color)&&r.opacity(n)?n:t.fillcolor;if("none"===t.mode)return t.fill?t.fillcolor:"";var a=e.mcc||(t.marker||{}).color,l=e.mlcc||((t.marker||{}).line||{}).color;return(o=a&&r.opacity(a)?a:l&&r.opacity(l)&&(e.mlw||((t.marker||{}).line||{}).width)?l:"")?r.opacity(o)<.3?r.addOpacity(o,.3):o:(n=(t.line||{}).color)&&r.opacity(n)&&i.hasLines(t)&&t.line.width?n:t.fillcolor}},{"../../components/color":43,"./subtypes":303}],292:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../components/fx"),o=t("../../registry"),a=t("./get_trace_color"),l=t("../../components/color"),s=t("./fill_hover_text");e.exports=function(t,e,n,u){var c=t.cd,d=c[0].trace,f=t.xa,h=t.ya,p=f.c2p(e),g=h.c2p(n),m=[p,g],y=d.hoveron||"",v=-1!==d.mode.indexOf("markers")?3:.5;if(-1!==y.indexOf("points")){var b=function(t){var e=Math.max(v,t.mrc||0),n=f.c2p(t.x)-p,r=h.c2p(t.y)-g;return Math.max(Math.sqrt(n*n+r*r)-e,1-v/e)},_=i.getDistanceFunction(u,function(t){var e=Math.max(3,t.mrc||0),n=1-1/e,r=Math.abs(f.c2p(t.x)-p);return r<e?n*r/e:r-e+n},function(t){var e=Math.max(3,t.mrc||0),n=1-1/e,r=Math.abs(h.c2p(t.y)-g);return r<e?n*r/e:r-e+n},b);if(i.getClosest(c,_,t),!1!==t.index){var x=c[t.index],w=f.c2p(x.x,!0),k=h.c2p(x.y,!0),T=x.mrc||1;return r.extendFlat(t,{color:a(d,x),x0:w-T,x1:w+T,xLabelVal:x.x,y0:k-T,y1:k+T,yLabelVal:x.y,spikeDistance:b(x)}),s(x,d,t),o.getComponentMethod("errorbars","hoverInfo")(x,d,t),[t]}}if(-1!==y.indexOf("fills")&&d._polygons){var C,A,M,S,E,O,P,I,D=d._polygons,L=[],R=!1,N=1/0,F=-1/0,z=1/0,j=-1/0;for(C=0;C<D.length;C++)(M=D[C]).contains(m)&&(R=!R,L.push(M),z=Math.min(z,M.ymin),j=Math.max(j,M.ymax));if(R){var V=((z=Math.max(z,0))+(j=Math.min(j,h._length)))/2;for(C=0;C<L.length;C++)for(S=L[C].pts,A=1;A<S.length;A++)(P=S[A-1][1])>V!=(I=S[A][1])>=V&&(O=S[A-1][0],I-P&&(E=O+(S[A][0]-O)*(V-P)/(I-P),N=Math.min(N,E),F=Math.max(F,E)));N=Math.max(N,0),F=Math.min(F,f._length);var B=l.defaultLine;return l.opacity(d.fillcolor)?B=d.fillcolor:l.opacity((d.line||{}).color)&&(B=d.line.color),r.extendFlat(t,{distance:t.maxHoverDistance,x0:N,x1:F,y0:V,y1:V,color:B}),delete t.index,t.text=d.text&&!Array.isArray(d.text)?String(d.text):d.name,[t]}}}},{"../../components/color":43,"../../components/fx":85,"../../lib":163,"../../registry":245,"./fill_hover_text":289,"./get_trace_color":291}],293:[function(t,e,n){"use strict";var r={},i=t("./subtypes");r.hasLines=i.hasLines,r.hasMarkers=i.hasMarkers,r.hasText=i.hasText,r.isBubble=i.isBubble,r.attributes=t("./attributes"),r.supplyDefaults=t("./defaults"),r.cleanData=t("./clean_data"),r.calc=t("./calc").calc,r.arraysToCalcdata=t("./arrays_to_calcdata"),r.plot=t("./plot"),r.colorbar=t("./colorbar"),r.style=t("./style").style,r.styleOnSelect=t("./style").styleOnSelect,r.hoverPoints=t("./hover"),r.selectPoints=t("./select"),r.animatable=!0,r.moduleType="trace",r.name="scatter",r.basePlotModule=t("../../plots/cartesian"),r.categories=["cartesian","svg","symbols","markerColorscale","errorBarsOK","showLegend","scatter-like","zoomScale"],r.meta={},e.exports=r},{"../../plots/cartesian":216,"./arrays_to_calcdata":280,"./attributes":281,"./calc":282,"./clean_data":284,"./colorbar":285,"./defaults":288,"./hover":292,"./plot":300,"./select":301,"./style":302,"./subtypes":303}],294:[function(t,e,n){"use strict";var r=t("../../lib").isArrayOrTypedArray,i=t("../../components/colorscale/has_colorscale"),o=t("../../components/colorscale/defaults");e.exports=function(t,e,n,a,l,s){var u=(t.marker||{}).color;l("line.color",n),i(t,"line")?o(t,e,a,l,{prefix:"line.",cLetter:"c"}):l("line.color",!r(u)&&u||n),l("line.width"),(s||{}).noDash||l("line.dash")}},{"../../components/colorscale/defaults":53,"../../components/colorscale/has_colorscale":57,"../../lib":163}],295:[function(t,e,n){"use strict";var r=t("../../constants/numerical").BADNUM,i=t("../../lib"),o=i.segmentsIntersect,a=i.constrain,l=t("./constants");e.exports=function(t,e){var n,s,u,c,d,f,h,p,g,m,y,v,b,_,x,w,k=e.xaxis,T=e.yaxis,C=e.simplify,A=e.connectGaps,M=e.baseTolerance,S=e.shape,E="linear"===S,O=[],P=l.minTolerance,I=new Array(t.length),D=0;function L(e){var n=t[e],i=k.c2p(n.x),o=T.c2p(n.y);return i===r||o===r?n.intoCenter||!1:[i,o]}function R(t){var e=t[0]/k._length,n=t[1]/T._length;return(1+l.toleranceGrowth*Math.max(0,-e,e-1,-n,n-1))*M}function N(t,e){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}C||(M=P=-1);var F,z,j,V,B,H,q,U=l.maxScreensAway,G=-k._length*U,W=k._length*(1+U),Y=-T._length*U,Z=T._length*(1+U),X=[[G,Y,W,Y],[W,Y,W,Z],[W,Z,G,Z],[G,Z,G,Y]];function Q(t){if(t[0]<G||t[0]>W||t[1]<Y||t[1]>Z)return[a(t[0],G,W),a(t[1],Y,Z)]}function K(t,e){return t[0]===e[0]&&(t[0]===G||t[0]===W)||t[1]===e[1]&&(t[1]===Y||t[1]===Z)||void 0}function $(t,e,n){return function(r,o){var a=Q(r),l=Q(o),s=[];if(a&&l&&K(a,l))return s;a&&s.push(a),l&&s.push(l);var u=2*i.constrain((r[t]+o[t])/2,e,n)-((a||r)[t]+(l||o)[t]);return u&&((a&&l?u>0==a[t]>l[t]?a:l:a||l)[t]+=u),s}}function J(t){var e=t[0],n=t[1],r=e===I[D-1][0],i=n===I[D-1][1];if(!r||!i)if(D>1){var o=e===I[D-2][0],a=n===I[D-2][1];r&&(e===G||e===W)&&o?a?D--:I[D-1]=t:i&&(n===Y||n===Z)&&a?o?D--:I[D-1]=t:I[D++]=t}else I[D++]=t}function tt(t){I[D-1][0]!==t[0]&&I[D-1][1]!==t[1]&&J([j,V]),J(t),B=null,j=V=0}function et(t){if(F=t[0]<G?G:t[0]>W?W:0,z=t[1]<Y?Y:t[1]>Z?Z:0,F||z){if(D)if(B){var e=q(B,t);e.length>1&&(tt(e[0]),I[D++]=e[1])}else H=q(I[D-1],t)[0],I[D++]=H;else I[D++]=[F||t[0],z||t[1]];var n=I[D-1];F&&z&&(n[0]!==F||n[1]!==z)?(B&&(j!==F&&V!==z?J(j&&V?(a=((i=t)[1]-(r=B)[1])/(o=i[0]-r[0]),(r[1]*i[0]-i[1]*r[0])/o>0?[a>0?G:W,Z]:[a>0?W:G,Y]):[j||F,V||z]):j&&V&&J([j,V])),J([F,z])):j-F&&V-z&&J([F||j,z||V]),B=t,j=F,V=z}else B&&tt(q(B,t)[0]),I[D++]=t;var r,i,o,a}for("linear"===S||"spline"===S?q=function(t,e){for(var n=[],r=0,i=0;i<4;i++){var a=X[i],l=o(t[0],t[1],e[0],e[1],a[0],a[1],a[2],a[3]);l&&(!r||Math.abs(l.x-n[0][0])>1||Math.abs(l.y-n[0][1])>1)&&(l=[l.x,l.y],r&&N(l,t)<N(n[0],t)?n.unshift(l):n.push(l),r++)}return n}:"hv"===S||"vh"===S?q=function(t,e){var n=[],r=Q(t),i=Q(e);return r&&i&&K(r,i)?n:(r&&n.push(r),i&&n.push(i),n)}:"hvh"===S?q=$(0,G,W):"vhv"===S&&(q=$(1,Y,Z)),n=0;n<t.length;n++)if(s=L(n)){for(D=0,B=null,et(s),n++;n<t.length;n++){if(!(c=L(n))){if(A)continue;break}if(E){if(!((m=N(c,s))<R(c)*P)){for(p=[(c[0]-s[0])/m,(c[1]-s[1])/m],d=s,y=m,v=_=x=0,h=!1,u=c,n++;n<t.length;n++){if(!(f=L(n))){if(A)continue;break}if(w=(g=[f[0]-s[0],f[1]-s[1]])[0]*p[1]-g[1]*p[0],_=Math.min(_,w),(x=Math.max(x,w))-_>R(f))break;u=f,(b=g[0]*p[0]+g[1]*p[1])>y?(y=b,c=f,h=!1):b<v&&(v=b,d=f,h=!0)}if(h?(et(c),u!==d&&et(d)):(d!==s&&et(d),u!==c&&et(c)),et(u),n>=t.length||!f)break;et(f),s=f}}else et(c)}B&&J([j||B[0],V||B[1]]),O.push(I.slice(0,D))}return O}},{"../../constants/numerical":145,"../../lib":163,"./constants":287}],296:[function(t,e,n){"use strict";e.exports=function(t,e,n){"spline"===n("line.shape")&&n("line.smoothing")}},{}],297:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r,i,o=null;for(i=0;i<n.length;++i)!0===(r=n[i][0].trace).visible?(r._nexttrace=null,-1!==["tonextx","tonexty","tonext"].indexOf(r.fill)&&(r._prevtrace=o,o&&(o._nexttrace=r)),o=r):r._prevtrace=r._nexttrace=null}},{}],298:[function(t,e,n){"use strict";var r=t("fast-isnumeric");e.exports=function(t){var e=t.marker,n=e.sizeref||1,i=e.sizemin||0,o="area"===e.sizemode?function(t){return Math.sqrt(t/n)}:function(t){return t/n};return function(t){var e=o(t/2);return r(e)&&e>0?Math.max(e,i):0}}},{"fast-isnumeric":10}],299:[function(t,e,n){"use strict";var r=t("../../components/color"),i=t("../../components/colorscale/has_colorscale"),o=t("../../components/colorscale/defaults"),a=t("./subtypes");e.exports=function(t,e,n,l,s,u){var c=a.isBubble(t),d=(t.line||{}).color;u=u||{},d&&(n=d),s("marker.symbol"),s("marker.opacity",c?.7:1),s("marker.size"),s("marker.color",n),i(t,"marker")&&o(t,e,l,s,{prefix:"marker.",cLetter:"c"}),u.noSelect||(s("selected.marker.color"),s("unselected.marker.color"),s("selected.marker.size"),s("unselected.marker.size")),u.noLine||(s("marker.line.color",d&&!Array.isArray(d)&&e.marker.color!==d?d:c?r.background:r.defaultLine),i(t,"marker.line")&&o(t,e,l,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width",c?1:0)),c&&(s("marker.sizeref"),s("marker.sizemin"),s("marker.sizemode")),u.gradient&&"none"!==s("marker.gradient.type")&&s("marker.gradient.color")}},{"../../components/color":43,"../../components/colorscale/defaults":53,"../../components/colorscale/has_colorscale":57,"./subtypes":303}],300:[function(t,e,n){"use strict";var r=t("d3"),i=t("../../registry"),o=t("../../lib"),a=t("../../components/drawing"),l=t("./subtypes"),s=t("./line_points"),u=t("./link_traces"),c=t("../../lib/polygon").tester;function d(t,e,n,u,d,f,h){var p,g;!function(t,e,n,i,a){var s=n.xaxis,u=n.yaxis,c=r.extent(o.simpleMap(s.range,s.r2c)),d=r.extent(o.simpleMap(u.range,u.r2c)),f=i[0].trace;if(l.hasMarkers(f)){var h=f.marker.maxdisplayed;if(0!==h){var p=i.filter(function(t){return t.x>=c[0]&&t.x<=c[1]&&t.y>=d[0]&&t.y<=d[1]}),g=Math.ceil(p.length/h),m=0;a.forEach(function(t,n){var r=t[0].trace;l.hasMarkers(r)&&r.marker.maxdisplayed>0&&n<e&&m++});var y=Math.round(m*g/3+Math.floor(m/3)*g/7.1);i.forEach(function(t){delete t.vis}),p.forEach(function(t,e){0===Math.round((e+y)%g)&&(t.vis=!0)})}}}(0,e,n,u,d);var m=!!h&&h.duration>0;function y(t){return m?t.transition():t}var v=n.xaxis,b=n.yaxis,_=u[0].trace,x=_.line,w=r.select(f);if(i.getComponentMethod("errorbars","plot")(w,n,h),!0===_.visible){var k,T;y(w).style("opacity",_.opacity);var C=_.fill.charAt(_.fill.length-1);"x"!==C&&"y"!==C&&(C=""),n.isRangePlot||(u[0].node3=w);var A="",M=[],S=_._prevtrace;S&&(A=S._prevRevpath||"",T=S._nextFill,M=S._polygons);var E,O,P,I,D,L,R,N,F,z="",j="",V=[],B=o.noop;if(k=_._ownFill,l.hasLines(_)||"none"!==_.fill){for(T&&T.datum(u),-1!==["hv","vh","hvh","vhv"].indexOf(x.shape)?(P=a.steps(x.shape),I=a.steps(x.shape.split("").reverse().join(""))):P=I="spline"===x.shape?function(t){var e=t[t.length-1];return t.length>1&&t[0][0]===e[0]&&t[0][1]===e[1]?a.smoothclosed(t.slice(1),x.smoothing):a.smoothopen(t,x.smoothing)}:function(t){return"M"+t.join("L")},D=function(t){return I(t.reverse())},V=s(u,{xaxis:v,yaxis:b,connectGaps:_.connectgaps,baseTolerance:Math.max(x.width||1,3)/4,shape:x.shape,simplify:x.simplify}),F=_._polygons=new Array(V.length),g=0;g<V.length;g++)_._polygons[g]=c(V[g]);V.length&&(L=V[0][0],N=(R=V[V.length-1])[R.length-1]),B=function(t){return function(e){if(E=P(e),O=D(e),z?C?(z+="L"+E.substr(1),j=O+"L"+j.substr(1)):(z+="Z"+E,j=O+"Z"+j):(z=E,j=O),l.hasLines(_)&&e.length>1){var n=r.select(this);if(n.datum(u),t)y(n.style("opacity",0).attr("d",E).call(a.lineGroupStyle)).style("opacity",1);else{var i=y(n);i.attr("d",E),a.singleLineStyle(u,i)}}}}}var H=w.selectAll(".js-line").data(V);y(H.exit()).style("opacity",0).remove(),H.each(B(!1)),H.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(a.lineGroupStyle).each(B(!0)),a.setClipUrl(H,n.layerClipId),V.length?(k?L&&N&&(C?("y"===C?L[1]=N[1]=b.c2p(0,!0):"x"===C&&(L[0]=N[0]=v.c2p(0,!0)),y(k).attr("d","M"+N+"L"+L+"L"+z.substr(1)).call(a.singleFillStyle)):y(k).attr("d",z+"Z").call(a.singleFillStyle)):T&&("tonext"===_.fill.substr(0,6)&&z&&A?("tonext"===_.fill?y(T).attr("d",z+"Z"+A+"Z").call(a.singleFillStyle):y(T).attr("d",z+"L"+A.substr(1)+"Z").call(a.singleFillStyle),_._polygons=_._polygons.concat(M)):(U(T),_._polygons=null)),_._prevRevpath=j,_._prevPolygons=F):(k?U(k):T&&U(T),_._polygons=_._prevRevpath=_._prevPolygons=null);var q=w.selectAll(".points");p=q.data([u]),q.each(X),p.enter().append("g").classed("points",!0).each(X),p.exit().remove(),p.each(function(t){var e=!1===t[0].trace.cliponaxis;a.setClipUrl(r.select(this),e?null:n.layerClipId)})}function U(t){y(t).attr("d","M0,0Z")}function G(t){return t.filter(function(t){return t.vis})}function W(t){return t.id}function Y(t){if(t.ids)return W}function Z(){return!1}function X(e){var i,s=e[0].trace,u=r.select(this),c=l.hasMarkers(s),d=l.hasText(s),f=Y(s),h=Z,p=Z;c&&(h=s.marker.maxdisplayed||s._needsCull?G:o.identity),d&&(p=s.marker.maxdisplayed||s._needsCull?G:o.identity);var g,_=(i=u.selectAll("path.point").data(h,f)).enter().append("path").classed("point",!0);m&&_.call(a.pointStyle,s,t).call(a.translatePoints,v,b).style("opacity",0).transition().style("opacity",1),i.order(),c&&(g=a.makePointStyleFns(s)),i.each(function(e){var i=r.select(this),o=y(i);a.translatePoint(e,o,v,b)?(a.singlePointStyle(e,o,s,g,t),n.layerClipId&&a.hideOutsideRangePoint(e,o,v,b,s.xcalendar,s.ycalendar),s.customdata&&i.classed("plotly-customdata",null!==e.data&&void 0!==e.data)):o.remove()}),m?i.exit().transition().style("opacity",0).remove():i.exit().remove(),(i=u.selectAll("g").data(p,f)).enter().append("g").classed("textpoint",!0).append("text"),i.order(),i.each(function(t){var e=r.select(this),i=y(e.select("text"));a.translatePoint(t,i,v,b)?n.layerClipId&&a.hideOutsideRangePoint(t,e,v,b,s.xcalendar,s.ycalendar):e.remove()}),i.selectAll("text").call(a.textPointStyle,s,t).each(function(t){var e=v.c2p(t.x),n=b.c2p(t.y);r.select(this).selectAll("tspan.line").each(function(){y(r.select(this)).attr({x:e,y:n})})}),i.exit().remove()}}e.exports=function(t,e,n,i,o,l){var s,c,f,h,p=!o,g=!!o&&o.duration>0;for((f=i.selectAll("g.trace").data(n,function(t){return t[0].trace.uid})).enter().append("g").attr("class",function(t){return"trace scatter trace"+t[0].trace.uid}).style("stroke-miterlimit",2),u(t,e,n),function(t,e,n){var i;e.selectAll("g.trace").each(function(t){var e=r.select(this);if((i=t[0].trace)._nexttrace){if(i._nextFill=e.select(".js-fill.js-tonext"),!i._nextFill.size()){var o=":first-child";e.select(".js-fill.js-tozero").size()&&(o+=" + *"),i._nextFill=e.insert("path",o).attr("class","js-fill js-tonext")}}else e.selectAll(".js-fill.js-tonext").remove(),i._nextFill=null;i.fill&&("tozero"===i.fill.substr(0,6)||"toself"===i.fill||"to"===i.fill.substr(0,2)&&!i._prevtrace)?(i._ownFill=e.select(".js-fill.js-tozero"),i._ownFill.size()||(i._ownFill=e.insert("path",":first-child").attr("class","js-fill js-tozero"))):(e.selectAll(".js-fill.js-tozero").remove(),i._ownFill=null),e.selectAll(".js-fill").call(a.setClipUrl,n.layerClipId)})}(0,i,e),s=0,c={};s<n.length;s++)c[n[s][0].trace.uid]=s;i.selectAll("g.trace").sort(function(t,e){return c[t[0].trace.uid]>c[e[0].trace.uid]?1:-1}),g?(l&&(h=l()),r.transition().duration(o.duration).ease(o.easing).each("end",function(){h&&h()}).each("interrupt",function(){h&&h()}).each(function(){i.selectAll("g.trace").each(function(r,i){d(t,i,e,r,n,this,o)})})):i.selectAll("g.trace").each(function(r,i){d(t,i,e,r,n,this,o)}),p&&f.exit().remove(),i.selectAll("path:not([d])").remove()}},{"../../components/drawing":68,"../../lib":163,"../../lib/polygon":175,"../../registry":245,"./line_points":295,"./link_traces":297,"./subtypes":303,d3:7}],301:[function(t,e,n){"use strict";var r=t("./subtypes");e.exports=function(t,e){var n,i,o,a,l=t.cd,s=t.xaxis,u=t.yaxis,c=[],d=l[0].trace;if(!r.hasMarkers(d)&&!r.hasText(d))return[];if(!1===e)for(n=0;n<l.length;n++)l[n].selected=0;else for(n=0;n<l.length;n++)o=s.c2p((i=l[n]).x),a=u.c2p(i.y),e.contains([o,a])?(c.push({pointNumber:n,x:s.c2d(i.x),y:u.c2d(i.y)}),i.selected=1):i.selected=0;return c}},{"./subtypes":303}],302:[function(t,e,n){"use strict";var r=t("d3"),i=t("../../components/drawing"),o=t("../../registry");function a(t,e,n){i.pointStyle(t.selectAll("path.point"),e,n),i.textPointStyle(t.selectAll("text"),e,n)}e.exports={style:function(t,e){var n=e?e[0].node3:r.select(t).selectAll("g.trace.scatter");n.style("opacity",function(t){return t[0].trace.opacity}),n.selectAll("g.points").each(function(e){a(r.select(this),e.trace||e[0].trace,t)}),n.selectAll("g.trace path.js-line").call(i.lineGroupStyle),n.selectAll("g.trace path.js-fill").call(i.fillGroupStyle),o.getComponentMethod("errorbars","style")(n)},stylePoints:a,styleOnSelect:function(t,e){var n=e[0].node3,r=e[0].trace;r.selectedpoints?(i.selectedPointStyle(n.selectAll("path.point"),r),i.selectedTextStyle(n.selectAll("text"),r)):a(n,r,t)}}},{"../../components/drawing":68,"../../registry":245,d3:7}],303:[function(t,e,n){"use strict";var r=t("../../lib");e.exports={hasLines:function(t){return t.visible&&t.mode&&-1!==t.mode.indexOf("lines")},hasMarkers:function(t){return t.visible&&(t.mode&&-1!==t.mode.indexOf("markers")||"splom"===t.type)},hasText:function(t){return t.visible&&t.mode&&-1!==t.mode.indexOf("text")},isBubble:function(t){return r.isPlainObject(t.marker)&&r.isArrayOrTypedArray(t.marker.size)}}},{"../../lib":163}],304:[function(t,e,n){"use strict";var r=t("../../lib");e.exports=function(t,e,n,i,o){o=o||{},i("textposition"),r.coerceFont(i,"textfont",n.font),o.noSelect||(i("selected.textfont.color"),i("unselected.textfont.color"))}},{"../../lib":163}],305:[function(t,e,n){"use strict";var r=t("../../registry");e.exports=function(t,e,n,i){var o,a=i("x"),l=i("y");if(r.getComponentMethod("calendars","handleTraceDefaults")(t,e,["x","y"],n),a)l?o=Math.min(a.length,l.length):(o=a.length,i("y0"),i("dy"));else{if(!l)return 0;o=e.y.length,i("x0"),i("dx")}return e._length=o,o}},{"../../registry":245}]},{},[5])(5)},zUnb:function(t,e,n){"use strict";n.r(e);var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function a(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function s(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t}function u(t){return"function"==typeof t}var c=!1,d={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){c=t},get useDeprecatedSynchronousErrorHandling(){return c}};function f(t){setTimeout(function(){throw t})}var h={closed:!0,next:function(t){},error:function(t){if(d.useDeprecatedSynchronousErrorHandling)throw t;f(t)},complete:function(){}},p=Array.isArray||function(t){return t&&"number"==typeof t.length};function g(t){return null!=t&&"object"==typeof t}var m,y={e:{}};function v(){try{return m.apply(this,arguments)}catch(t){return y.e=t,y}}function b(t){return m=t,v}var _=function(t){function e(n){var r=t.call(this,n?n.length+" errors occurred during unsubscription:\n  "+n.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"")||this;return r.errors=n,r.name="UnsubscriptionError",Object.setPrototypeOf(r,e.prototype),r}return i(e,t),e}(Error),x=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,r=this._parents,i=this._unsubscribe,o=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var a=-1,l=r?r.length:0;n;)n.remove(this),n=++a<l&&r[a]||null;if(u(i)&&b(i).call(this)===y&&(e=!0,t=t||(y.e instanceof _?w(y.e.errors):[y.e])),p(o))for(a=-1,l=o.length;++a<l;){var s=o[a];if(g(s)&&b(s.unsubscribe).call(s)===y){e=!0,t=t||[];var c=y.e;c instanceof _?t=t.concat(w(c.errors)):t.push(c)}}if(e)throw new _(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=((e=new t).closed=!0,e),t}();function w(t){return t.reduce(function(t,e){return t.concat(e instanceof _?e.errors:e)},[])}var k="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("rxSubscriber"):"@@rxSubscriber",T=function(t){function e(e,n,r){var i,o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=h;break;case 1:if(!e){o.destination=h;break}if("object"==typeof e){if((i=e)instanceof T||"syncErrorThrowable"in i&&i[k]){var a=e[k]();o.syncErrorThrowable=a.syncErrorThrowable,o.destination=a,a.add(o)}else o.syncErrorThrowable=!0,o.destination=new C(o,e);break}default:o.syncErrorThrowable=!0,o.destination=new C(o,e,n,r)}return o}return i(e,t),e.prototype[k]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(x),C=function(t){function e(e,n,r,i){var o,a=t.call(this)||this;a._parentSubscriber=e;var l=a;return u(n)?o=n:n&&(o=n.next,r=n.error,i=n.complete,n!==h&&(u((l=Object.create(n)).unsubscribe)&&a.add(l.unsubscribe.bind(l)),l.unsubscribe=a.unsubscribe.bind(a))),a._context=l,a._next=o,a._error=r,a._complete=i,a}return i(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;d.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=d.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):f(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;f(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};d.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),d.useDeprecatedSynchronousErrorHandling)throw t;f(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!d.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return d.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(f(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(T),A="function"==typeof Symbol&&Symbol.observable||"@@observable";function M(){}var S=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof T)return t;if(t[k])return t[k]()}return t||e||n?new T(t,e,n):new T(h)}(t,e,n);if(r?r.call(i,this.source):i.add(this.source||!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),d.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){d.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=E(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(t){r(t),i&&i.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[A]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:((n=t)?1===n.length?n[0]:function(t){return n.reduce(function(t,e){return e(t)},t)}:M)(this);var n},t.prototype.toPromise=function(t){var e=this;return new(t=E(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function E(t){if(t||(t=d.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function O(t){return t&&"function"==typeof t.schedule}var P=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return i(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(T),I=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}},D=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,f),e}},L=function(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),R=function(t){return function(e){for(var n=t[L]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e}},N=function(t){return function(e){var n=t[A]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}},F=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function z(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var j=function(t){if(t instanceof S)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(F(t))return I(t);if(z(t))return D(t);if(t&&"function"==typeof t[L])return R(t);if(t&&"function"==typeof t[A])return N(t);var e=g(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function V(t,e,n,r){var i=new P(t,n,r);return j(e)(i)}var B=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(T);function H(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new q(t,e))}}var q=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new U(t,this.project,this.thisArg))},t}(),U=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return i(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(T);function G(t,e){return new S(e?function(n){var r=new x,i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r}:I(t))}function W(t,e){if(!e)return t instanceof S?t:new S(j(t));if(null!=t){if(function(t){return t&&"function"==typeof t[A]}(t))return function(t,e){return new S(e?function(n){var r=new x;return r.add(e.schedule(function(){var i=t[A]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r}:N(t))}(t,e);if(z(t))return function(t,e){return new S(e?function(n){var r=new x;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r}:D(t))}(t,e);if(F(t))return G(t,e);if(function(t){return t&&"function"==typeof t[L]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new S(e?function(n){var r,i=new x;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[L](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}}))})),i}:R(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function Y(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(Y(function(n,r){return W(t(n,r)).pipe(H(function(t,i){return e(n,t,r,i)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new Z(t,n))})}var Z=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new X(t,this.project,this.concurrent))},t}(),X=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return i(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){this.add(V(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(B);function Q(t){return t}function K(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Y(Q,t)}function $(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,i=t[t.length-1];return O(i)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof i&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof S?t[0]:K(n)(G(t,r))}var J=function(t){function e(){var n=t.call(this,"object unsubscribed")||this;return n.name="ObjectUnsubscribedError",Object.setPrototypeOf(n,e.prototype),n}return i(e,t),e}(Error),tt=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return i(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(x),et=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return i(e,t),e}(T),nt=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return i(e,t),e.prototype[k]=function(){return new et(this)},e.prototype.lift=function(t){var e=new rt(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new J;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new J;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new J;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new J;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new J;return this.hasError?(t.error(this.thrownError),x.EMPTY):this.isStopped?(t.complete(),x.EMPTY):(this.observers.push(t),new tt(this,t))},e.prototype.asObservable=function(){var t=new S;return t.source=this,t},e.create=function(t,e){return new rt(t,e)},e}(S),rt=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return i(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):x.EMPTY},e}(nt);function it(){return function(t){return t.lift(new ot(t))}}var ot=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new at(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),at=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return i(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(T),lt=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return i(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new x).add(this.source.subscribe(new ut(this.getSubject(),this))),t.closed?(this._connection=null,t=x.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return it()(this)},e}(S).prototype,st={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:lt._subscribe},_isComplete:{value:lt._isComplete,writable:!0},getSubject:{value:lt.getSubject},connect:{value:lt.connect},refCount:{value:lt.refCount}},ut=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return i(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(et);function ct(){return new nt}function dt(t){return{providedIn:t.providedIn||null,factory:t.factory,value:void 0}}var ft=function(){function t(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0!==e?dt({providedIn:e.providedIn||"root",factory:e.factory}):void 0}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),ht="__parameters__";function pt(t,e,n){var r=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var r=t.apply(void 0,s(e));for(var i in r)this[i]=r[i]}}}(e);function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this instanceof i)return r.apply(this,t),this;var n,o=new((n=i).bind.apply(n,s([void 0],t)));return a.annotation=o,a;function a(t,e,n){for(var r=t.hasOwnProperty(ht)?t[ht]:Object.defineProperty(t,ht,{value:[]})[ht];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}Function;var gt="undefined"!=typeof window&&window,mt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,yt="undefined"!=typeof global&&global,vt=gt||yt||mt,bt=Promise.resolve(0),_t=null;function xt(){if(!_t){var t=vt.Symbol;if(t&&t.iterator)_t=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(_t=r)}}return _t}function wt(t){"undefined"==typeof Zone?bt.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function kt(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Tt(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(Tt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Ct(t){return t.__forward_ref__=Ct,t.toString=function(){return Tt(this())},t}function At(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===Ct?t():t}var Mt=pt("Inject",function(t){return{token:t}}),St=pt("Optional"),Et=pt("Self"),Ot=pt("SkipSelf"),Pt="__source",It=new Object,Dt=new ft("INJECTOR"),Lt=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=It),e===It)throw new Error("NullInjectorError: No provider for "+Tt(t)+"!");return e},t}(),Rt=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?new Gt(t,e):new Gt(t.providers,t.parent,t.name||null)},t.THROW_IF_NOT_FOUND=It,t.NULL=new Lt,t.ngInjectableDef=dt({providedIn:"any",factory:function(){return Kt(Dt)}}),t}(),Nt=function(t){return t},Ft=[],zt=Nt,jt=function(){return Array.prototype.slice.call(arguments)},Vt={},Bt=function(t){for(var e in t)if(t[e]===Vt)return e;throw Error("!prop")}({provide:String,useValue:Vt}),Ht=Rt.NULL,qt=/\n/gm,Ut="\u0275",Gt=function(){function t(t,e,n){void 0===e&&(e=Ht),void 0===n&&(n=null),this.parent=e,this.source=n;var r=this._records=new Map;r.set(Rt,{token:Rt,fn:Nt,deps:Ft,value:this,useNew:!1}),r.set(Dt,{token:Dt,fn:Nt,deps:Ft,value:this,useNew:!1}),function t(e,n){if(n)if((n=At(n))instanceof Array)for(var r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw Zt("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Zt("Unexpected provider",n);var i=At(n.provide),o=function(t){var e=function(t){var e=Ft,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var i=6;if((s=At(n[r]))instanceof Array)for(var o=0,a=s;o<a.length;o++){var l=a[o];l instanceof St||l==St?i|=1:l instanceof Ot||l==Ot?i&=-3:l instanceof Et||l==Et?i&=-5:s=l instanceof Mt?l.token:At(l)}e.push({token:s,options:i})}}else if(t.useExisting){var s;e=[{token:s=At(t.useExisting),options:6}]}else if(!(n||Bt in t))throw Zt("'deps' required",t);return e}(t),n=Nt,r=Ft,i=!1,o=At(t.provide);if(Bt in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=At(t.useClass);else{if("function"!=typeof o)throw Zt("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var a=e.get(i);if(a){if(a.fn!==jt)throw Wt(i)}else e.set(i,a={token:n.provide,deps:[],useNew:!1,fn:jt,value:Ft});a.deps.push({token:i=n,options:6})}var l=e.get(i);if(l&&l.fn==jt)throw Wt(i);e.set(i,o)}}(r,t)}return t.prototype.get=function(t,e,n){void 0===n&&(n=0);var r=this._records.get(t);try{return function t(e,n,r,i,o,a){try{return function(e,n,r,i,o,a){var l,u;if(!n||4&a)2&a||(l=i.get(e,o,0));else{if((l=n.value)==zt)throw Error(Ut+"Circular dependency");if(l===Ft){n.value=zt;var c=n.useNew,d=n.fn,f=n.deps,h=Ft;if(f.length){h=[];for(var p=0;p<f.length;p++){var g=f[p],m=g.options,y=2&m?r.get(g.token):void 0;h.push(t(g.token,y,r,y||4&m?i:Ht,1&m?null:Rt.THROW_IF_NOT_FOUND,0))}}n.value=l=c?new((u=d).bind.apply(u,s([void 0],h))):d.apply(void 0,h)}}return l}(e,n,r,i,o,a)}catch(t){throw t instanceof Error||(t=new Error(t)),(t.ngTempTokenPath=t.ngTempTokenPath||[]).unshift(e),n&&n.value==zt&&(n.value=Ft),t}}(t,r,this._records,this.parent,e,n)}catch(e){var i=e.ngTempTokenPath;throw t[Pt]&&i.unshift(t[Pt]),e.message=Yt("\n"+e.message,i,this.source),e.ngTokenPath=i,e.ngTempTokenPath=null,e}},t.prototype.toString=function(){var t=[];return this._records.forEach(function(e,n){return t.push(Tt(n))}),"StaticInjector["+t.join(", ")+"]"},t}();function Wt(t){return Zt("Cannot mix multi providers and regular providers",t)}function Yt(t,e,n){void 0===n&&(n=null),t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Ut?t.substr(2):t;var r=Tt(e);if(e instanceof Array)r=e.map(Tt).join(" -> ");else if("object"==typeof e){var i=[];for(var o in e)if(e.hasOwnProperty(o)){var a=e[o];i.push(o+":"+("string"==typeof a?JSON.stringify(a):Tt(a)))}r="{"+i.join(", ")+"}"}return"StaticInjectorError"+(n?"("+n+")":"")+"["+r+"]: "+t.replace(qt,"\n  ")}function Zt(t,e){return new Error(Yt(t,e))}var Xt=void 0;function Qt(t){var e=Xt;return Xt=t,e}function Kt(t,e){if(void 0===e&&(e=0),void 0===Xt)throw new Error("inject() must be called from an injection context");if(null===Xt){var n=t.ngInjectableDef;if(n&&"root"==n.providedIn)return void 0===n.value?n.value=n.factory():n.value;throw new Error("Injector: NOT_FOUND ["+Tt(t)+"]")}return Xt.get(t,8&e?null:void 0,e)}String;var $t=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t}({}),Jt=new function(t){this.full="6.0.3",this.major="6.0.3".split(".")[0],this.minor="6.0.3".split(".")[1],this.patch="6.0.3".split(".").slice(2).join(".")}("6.0.3"),te="ngDebugContext",ee="ngOriginalError",ne="ngErrorLogger";function re(t){return t[te]}function ie(t){return t[ee]}function oe(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,s(e))}var ae=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[ne]||oe}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?re(t)?re(t):this._findContext(ie(t)):null},t.prototype._findOriginalError=function(t){for(var e=ie(t);e&&ie(e);)e=ie(e);return e},t}(),le=new ft("The presence of this token marks an injector as being the root injector.");function se(t){return!!t&&"function"==typeof t.then}var ue=new ft("Application Initializer"),ce=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();se(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},t}(),de=new ft("AppId");function fe(){return""+he()+he()+he()}function he(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var pe=new ft("Platform Initializer"),ge=new ft("Platform ID"),me=new ft("appBootstrapListener"),ye=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t.ctorParameters=function(){return[]},t}();function ve(){throw new Error("Runtime compiler is not loaded")}var be=function(){function t(){}return t.prototype.compileModuleSync=function(t){throw ve()},t.prototype.compileModuleAsync=function(t){throw ve()},t.prototype.compileModuleAndAllComponentsSync=function(t){throw ve()},t.prototype.compileModuleAndAllComponentsAsync=function(t){throw ve()},t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t}(),_e=function(){},xe=function(){};function we(t){var e=Error("No component factory found for "+Tt(t)+". Did you add it to @NgModule.entryComponents?");return e[Ce]=t,e}var ke,Te,Ce="ngComponent",Ae=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw we(t)},t}(),Me=function(){function t(){}return t.NULL=new Ae,t}(),Se=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var i=t[r];this._factories.set(i.componentType,i)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw we(t);return new Ee(e,this._ngModule)},t}(),Ee=function(t){function e(e,n){var r=t.call(this)||this;return r.factory=e,r.ngModule=n,r.selector=e.selector,r.componentType=e.componentType,r.ngContentSelectors=e.ngContentSelectors,r.inputs=e.inputs,r.outputs=e.outputs,r}return i(e,t),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}(xe),Oe=function(){},Pe=function(){var t=vt.wtf;return!(!t||!(ke=t.trace)||(Te=ke.events,0))}();function Ie(t,e){return null}var De=Pe?function(t,e){return void 0===e&&(e=null),Te.createScope(t,e)}:function(t,e){return Ie},Le=Pe?function(t,e){return ke.leaveScope(t,e),e}:function(t,e){return e},Re=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return i(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var i,o=function(t){return null},a=function(){return null};e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(a=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(o=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(a=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var l=t.prototype.subscribe.call(this,i,o,a);return e instanceof x&&e.add(l),l},e}(nt),Ne=function(){function t(t){var e,n=t.enableLongStackTrace,r=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Re(!1),this.onMicrotaskEmpty=new Re(!1),this.onStable=new Re(!1),this.onError=new Re(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,n,r,i,o,a){try{return Ve(e),t.invokeTask(r,i,o,a)}finally{Be(e)}},onInvoke:function(t,n,r,i,o,a,l){try{return Ve(e),t.invoke(r,i,o,a,l)}finally{Be(e)}},onHasTask:function(t,n,r,i){t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,je(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,n,r,i){return t.handleError(r,i),e.runOutsideAngular(function(){return e.onError.emit(i)}),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,ze,Fe,Fe);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function Fe(){}var ze={};function je(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function Ve(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Be(t){t._nesting--,je(t)}var He,qe=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Re,this.onMicrotaskEmpty=new Re,this.onStable=new Re,this.onError=new Re}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),Ue=function(){function t(t){var e=this;this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents(),t.run(function(){e.taskTrackingZone=Zone.current.get("TaskTrackingZone")})}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){Ne.assertNotInAngularZone(),wt(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;if(this.isStable())wt(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}},t.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,isPeriodic:t.data.isPeriodic,delay:t.data.delay,creationLocation:t.creationLocation,xhr:t.data.target}}):[]},t.prototype.addCallback=function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})},t.prototype.whenStable=function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t}(),Ge=function(){function t(){this._applications=new Map,We.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),We.findTestabilityInTree(this,t,e)},t.ctorParameters=function(){return[]},t}(),We=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}()),Ye=!0,Ze=!1,Xe=new ft("AllowMultipleToken");function Qe(){return Ze=!0,Ye}var Ke=function(t,e){this.name=t,this.token=e};function $e(t,e,n){void 0===n&&(n=[]);var r="Platform: "+e,i=new ft(r);return function(e){void 0===e&&(e=[]);var o=Je();if(!o||o.injector.get(Xe,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(He&&!He.destroyed&&!He.injector.get(Xe,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");He=t.get(tn);var e=t.get(pe,null);e&&e.forEach(function(t){return t()})}(Rt.create({providers:a,name:r}))}return function(t){var e=Je();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Je(){return He&&!He.destroyed?He:null}var tn=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n,r=this,i="noop"===(n=e?e.ngZone:void 0)?new qe:("zone.js"===n?void 0:n)||new Ne({enableLongStackTrace:Qe()}),o=[{provide:Ne,useValue:i}];return i.run(function(){var e=Rt.create({providers:o,parent:r.injector,name:t.moduleType.name}),n=t.create(e),a=n.injector.get(ae,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy(function(){return rn(r._modules,n)}),i.runOutsideAngular(function(){return i.onError.subscribe({next:function(t){a.handleError(t)}})}),function(t,e,i){try{var o=((a=n.injector.get(ce)).runInitializers(),a.donePromise.then(function(){return r._moduleDoBootstrap(n),n}));return se(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}var a}(a,i)})},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var r=this.injector.get(_e),i=en({},e);return r.createCompiler([i]).compileModuleAsync(t).then(function(t){return n.bootstrapModuleFactory(t,i)})},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(nn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+Tt(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}();function en(t,e){return Array.isArray(e)?e.reduce(en,t):o({},t,e)}var nn=function(){function t(t,e,n,r,i,o){var a=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Qe(),this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run(function(){a.tick()})}});var l=new S(function(t){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular(function(){t.next(a._stable),t.complete()})}),s=new S(function(t){var e;a._zone.runOutsideAngular(function(){e=a._zone.onStable.subscribe(function(){Ne.assertNotInAngularZone(),wt(function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,t.next(!0))})})});var n=a._zone.onUnstable.subscribe(function(){Ne.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=$(l,s.pipe(function(t){return it()((e=ct,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,st);return r.source=t,r.subjectFactory=n,r})(t));var e}))}return t.prototype.bootstrap=function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof xe?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n instanceof Ee?null:this._injector.get(Oe),o=n.create(Rt.NULL,[],e||n.selector,i);o.onDestroy(function(){r._unloadComponent(o)});var a=o.injector.get(Ue,null);return a&&o.injector.get(Ge).registerApplication(o.location.nativeElement,a),this._loadComponent(o),Qe()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},t.prototype.tick=function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=t._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(t){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(t)})}finally{this._runningTick=!1,Le(n)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;rn(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(me,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),rn(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t._tickScope=De("ApplicationRef#tick()"),t}();function rn(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var on=function(){},an=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({}),ln=function(){},sn=function(t){this.nativeElement=t},un=function(){function t(){this.dirty=!0,this._results=[],this.changes=new Re,this.length=0}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[xt()]=function(){return this._results[xt()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=function t(e){return e.reduce(function(e,n){var r=Array.isArray(n)?t(n):n;return e.concat(r)},[])}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),cn=function(){},dn=function(){},fn=function(){},hn=function(){function t(t,e,n){this._debugContext=n,this.nativeNode=t,e&&e instanceof pn?e.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),pn=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=e,i}return i(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n,r=this,i=this.childNodes.indexOf(t);-1!==i&&((n=this.childNodes).splice.apply(n,s([i+1,0],e)),e.forEach(function(t){t.parent&&t.parent.removeChild(t),t.parent=r}))},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return function t(e,n,r){e.childNodes.forEach(function(e){e instanceof pn&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return function t(e,n,r){e instanceof pn&&e.childNodes.forEach(function(e){n(e)&&r.push(e),e instanceof pn&&t(e,n,r)})}(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(hn),gn=new Map;function mn(t){return gn.get(t)||null}function yn(t){gn.set(t.nativeNode,t)}function vn(t,e){var n=xn(t),r=xn(e);return n&&r?function(t,e,n){for(var r=t[xt()](),i=e[xt()]();;){var o=r.next(),a=i.next();if(o.done&&a.done)return!0;if(o.done||a.done)return!1;if(!n(o.value,a.value))return!1}}(t,e,vn):!(n||!t||"object"!=typeof t&&"function"!=typeof t||r||!e||"object"!=typeof e&&"function"!=typeof e)||kt(t,e)}var bn=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}(),_n=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}();function xn(t){return!!wn(t)&&(Array.isArray(t)||!(t instanceof Map)&&xt()in t)}function wn(t){return null!==t&&("function"==typeof t||"object"==typeof t)}var kn=function(){function t(){}return t.prototype.supports=function(t){return xn(t)},t.prototype.create=function(t){return new Cn(t)},t}(),Tn=function(t,e){return e},Cn=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Tn}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<En(n,r,i)?e:n,a=En(o,r,i),l=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var s=a-r,u=l-r;if(s!=u){for(var c=0;c<s;c++){var d=c<i.length?i[c]:i[c]=0,f=d+c;u<=f&&f<s&&(i[c]=d+1)}i[o.previousIndex]=u-s}}a!==l&&t(o,a,l)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!xn(t))throw new Error("Error trying to diff '"+Tt(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var l=0;l<this.length;l++)i=this._trackByFn(l,r=t[l]),null!==o&&kt(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,l)),kt(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,l),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r=t[xt()](),i=void 0;!(i=r.next()).done;)e(i.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&kt(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),kt(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(kt(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(kt(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new An(e,n),i,r),t},t.prototype._verifyReinsertion=function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Sn),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Sn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),An=function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Mn=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&kt(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),Sn=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Mn,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}();function En(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var On=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||wn(t)},t.prototype.create=function(){return new Pn},t}(),Pn=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||wn(t)))throw new Error("Error trying to diff '"+Tt(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new In(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){kt(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),In=function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Dn=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Ot,new St]]}},t.prototype.find=function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},t.ngInjectableDef=dt({providedIn:"root",factory:function(){return new t([new kn])}}),t}(),Ln=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Ot,new St]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t}(),Rn=[new On],Nn=new Dn([new kn]),Fn=new Ln(Rn),zn=$e(null,"core",[{provide:ge,useValue:"unknown"},{provide:tn,deps:[Rt]},{provide:Ge,deps:[]},{provide:ye,deps:[]}]),jn=new ft("LocaleId");function Vn(){return Nn}function Bn(){return Fn}function Hn(t){return t||"en-US"}var qn=function(t){},Un=function(){function t(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return t.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(t){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(null);var n=e.response.body;return n.removeChild(n.firstChild),n},t.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(t){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling},t}(),Gn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Wn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Yn(t){return(t=String(t)).match(Gn)||t.match(Wn)?t:(Qe()&&console.warn("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function Zn(t){var e,n,r={};try{for(var i=a(t.split(",")),o=i.next();!o.done;o=i.next())r[o.value]=!0}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Xn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r,i={};try{for(var o=a(t),l=o.next();!l.done;l=o.next()){var s=l.value;for(var u in s)s.hasOwnProperty(u)&&(i[u]=!0)}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}var Qn,Kn=Zn("area,br,col,hr,img,wbr"),$n=Zn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Jn=Zn("rp,rt"),tr=Xn(Jn,$n),er=Xn(Kn,Xn($n,Zn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xn(Jn,Zn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tr),nr=Zn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rr=Zn("srcset"),ir=Xn(nr,rr,Zn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),or=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild;e;)if(e.nodeType===Node.ELEMENT_NODE?this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var n=this.checkClobberedElement(e,e.nextSibling);if(n){e=n;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")},t.prototype.startElement=function(t){var e=t.nodeName.toLowerCase();if(er.hasOwnProperty(e)){this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,l=a.toLowerCase();if(ir.hasOwnProperty(l)){var s=o.value;nr[l]&&(s=Yn(s)),rr[l]&&(n=s,s=(n=String(n)).split(",").map(function(t){return Yn(t.trim())}).join(", ")),this.buf.push(" ",a,'="',sr(s),'"')}else this.sanitizedSomething=!0}this.buf.push(">")}else this.sanitizedSomething=!0},t.prototype.endElement=function(t){var e=t.nodeName.toLowerCase();er.hasOwnProperty(e)&&!Kn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(sr(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e},t}(),ar=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lr=/([^\#-~ |!])/g;function sr(t){return t.replace(/&/g,"&amp;").replace(ar,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(lr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ur(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var cr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),dr=/^url\(([^)]+)\)$/,fr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({}),hr=function(){};function pr(t,e,n){var r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function gr(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function mr(t,e){return t.nodes[e]}function yr(t,e){return t.nodes[e]}function vr(t,e){return t.nodes[e]}function br(t,e){return t.nodes[e]}function _r(t,e){return t.nodes[e]}var xr={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function wr(t,e,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return kr(n,e),n}(i,t)}function kr(t,e){t[te]=e,t[ne]=e.logError.bind(e)}function Tr(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}var Cr=function(){},Ar=new Map;function Mr(t){var e=Ar.get(t);return e||(e=Tt(t)+"_"+Ar.size,Ar.set(t,e)),e}var Sr="$$undefined",Er="$$empty";function Or(t){return{id:Sr,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var Pr=0;function Ir(t,e,n,r){return!(!(2&t.state)&&kt(t.oldValues[e.bindingIndex+n],r))}function Dr(t,e,n,r){return!!Ir(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Lr(t,e,n,r){var i=t.oldValues[e.bindingIndex+n];if(1&t.state||!vn(i,r)){var o=e.bindings[n].name;throw wr(xr.createDebugContext(t,e.nodeIndex),o+": "+i,o+": "+r,0!=(1&t.state))}}function Rr(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Nr(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Fr(t,e,n,r){try{return Rr(33554432&t.def.nodes[e].flags?yr(t,e).componentView:t),xr.handleEvent(t,e,n,r)}catch(e){t.root.errorHandler.handleError(e)}}function zr(t){return t.parent?yr(t.parent,t.parentNodeDef.nodeIndex):null}function jr(t){return t.parent?t.parentNodeDef.parent:null}function Vr(t,e){switch(201347067&e.flags){case 1:return yr(t,e.nodeIndex).renderElement;case 2:return mr(t,e.nodeIndex).renderText}}function Br(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function Hr(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function qr(t){return 1<<t%32}function Ur(t){var e={},n=0,r={};return t&&t.forEach(function(t){var i=l(t,2),o=i[0],a=i[1];"number"==typeof o?(e[o]=a,n|=qr(o)):r[o]=a}),{matchedQueries:e,references:r,matchedQueryIds:n}}function Gr(t,e){return t.map(function(t){var n,r,i;return Array.isArray(t)?(r=(i=l(t,2))[0],n=i[1]):(r=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,Pt,{value:e,configurable:!0}),{flags:r,token:n,tokenKey:Mr(n)}})}function Wr(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===$t.Native?yr(t,n.renderParent.nodeIndex).renderElement:void 0:e}var Yr=new WeakMap;function Zr(t){var e=Yr.get(t);return e||((e=t(function(){return Cr})).factory=t,Yr.set(t,e)),e}function Xr(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(Vr(t,t.def.lastRenderRootNode))),Qr(t,e,0,t.def.nodes.length-1,n,r,i)}function Qr(t,e,n,r,i,o,a){for(var l=n;l<=r;l++){var s=t.def.nodes[l];11&s.flags&&$r(t,s,e,i,o,a),l+=s.childCount}}function Kr(t,e,n,r,i,o){for(var a=t;a&&!Br(a);)a=a.parent;for(var l=a.parent,s=jr(a),u=s.nodeIndex+s.childCount,c=s.nodeIndex+1;c<=u;c++){var d=l.def.nodes[c];d.ngContentIndex===e&&$r(l,d,n,r,i,o),c+=d.childCount}if(!l.parent){var f=t.root.projectableNodes[e];if(f)for(c=0;c<f.length;c++)Jr(t,f[c],n,r,i,o)}}function $r(t,e,n,r,i,o){if(8&e.flags)Kr(t,e.ngContent.index,n,r,i,o);else{var a=Vr(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Jr(t,a,n,r,i,o),32&e.bindingFlags&&Jr(yr(t,e.nodeIndex).componentView,a,n,r,i,o)):Jr(t,a,n,r,i,o),16777216&e.flags)for(var l=yr(t,e.nodeIndex).viewContainer._embeddedViews,s=0;s<l.length;s++)Xr(l[s],n,r,i,o);1&e.flags&&!e.element.name&&Qr(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function Jr(t,e,n,r,i,o){var a=t.renderer;switch(n){case 1:a.appendChild(r,e);break;case 2:a.insertBefore(r,e,i);break;case 3:a.removeChild(r,e);break;case 0:o.push(e)}}var ti=/^:([^:]+):(.+)$/;function ei(t){if(":"===t[0]){var e=t.match(ti);return[e[1],e[2]]}return["",t]}function ni(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function ri(t,e,n,r,i,o){t|=1;var a=Ur(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a.matchedQueries,matchedQueryIds:a.matchedQueryIds,references:a.references,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Zr(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Cr},provider:null,text:null,query:null,ngContent:null}}function ii(t,e,n,r,i,o,a,s,u,c,d,f){void 0===a&&(a=[]),c||(c=Cr);var h=Ur(n),p=h.matchedQueries,g=h.references,m=h.matchedQueryIds,y=null,v=null;o&&(y=(P=l(ei(o),2))[0],v=P[1]),s=s||[];for(var b=new Array(s.length),_=0;_<s.length;_++){var x=l(s[_],3),w=x[0],k=x[2],T=l(ei(x[1]),2),C=T[0],A=T[1],M=void 0,S=void 0;switch(15&w){case 4:S=k;break;case 1:case 8:M=k}b[_]={flags:w,ns:C,name:A,nonMinifiedName:A,securityContext:M,suffix:S}}u=u||[];var E=new Array(u.length);for(_=0;_<u.length;_++){var O=l(u[_],2);E[_]={type:0,target:O[0],eventName:O[1],propName:null}}var P,I=(a=a||[]).map(function(t){var e=l(t,2),n=e[1],r=l(ei(e[0]),2);return[r[0],r[1],n]});return f=function(t){if(t&&t.id===Sr){var e=null!=t.encapsulation&&t.encapsulation!==$t.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+Pr++:Er}return t&&t.id===Er&&(t=null),t||null}(f),d&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:p,matchedQueryIds:m,references:g,ngContentIndex:r,childCount:i,bindings:b,bindingFlags:ni(b),outputs:E,element:{ns:y,name:v,attrs:I,template:null,componentProvider:null,componentView:d||null,componentRendererType:f,publicProviders:null,allProviders:null,handleEvent:c||Cr},provider:null,text:null,query:null,ngContent:null}}function oi(t,e,n){var r,i=n.element,o=t.root.selectorOrNode,a=t.renderer;if(t.parent||!o){r=i.name?a.createElement(i.name,i.ns):a.createComment("");var s=Wr(t,e,n);s&&a.appendChild(s,r)}else r=a.selectRootElement(o);if(i.attrs)for(var u=0;u<i.attrs.length;u++){var c=l(i.attrs[u],3);a.setAttribute(r,c[1],c[2],c[0])}return r}function ai(t,e,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],a=li(t,n.nodeIndex,(d=o.eventName,(c=o.target)?c+":"+d:d)),l=o.target,s=t;"component"===o.target&&(l=null,s=e);var u=s.renderer.listen(l||r,o.eventName,a);t.disposables[n.outputIndex+i]=u}var c,d}function li(t,e,n){return function(r){return Fr(t,e,n,r)}}function si(t,e,n,r){if(!Dr(t,e,n,r))return!1;var i=e.bindings[n],o=yr(t,e.nodeIndex),a=o.renderElement,l=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){var a=e.securityContext,l=a?t.root.sanitizer.sanitize(a,o):o;l=null!=l?l.toString():null;var s=t.renderer;null!=o?s.setAttribute(n,i,l,r):s.removeAttribute(n,i,r)}(t,i,a,i.ns,l,r);break;case 2:!function(t,e,n,r){var i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,a,l,r);break;case 4:!function(t,e,n,r,i){var o=t.root.sanitizer.sanitize(fr.STYLE,i);if(null!=o){o=o.toString();var a=e.suffix;null!=a&&(o+=a)}else o=null;var l=t.renderer;null!=o?l.setStyle(n,r,o):l.removeStyle(n,r)}(t,i,a,l,r);break;case 8:!function(t,e,n,r,i){var o=e.securityContext,a=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,a)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,a,l,r)}return!0}var ui=new Object,ci=Mr(Rt),di=Mr(Dt),fi=Mr(Oe);function hi(t,e,n,r){return n=At(n),{index:-1,deps:Gr(r,Tt(e)),flags:t,token:e,value:n}}function pi(t,e,n){void 0===n&&(n=Rt.THROW_IF_NOT_FOUND);var r,i,o=Qt(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var a=e.tokenKey;switch(a){case ci:case di:case fi:return t}var l=t._def.providersByKey[a];if(l){var s=t._providers[l.index];return void 0===s&&(s=t._providers[l.index]=gi(t,l)),s===ui?void 0:s}if(e.token.ngInjectableDef&&(r=t,null!=(i=e.token.ngInjectableDef).providedIn&&(function(t,e){return t._def.modules.indexOf(i.providedIn)>-1}(r)||"root"===i.providedIn&&r._def.isRoot))){var u=t._providers.length;return t._def.providersByKey[e.tokenKey]={flags:5120,value:e.token.ngInjectableDef.factory,deps:[],index:u,token:e.token},t._providers[u]=ui,t._providers[u]=gi(t,t._def.providersByKey[e.tokenKey])}return t._parent.get(e.token,n)}finally{Qt(o)}}function gi(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var r=n.length;switch(r){case 0:return new e;case 1:return new e(pi(t,n[0]));case 2:return new e(pi(t,n[0]),pi(t,n[1]));case 3:return new e(pi(t,n[0]),pi(t,n[1]),pi(t,n[2]));default:for(var i=new Array(r),o=0;o<r;o++)i[o]=pi(t,n[o]);return new(e.bind.apply(e,s([void 0],i)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var r=n.length;switch(r){case 0:return e();case 1:return e(pi(t,n[0]));case 2:return e(pi(t,n[0]),pi(t,n[1]));case 3:return e(pi(t,n[0]),pi(t,n[1]),pi(t,n[2]));default:for(var i=Array(r),o=0;o<r;o++)i[o]=pi(t,n[o]);return e.apply(void 0,s(i))}}(t,e.value,e.deps);break;case 2048:n=pi(t,e.deps[0]);break;case 256:n=e.value}return n===ui||null==n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?ui:n}function mi(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,_i(n,e),xr.dirtyParentQueries(r),vi(r),r}function yi(t,e,n){var r=e?Vr(e,e.def.lastRenderRootNode):t.renderElement;Xr(n,2,n.renderer.parentNode(r),n.renderer.nextSibling(r),void 0)}function vi(t){Xr(t,3,null,null,void 0)}function bi(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function _i(t,e){e>=t.length-1?t.pop():t.splice(e,1)}var xi=new Object,wi=function(t){function e(e,n,r,i,o,a){var l=t.call(this)||this;return l.selector=e,l.componentType=n,l._inputs=i,l._outputs=o,l.ngContentSelectors=a,l.viewDefFactory=r,l}return i(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var i=Zr(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=xr.createRootView(t,e||[],n,i,r,xi),l=vr(a,o).instance;return n&&a.renderer.setAttribute(yr(a,0).renderElement,"ng-version",Jt.full),new ki(a,new Mi(a),l)},e}(xe),ki=function(t){function e(e,n,r){var i=t.call(this)||this;return i._view=e,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i.hostView=n,i.changeDetectorRef=n,i.instance=r,i}return i(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new sn(yr(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new Pi(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(function(){});function Ti(t,e,n){return new Ci(t,e,n)}var Ci=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new sn(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new Pi(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=jr(t),t=t.parent;return t?new Pi(t,e):new Pi(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=mi(this._data,t);xr.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new Mi(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,i){var o=n||this.parentInjector;i||t instanceof Ee||(i=o.get(Oe));var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,o,a=t;return i=a._view,o=(n=this._data).viewContainer._embeddedViews,null!==(r=e)&&void 0!==r||(r=o.length),i.viewContainerParent=this._view,bi(o,r,i),function(t,e){var n=zr(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,n){if(!(4&n.flags)){e.parent.def.nodeFlags|=4,n.flags|=4;for(var r=n.parent;r;)r.childFlags|=4,r=r.parent}}(0,e.parentNodeDef)}}(n,i),xr.dirtyParentQueries(i),yi(n,r>0?o[r-1]:null,i),a.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,a,l=this._embeddedViews.indexOf(t._view);return i=e,a=(o=(n=this._data).viewContainer._embeddedViews)[r=l],_i(o,r),null==i&&(i=o.length),bi(o,i,a),xr.dirtyParentQueries(a),vi(a),yi(n,i>0?o[i-1]:null,a),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=mi(this._data,t);e&&xr.destroyView(e)},t.prototype.detach=function(t){var e=mi(this._data,t);return e?new Mi(e):null},t}();function Ai(t){return new Mi(t)}var Mi=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return Xr(this._view,0,void 0,void 0,t=[]),t;var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){Rr(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{xr.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},t.prototype.checkNoChanges=function(){xr.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),xr.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,vi(this._view),xr.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}();function Si(t,e){return new Ei(t,e)}var Ei=function(t){function e(e,n){var r=t.call(this)||this;return r._parentView=e,r._def=n,r}return i(e,t),e.prototype.createEmbeddedView=function(t){return new Mi(xr.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new sn(yr(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(cn);function Oi(t,e){return new Pi(t,e)}var Pi=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=Rt.THROW_IF_NOT_FOUND),xr.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Mr(t)},e)},t}();function Ii(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=yr(t,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return mr(t,n.nodeIndex).renderText;if(20240&n.flags)return vr(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function Di(t){return new Li(t.renderer)}var Li=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=l(ei(e),2),r=this.delegate.createElement(n[1],n[0]);return t&&this.delegate.appendChild(t,r),r},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var r=l(ei(e),2),i=r[0],o=r[1];null!=n?this.delegate.setAttribute(t,o,n,i):this.delegate.removeAttribute(t,o,i)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}();function Ri(t,e,n,r){return new Ni(t,e,n,r)}var Ni=function(){function t(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=gi(t,i))}}(this)}return t.prototype.get=function(t,e,n){void 0===e&&(e=Rt.THROW_IF_NOT_FOUND),void 0===n&&(n=0);var r=0;return 4&n?r|=1:2&n&&(r|=4),pi(this,{token:t,tokenKey:Mr(t),flags:r},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(Me)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+Tt(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var n=t._def,r=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var o=t._providers[i];if(o&&o!==ui){var a=o.ngOnDestroy;"function"!=typeof a||r.has(o)||(a.apply(o),r.add(o))}}}(this),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),Fi=Mr(function(){}),zi=Mr(ln),ji=Mr(sn),Vi=Mr(dn),Bi=Mr(cn),Hi=Mr(fn),qi=Mr(Rt),Ui=Mr(Dt);function Gi(t,e,n,r,i,o,a,s){var u=[];if(a)for(var c in a){var d=l(a[c],2);u[d[0]]={flags:8,name:c,nonMinifiedName:d[1],ns:null,securityContext:null,suffix:null}}var f=[];if(s)for(var h in s)f.push({type:1,propName:h,target:null,eventName:s[h]});return Yi(t,e|=16384,n,r,i,i,o,u,f)}function Wi(t,e,n,r,i){return Yi(-1,t,e,0,n,r,i)}function Yi(t,e,n,r,i,o,a,l,s){var u=Ur(n),c=u.matchedQueries,d=u.references,f=u.matchedQueryIds;s||(s=[]),l||(l=[]),o=At(o);var h=Gr(a,Tt(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:f,references:d,ngContentIndex:-1,childCount:r,bindings:l,bindingFlags:ni(l),outputs:s,element:null,provider:{token:i,value:o,deps:h},text:null,query:null,ngContent:null}}function Zi(t,e){return $i(t,e)}function Xi(t,e){for(var n=t;n.parent&&!Br(n);)n=n.parent;return Ji(n.parent,jr(n),!0,e.provider.value,e.provider.deps)}function Qi(t,e){var n=Ji(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var i=e.outputs[r],o=n[i.propName].subscribe(Ki(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=o.unsubscribe.bind(o)}return n}function Ki(t,e,n){return function(r){return Fr(t,e,n,r)}}function $i(t,e){var n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return Ji(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){var o=i.length;switch(o){case 0:return r();case 1:return r(eo(t,e,n,i[0]));case 2:return r(eo(t,e,n,i[0]),eo(t,e,n,i[1]));case 3:return r(eo(t,e,n,i[0]),eo(t,e,n,i[1]),eo(t,e,n,i[2]));default:for(var a=Array(o),l=0;l<o;l++)a[l]=eo(t,e,n,i[l]);return r.apply(void 0,s(a))}}(t,e.parent,n,r.value,r.deps);case 2048:return eo(t,e.parent,n,r.deps[0]);case 256:return r.value}}function Ji(t,e,n,r,i){var o=i.length;switch(o){case 0:return new r;case 1:return new r(eo(t,e,n,i[0]));case 2:return new r(eo(t,e,n,i[0]),eo(t,e,n,i[1]));case 3:return new r(eo(t,e,n,i[0]),eo(t,e,n,i[1]),eo(t,e,n,i[2]));default:for(var a=new Array(o),l=0;l<o;l++)a[l]=eo(t,e,n,i[l]);return new(r.bind.apply(r,s([void 0],a)))}}var to={};function eo(t,e,n,r,i){if(void 0===i&&(i=Rt.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var o=t;2&r.flags&&(i=null);var a=r.tokenKey;a===Hi&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);for(var l=t;l;){if(e)switch(a){case Fi:return Di(no(l,e,n));case zi:return no(l,e,n).renderer;case ji:return new sn(yr(l,e.nodeIndex).renderElement);case Vi:return yr(l,e.nodeIndex).viewContainer;case Bi:if(e.element.template)return yr(l,e.nodeIndex).template;break;case Hi:return Ai(no(l,e,n));case qi:case Ui:return Oi(l,e);default:var s=(n?e.element.allProviders:e.element.publicProviders)[a];if(s){var u=vr(l,s.nodeIndex);return u||(u={instance:$i(l,s)},l.nodes[s.nodeIndex]=u),u.instance}}n=Br(l),e=jr(l),l=l.parent,4&r.flags&&(l=null)}var c=o.root.injector.get(r.token,to);return c!==to||i===to?c:o.root.ngModule.injector.get(r.token,i)}function no(t,e,n){var r;if(n)r=yr(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!Br(r);)r=r.parent;return r}function ro(t,e,n,r,i,o){if(32768&n.flags){var a=yr(t,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var l=bn.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new _n(l,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function io(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],a=o.parent;for(!a&&o.flags&e&&ao(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&e&&(r=oo(t,a,e,r)),a=a.parent}}function oo(t,e,n,r){for(var i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){var o=t.def.nodes[i];o.flags&n&&ao(t,i,o.flags&n,r++),i+=o.childCount}return r}function ao(t,e,n,r){var i=vr(t,e);if(i){var o=i.instance;o&&(xr.setCurrentNode(t,e),1048576&n&&gr(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&gr(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}function lo(t,e,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:qr(e),bindings:r},ngContent:null}}function so(t){for(var e=t.def.nodeMatchedQueries;t.parent&&Hr(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++)67108864&(o=t.def.nodes[i]).flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&_r(t,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}if(134217728&t.def.nodeFlags)for(i=0;i<t.def.nodes.length;i++){var o;134217728&(o=t.def.nodes[i]).flags&&536870912&o.flags&&_r(t,i).setDirty(),i+=o.childCount}}function uo(t,e){var n=_r(t,e.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&e.flags){var o=e.parent.parent;i=co(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),r=vr(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=co(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);for(var a=e.query.bindings,l=!1,s=0;s<a.length;s++){var u=a[s],c=void 0;switch(u.bindingType){case 0:c=n.first;break;case 1:c=n,l=!0}r[u.propName]=c}l&&n.notifyOnChanges()}}function co(t,e,n,r,i){for(var o=e;o<=n;o++){var a=t.def.nodes[o],l=a.matchedQueries[r.id];if(null!=l&&i.push(fo(t,a,l)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var s=yr(t,o);if((a.childMatchedQueries&r.filterId)===r.filterId&&(co(t,o+1,o+a.childCount,r,i),o+=a.childCount),16777216&a.flags)for(var u=s.viewContainer._embeddedViews,c=0;c<u.length;c++){var d=u[c],f=zr(d);f&&f===s&&co(d,0,d.def.nodes.length-1,r,i)}var h=s.template._projectedViews;if(h)for(c=0;c<h.length;c++){var p=h[c];co(p,0,p.def.nodes.length-1,r,i)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(o+=a.childCount)}return i}function fo(t,e,n){if(null!=n)switch(n){case 1:return yr(t,e.nodeIndex).renderElement;case 0:return new sn(yr(t,e.nodeIndex).renderElement);case 2:return yr(t,e.nodeIndex).template;case 3:return yr(t,e.nodeIndex).viewContainer;case 4:return vr(t,e.nodeIndex).instance}}function ho(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function po(t,e,n){var r=Wr(t,e,n);r&&Kr(t,n.ngContent.index,1,r,null,void 0)}function go(t,e,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function mo(t,e,n){var r,i=t.renderer;r=i.createText(n.text.prefix);var o=Wr(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function yo(t,e){return(null!=t?t.toString():"")+e.suffix}function vo(t,e,n,r){for(var i=0,o=0,a=0,l=0,s=0,u=null,c=null,d=!1,f=!1,h=null,p=0;p<e.length;p++){var g=e[p];if(g.nodeIndex=p,g.parent=u,g.bindingIndex=i,g.outputIndex=o,g.renderParent=c,a|=g.flags,s|=g.matchedQueryIds,g.element){var m=g.element;m.publicProviders=u?u.element.publicProviders:Object.create(null),m.allProviders=m.publicProviders,d=!1,f=!1,g.element.template&&(s|=g.element.template.nodeMatchedQueries)}if(_o(u,g,e.length),i+=g.bindings.length,o+=g.outputs.length,!c&&3&g.flags&&(h=g),20224&g.flags){d||(d=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);var y=0!=(32768&g.flags);0==(8192&g.flags)||y?u.element.publicProviders[Mr(g.provider.token)]=g:(f||(f=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[Mr(g.provider.token)]=g),y&&(u.element.componentProvider=g)}if(u?(u.childFlags|=g.flags,u.directChildFlags|=g.flags,u.childMatchedQueries|=g.matchedQueryIds,g.element&&g.element.template&&(u.childMatchedQueries|=g.element.template.nodeMatchedQueries)):l|=g.flags,g.childCount>0)u=g,bo(g)||(c=g);else for(;u&&p===u.nodeIndex+u.childCount;){var v=u.parent;v&&(v.childFlags|=u.childFlags,v.childMatchedQueries|=u.childMatchedQueries),c=(u=v)&&bo(u)?u.renderParent:u}}return{factory:null,nodeFlags:a,rootNodeFlags:l,nodeMatchedQueries:s,flags:t,nodes:e,updateDirectives:n||Cr,updateRenderer:r||Cr,handleEvent:function(t,n,r,i){return e[n].element.handleEvent(t,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:h}}function bo(t){return 0!=(1&t.flags)&&null===t.element.name}function _o(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function xo(t,e,n,r){var i=To(t.root,t.renderer,t,e,n);return Co(i,t.component,r),Ao(i),i}function wo(t,e,n){var r=To(t,t.renderer,null,null,e);return Co(r,n,n),Ao(r),r}function ko(t,e,n,r){var i,o=e.element.componentRendererType;return i=o?t.root.rendererFactory.createRenderer(r,o):t.root.renderer,To(t.root,i,t,e.element.componentProvider,n)}function To(t,e,n,r,i){var o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function Co(t,e,n){t.component=e,t.context=n}function Ao(t){var e;Br(t)&&(e=yr(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,r=t.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i];xr.setCurrentNode(t,i);var a=void 0;switch(201347067&o.flags){case 1:var l=oi(t,e,o),s=void 0;if(33554432&o.flags){var u=Zr(o.element.componentView);s=xr.createComponentView(t,o,u,l)}ai(t,s,o,l),a={renderElement:l,componentView:s,viewContainer:null,template:o.element.template?Si(t,o):void 0},16777216&o.flags&&(a.viewContainer=Ti(t,o,a));break;case 2:a=mo(t,e,o);break;case 512:case 1024:case 2048:case 256:(a=r[i])||4096&o.flags||(a={instance:Zi(t,o)});break;case 16:a={instance:Xi(t,o)};break;case 16384:(a=r[i])||(a={instance:Qi(t,o)}),32768&o.flags&&Co(yr(t,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new un;break;case 8:po(t,e,o),a=void 0}r[i]=a}Ro(t,Lo.CreateViewNodes),jo(t,201326592,268435456,0)}function Mo(t){Oo(t),xr.updateDirectives(t,1),No(t,Lo.CheckNoChanges),xr.updateRenderer(t,1),Ro(t,Lo.CheckNoChanges),t.state&=-97}function So(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,pr(t,0,256),Oo(t),xr.updateDirectives(t,0),No(t,Lo.CheckAndUpdate),jo(t,67108864,536870912,0);var e=pr(t,256,512);io(t,2097152|(e?1048576:0)),xr.updateRenderer(t,0),Ro(t,Lo.CheckAndUpdate),jo(t,134217728,536870912,0),io(t,8388608|((e=pr(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,pr(t,768,1024)}function Eo(t,e,n,r,i,o,a,l,u,c,d,f,h){return 0===n?function(t,e,n,r,i,o,a,l,s,u,c,d){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,a,l,s,u,c,d){var f=e.bindings.length,h=!1;return f>0&&si(t,e,0,n)&&(h=!0),f>1&&si(t,e,1,r)&&(h=!0),f>2&&si(t,e,2,i)&&(h=!0),f>3&&si(t,e,3,o)&&(h=!0),f>4&&si(t,e,4,a)&&(h=!0),f>5&&si(t,e,5,l)&&(h=!0),f>6&&si(t,e,6,s)&&(h=!0),f>7&&si(t,e,7,u)&&(h=!0),f>8&&si(t,e,8,c)&&(h=!0),f>9&&si(t,e,9,d)&&(h=!0),h}(t,e,n,r,i,o,a,l,s,u,c,d);case 2:return function(t,e,n,r,i,o,a,l,s,u,c,d){var f=!1,h=e.bindings,p=h.length;if(p>0&&Dr(t,e,0,n)&&(f=!0),p>1&&Dr(t,e,1,r)&&(f=!0),p>2&&Dr(t,e,2,i)&&(f=!0),p>3&&Dr(t,e,3,o)&&(f=!0),p>4&&Dr(t,e,4,a)&&(f=!0),p>5&&Dr(t,e,5,l)&&(f=!0),p>6&&Dr(t,e,6,s)&&(f=!0),p>7&&Dr(t,e,7,u)&&(f=!0),p>8&&Dr(t,e,8,c)&&(f=!0),p>9&&Dr(t,e,9,d)&&(f=!0),f){var g=e.text.prefix;p>0&&(g+=yo(n,h[0])),p>1&&(g+=yo(r,h[1])),p>2&&(g+=yo(i,h[2])),p>3&&(g+=yo(o,h[3])),p>4&&(g+=yo(a,h[4])),p>5&&(g+=yo(l,h[5])),p>6&&(g+=yo(s,h[6])),p>7&&(g+=yo(u,h[7])),p>8&&(g+=yo(c,h[8])),p>9&&(g+=yo(d,h[9]));var m=mr(t,e.nodeIndex).renderText;t.renderer.setValue(m,g)}return f}(t,e,n,r,i,o,a,l,s,u,c,d);case 16384:return function(t,e,n,r,i,o,a,l,s,u,c,d){var f=vr(t,e.nodeIndex),h=f.instance,p=!1,g=void 0,m=e.bindings.length;return m>0&&Ir(t,e,0,n)&&(p=!0,g=ro(t,f,e,0,n,g)),m>1&&Ir(t,e,1,r)&&(p=!0,g=ro(t,f,e,1,r,g)),m>2&&Ir(t,e,2,i)&&(p=!0,g=ro(t,f,e,2,i,g)),m>3&&Ir(t,e,3,o)&&(p=!0,g=ro(t,f,e,3,o,g)),m>4&&Ir(t,e,4,a)&&(p=!0,g=ro(t,f,e,4,a,g)),m>5&&Ir(t,e,5,l)&&(p=!0,g=ro(t,f,e,5,l,g)),m>6&&Ir(t,e,6,s)&&(p=!0,g=ro(t,f,e,6,s,g)),m>7&&Ir(t,e,7,u)&&(p=!0,g=ro(t,f,e,7,u,g)),m>8&&Ir(t,e,8,c)&&(p=!0,g=ro(t,f,e,8,c,g)),m>9&&Ir(t,e,9,d)&&(p=!0,g=ro(t,f,e,9,d,g)),g&&h.ngOnChanges(g),65536&e.flags&&gr(t,256,e.nodeIndex)&&h.ngOnInit(),262144&e.flags&&h.ngDoCheck(),p}(t,e,n,r,i,o,a,l,s,u,c,d);case 32:case 64:case 128:return function(t,e,n,r,i,o,a,l,s,u,c,d){var f=e.bindings,h=!1,p=f.length;if(p>0&&Dr(t,e,0,n)&&(h=!0),p>1&&Dr(t,e,1,r)&&(h=!0),p>2&&Dr(t,e,2,i)&&(h=!0),p>3&&Dr(t,e,3,o)&&(h=!0),p>4&&Dr(t,e,4,a)&&(h=!0),p>5&&Dr(t,e,5,l)&&(h=!0),p>6&&Dr(t,e,6,s)&&(h=!0),p>7&&Dr(t,e,7,u)&&(h=!0),p>8&&Dr(t,e,8,c)&&(h=!0),p>9&&Dr(t,e,9,d)&&(h=!0),h){var g=br(t,e.nodeIndex),m=void 0;switch(201347067&e.flags){case 32:m=new Array(f.length),p>0&&(m[0]=n),p>1&&(m[1]=r),p>2&&(m[2]=i),p>3&&(m[3]=o),p>4&&(m[4]=a),p>5&&(m[5]=l),p>6&&(m[6]=s),p>7&&(m[7]=u),p>8&&(m[8]=c),p>9&&(m[9]=d);break;case 64:m={},p>0&&(m[f[0].name]=n),p>1&&(m[f[1].name]=r),p>2&&(m[f[2].name]=i),p>3&&(m[f[3].name]=o),p>4&&(m[f[4].name]=a),p>5&&(m[f[5].name]=l),p>6&&(m[f[6].name]=s),p>7&&(m[f[7].name]=u),p>8&&(m[f[8].name]=c),p>9&&(m[f[9].name]=d);break;case 128:var y=n;switch(p){case 1:m=y.transform(n);break;case 2:m=y.transform(r);break;case 3:m=y.transform(r,i);break;case 4:m=y.transform(r,i,o);break;case 5:m=y.transform(r,i,o,a);break;case 6:m=y.transform(r,i,o,a,l);break;case 7:m=y.transform(r,i,o,a,l,s);break;case 8:m=y.transform(r,i,o,a,l,s,u);break;case 9:m=y.transform(r,i,o,a,l,s,u,c);break;case 10:m=y.transform(r,i,o,a,l,s,u,c,d)}}g.value=m}return h}(t,e,n,r,i,o,a,l,s,u,c,d);default:throw"unreachable"}}(t,e,r,i,o,a,l,u,c,d,f,h):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,i=0;i<n.length;i++)si(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)Dr(t,e,o,n[o])&&(i=!0);if(i){var a="";for(o=0;o<n.length;o++)a+=yo(n[o],r[o]);a=e.text.prefix+a;var l=mr(t,e.nodeIndex).renderText;t.renderer.setValue(l,a)}return i}(t,e,n);case 16384:return function(t,e,n){for(var r=vr(t,e.nodeIndex),i=r.instance,o=!1,a=void 0,l=0;l<n.length;l++)Ir(t,e,l,n[l])&&(o=!0,a=ro(t,r,e,l,n[l],a));return a&&i.ngOnChanges(a),65536&e.flags&&gr(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)Dr(t,e,o,n[o])&&(i=!0);if(i){var a=br(t,e.nodeIndex),l=void 0;switch(201347067&e.flags){case 32:l=n;break;case 64:for(l={},o=0;o<n.length;o++)l[r[o].name]=n[o];break;case 128:var u=n[0],c=n.slice(1);l=u.transform.apply(u,s(c))}a.value=l}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function Oo(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var i=yr(t,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.state|=32,Nr(a,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Po(t,e,n,r,i,o,a,l,s,u,c,d,f){return 0===n?function(t,e,n,r,i,o,a,l,s,u,c,d){var f=e.bindings.length;f>0&&Lr(t,e,0,n),f>1&&Lr(t,e,1,r),f>2&&Lr(t,e,2,i),f>3&&Lr(t,e,3,o),f>4&&Lr(t,e,4,a),f>5&&Lr(t,e,5,l),f>6&&Lr(t,e,6,s),f>7&&Lr(t,e,7,u),f>8&&Lr(t,e,8,c),f>9&&Lr(t,e,9,d)}(t,e,r,i,o,a,l,s,u,c,d,f):function(t,e,n){for(var r=0;r<n.length;r++)Lr(t,e,r,n[r])}(t,e,r),!1}function Io(t,e){if(_r(t,e.nodeIndex).dirty)throw wr(xr.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function Do(t){if(!(128&t.state)){if(No(t,Lo.Destroy),Ro(t,Lo.Destroy),io(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=zr(t);if(e){var n=e.template._projectedViews;n&&(_i(n,n.indexOf(t)),xr.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(yr(t,n).renderElement):2&r.flags?t.renderer.destroyNode(mr(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&_r(t,n).destroy()}}(t),Br(t)&&t.renderer.destroy(),t.state|=128}}var Lo=function(t){return t[t.CreateViewNodes=0]="CreateViewNodes",t[t.CheckNoChanges=1]="CheckNoChanges",t[t.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate=3]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",t[t.Destroy=5]="Destroy",t}({});function Ro(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?Fo(yr(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function No(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=yr(t,r).viewContainer._embeddedViews,a=0;a<o.length;a++)Fo(o[a],e);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Fo(t,e){var n=t.state;switch(e){case Lo.CheckNoChanges:0==(128&n)&&(12==(12&n)?Mo(t):64&n&&zo(t,Lo.CheckNoChangesProjectedViews));break;case Lo.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Mo(t):64&n&&zo(t,e));break;case Lo.CheckAndUpdate:0==(128&n)&&(12==(12&n)?So(t):64&n&&zo(t,Lo.CheckAndUpdateProjectedViews));break;case Lo.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?So(t):64&n&&zo(t,e));break;case Lo.Destroy:Do(t);break;case Lo.CreateViewNodes:Ao(t)}}function zo(t,e){No(t,e),Ro(t,e)}function jo(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var i=t.def.nodes.length,o=0;o<i;o++){var a=t.def.nodes[o];if(a.flags&e&&a.flags&n)switch(xr.setCurrentNode(t,a.nodeIndex),r){case 0:uo(t,a);break;case 1:Io(t,a)}a.childFlags&e&&a.childFlags&n||(o+=a.childCount)}}var Vo=!1;function Bo(t,e,n,r,i,o){return wo(qo(t,i,i.injector.get(on),e,n),r,o)}function Ho(t,e,n,r,i,o){var a=i.injector.get(on),l=qo(t,i,new ka(a),e,n),s=Jo(r);return xa(sa.create,wo,null,[l,s,o])}function qo(t,e,n,r,i){var o=e.injector.get(hr),a=e.injector.get(ae);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:n.createRenderer(null,null),errorHandler:a}}function Uo(t,e,n,r){var i=Jo(n);return xa(sa.create,xo,null,[t,e,i,r])}function Go(t,e,n,r){return n=Xo.get(e.element.componentProvider.provider.token)||Jo(n),xa(sa.create,ko,null,[t,e,n,r])}function Wo(t,e,n,r){return Ri(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===Yo.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(function(t){var r=Yo.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(function(t){Zo.forEach(function(r,i){i.ngInjectableDef.providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasDeprecatedOverrides;return e.hasOverrides?(function(t){for(var e=0;e<t.providers.length;e++){var r=t.providers[e];n&&(r.flags|=4096);var i=Yo.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=Gr(i.deps),r.value=i.value)}if(Zo.size>0){var o=new Set(t.modules);Zo.forEach(function(e,r){if(o.has(r.ngInjectableDef.providedIn)){var i={token:r,flags:e.flags|(n?4096:0),deps:Gr(e.deps),value:e.value,index:t.providers.length};t.providers.push(i),t.providersByKey[Mr(r)]=i}})}}(t=t.factory(function(){return Cr})),t):t}(r))}var Yo=new Map,Zo=new Map,Xo=new Map;function Qo(t){Yo.set(t.token,t),"function"==typeof t.token&&t.token.ngInjectableDef&&"function"==typeof t.token.ngInjectableDef.providedIn&&Zo.set(t.token,t)}function Ko(t,e){var n=Zr(Zr(e.viewDefFactory).nodes[0].element.componentView);Xo.set(t,n)}function $o(){Yo.clear(),Zo.clear(),Xo.clear()}function Jo(t){if(0===Yo.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Yo.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return Cr});for(var n=0;n<e.length;n++)r(t,e[n]);return t;function r(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=Yo.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=Gr(o.deps),i.value=o.value)}}}}function ta(t,e,n,r,i,o,a,l,s,u,c,d,f){var h=t.def.nodes[e];return Eo(t,h,n,r,i,o,a,l,s,u,c,d,f),224&h.flags?br(t,e).value:void 0}function ea(t,e,n,r,i,o,a,l,s,u,c,d,f){var h=t.def.nodes[e];return Po(t,h,n,r,i,o,a,l,s,u,c,d,f),224&h.flags?br(t,e).value:void 0}function na(t){return xa(sa.detectChanges,So,null,[t])}function ra(t){return xa(sa.checkNoChanges,Mo,null,[t])}function ia(t){return xa(sa.destroy,Do,null,[t])}var oa,aa,la,sa=function(t){return t[t.create=0]="create",t[t.detectChanges=1]="detectChanges",t[t.checkNoChanges=2]="checkNoChanges",t[t.destroy=3]="destroy",t[t.handleEvent=4]="handleEvent",t}({});function ua(t,e){aa=t,la=e}function ca(t,e,n,r){return ua(t,e),xa(sa.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function da(t,e){if(128&t.state)throw Tr(sa[oa]);return ua(t,ya(t,0)),t.def.updateDirectives(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?ha(t,a,r,i):pa(t,a,r,i),16384&a.flags&&ua(t,ya(t,n)),224&a.flags?br(t,a.nodeIndex).value:void 0},t)}function fa(t,e){if(128&t.state)throw Tr(sa[oa]);return ua(t,va(t,0)),t.def.updateRenderer(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?ha(t,a,r,i):pa(t,a,r,i),3&a.flags&&ua(t,va(t,n)),224&a.flags?br(t,a.nodeIndex).value:void 0},t)}function ha(t,e,n,r){if(Eo.apply(void 0,s([t,e,n],r))){var i=1===n?r[0]:r;if(16384&e.flags){for(var o={},a=0;a<e.bindings.length;a++){var l=e.bindings[a],u=i[a];8&l.flags&&(o[(h=l.nonMinifiedName,"ng-reflect-"+(h=h.replace(/[$@]/g,"_").replace(ga,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()})))]=ma(u))}var c=e.parent,d=yr(t,c.nodeIndex).renderElement;if(c.element.name)for(var f in o)null!=(u=o[f])?t.renderer.setAttribute(d,f,u):t.renderer.removeAttribute(d,f);else t.renderer.setValue(d,"bindings="+JSON.stringify(o,null,2))}}var h}function pa(t,e,n,r){Po.apply(void 0,s([t,e,n],r))}var ga=/([A-Z])/g;function ma(t){try{return null!=t?t.toString().slice(0,30):t}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function ya(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function va(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var ba=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=jr(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return yr(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return Oi(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){_a(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&_a(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!Br(t);)t=t.parent;return t.parent?yr(t.parent,jr(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?Vr(this.view,this.nodeDef):Vr(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];2&this.nodeDef.flags?(e=this.view.def,n=this.nodeDef.nodeIndex):(e=this.elView.def,n=this.elDef.nodeIndex);var o=function(t,e){for(var n=-1,r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(e,n),a=-1;e.factory(function(){return++a===o?(e=t.error).bind.apply(e,s([t],r)):Cr;var e}),a<o&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,s(r)))},t}();function _a(t,e,n){for(var r in e.references)n[r]=fo(t,e,e.references[r])}function xa(t,e,n,r){var i=oa,o=aa,a=la;try{oa=t;var l=e.apply(n,r);return aa=o,la=a,oa=i,l}catch(t){if(re(t)||!aa)throw t;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),kr(t,e),t}(t,wa())}}function wa(){return aa?new ba(aa,la):null}var ka=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new Ta(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),Ta=function(){function t(t){this.delegate=t,this.data=this.delegate.data}return t.prototype.destroyNode=function(t){!function(t){gn.delete(t.nativeNode)}(mn(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),r=wa();if(r){var i=new pn(n,null,r);i.name=t,yn(i)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=wa();return n&&yn(new hn(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=wa();return n&&yn(new hn(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=mn(t),r=mn(e);n&&r&&n instanceof pn&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var r=mn(t),i=mn(e),o=mn(n);r&&i&&r instanceof pn&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=mn(t),r=mn(e);n&&r&&n instanceof pn&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t){var e=this.delegate.selectRootElement(t),n=wa();return n&&yn(new pn(e,null,n)),e},t.prototype.setAttribute=function(t,e,n,r){var i=mn(t);i&&i instanceof pn&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var r=mn(t);r&&r instanceof pn&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=mn(t);n&&n instanceof pn&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=mn(t);n&&n instanceof pn&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var i=mn(t);i&&i instanceof pn&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var r=mn(t);r&&r instanceof pn&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var r=mn(t);r&&r instanceof pn&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var r=mn(t);r&&r.listeners.push(new function(t,e){this.name=t,this.callback=e}(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}(),Ca=function(t){function e(e,n,r){var i=t.call(this)||this;return i.moduleType=e,i._bootstrapComponents=n,i._ngModuleDefFactory=r,i}return i(e,t),e.prototype.create=function(t){!function(){if(!Vo){Vo=!0;var t=Qe()?{setCurrentNode:ua,createRootView:Ho,createEmbeddedView:Uo,createComponentView:Go,createNgModuleRef:Wo,overrideProvider:Qo,overrideComponentView:Ko,clearOverrides:$o,checkAndUpdateView:na,checkNoChangesView:ra,destroyView:ia,createDebugContext:function(t,e){return new ba(t,e)},handleEvent:ca,updateDirectives:da,updateRenderer:fa}:{setCurrentNode:function(){},createRootView:Bo,createEmbeddedView:xo,createComponentView:ko,createNgModuleRef:Ri,overrideProvider:Cr,overrideComponentView:Cr,clearOverrides:Cr,checkAndUpdateView:So,checkNoChangesView:Mo,destroyView:Do,createDebugContext:function(t,e){return new ba(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?ta:ea,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?ta:ea,t)}};xr.setCurrentNode=t.setCurrentNode,xr.createRootView=t.createRootView,xr.createEmbeddedView=t.createEmbeddedView,xr.createComponentView=t.createComponentView,xr.createNgModuleRef=t.createNgModuleRef,xr.overrideProvider=t.overrideProvider,xr.overrideComponentView=t.overrideComponentView,xr.clearOverrides=t.clearOverrides,xr.checkAndUpdateView=t.checkAndUpdateView,xr.checkNoChangesView=t.checkNoChangesView,xr.destroyView=t.destroyView,xr.resolveDep=eo,xr.createDebugContext=t.createDebugContext,xr.handleEvent=t.handleEvent,xr.updateDirectives=t.updateDirectives,xr.updateRenderer=t.updateRenderer,xr.dirtyParentQueries=so}}();var e=Zr(this._ngModuleDefFactory);return xr.createNgModuleRef(this.moduleType,t||Rt.NULL,this._bootstrapComponents,e)},e}(function(){});function Aa(t,e,n){t!=e&&Ea(n)}function Ma(t,e){null!=t&&Ea(e)}function Sa(t,e){null==t&&Ea(e)}function Ea(t){throw new Error("ASSERTION ERROR: "+t)}function Oa(t,e,n,r){var i=r?e:n;i&&function(t,e){for(var n=0;n<e.length;n+=2)e[n+1].call(t[e[n]])}(t,i)}"undefined"==typeof ngDevMode&&("undefined"!=typeof window&&(window.ngDevMode=!0),"undefined"!=typeof self&&(self.ngDevMode=!0),"undefined"!=typeof global&&(global.ngDevMode=!0));var Pa,Ia,Da,La,Ra,Na,Fa,za,ja,Va,Ba="__ngHostLNode__",Ha=Promise.resolve(null),qa=[0,0],Ua=null,Ga=!1;function Wa(t,e){var n=Ua;return za=t&&t.data,ja=t&&t.directives,Ra=t&&t.tView.data,Fa=t&&1==(1&t.flags),Pa=t&&t.renderer,t&&t.bindingIndex<0&&(t.bindingIndex=t.bindingStartIndex),null!=e&&(Da=e,La=!0),Ua=t,Na=t&&t.queries,n}function Ya(t){Ga||Oa(ja,Ua.tView.viewHooks,Ua.tView.viewCheckHooks,Fa),Ua.flags&=-6,Ua.lifecycleStage=1,Ua.bindingIndex=-1,Wa(t,null)}function Za(){Qa();var t=Ua.tView;t.firstTemplatePass=!1,Xa(t.hostBindings),function(t){if(null!=t)for(var e=0;e<t.length;e+=2)Ja(t[e],t[e+1])}(t.components)}function Xa(t){if(null!=t)for(var e=Ua.tView.directives,n=0;n<t.length;n+=2){var r=t[n],i=e[r];i.hostBindings&&i.hostBindings(r,t[n+1])}}function Qa(){if(!Ga){var t=Ua.tView;(function(t,e,n){1===t.lifecycleStage&&(Oa(t.directives,e.initHooks,e.checkHooks,n),t.lifecycleStage=2)})(Ua,t,Fa),Oa(ja,t.contentHooks,t.contentCheckHooks,Fa)}}function Ka(t,e,n,r,i,o){var a,l,s,u,c,d,f,h,p,g=La,m=Da;try{La=!0,Da=null;var y=2;null==t&&(l=null,s=2,u=null,c=function(t,e,n,r,i,o){return{parent:Ua,id:-1,flags:11,node:null,data:[],directives:null,tView:n,cleanup:null,renderer:e,child:null,tail:null,next:null,bindingStartIndex:-1,bindingIndex:-1,template:r,context:i,dynamicViewCount:0,lifecycleStage:1,queries:null,injector:Ua&&Ua.injector}}(0,r,function(t,e,n){return t.ngPrivateData||(t.ngPrivateData=function(t,e){return{data:[],directives:null,firstTemplatePass:!0,initHooks:null,checkHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,pipeDestroyHooks:null,hostBindings:null,components:null,directiveRegistry:"function"==typeof t?t():t,pipeRegistry:"function"==typeof e?e():e,currentMatches:null}}(e,n))}(e,i||null,o||null),e,n),d=La?Da:Da&&Da.parent,f=(La?Na:Da&&Da.queries)||d&&d.queries&&d.queries.child(),p=function(t,e,n,r,i,o){return{type:t,native:r,view:e,parent:n,child:null,next:null,nodeInjector:n?n.nodeInjector:null,data:i,queries:o,tNode:null,pNextOrParent:null,dynamicLContainerNode:null}}(s,Ua,d,u,(h=null!=c)?c:null,f),2==(2&s)&&h&&(ngDevMode&&Ma(c.node,"LView.node should not have been initialized"),c.node=p),null!=l&&(ngDevMode&&function(t,e){null==e&&(e=za),Aa(e.length,t,"index "+t+" expected to be at the end of arr (length "+e.length+")")}(l),za[l]=p,l>=Ra.length?Ra[l]=null:p.tNode=Ra[l],La?(Na=null,Da.view!==Ua&&2!==Da.type||(ngDevMode&&Ma(Da.child,"previousOrParentNode's child should not have been set."),Da.child=p)):Da&&(ngDevMode&&Ma(Da.next,"previousOrParentNode's next property should not have been set "+l+"."),Da.next=p,Da.dynamicLContainerNode&&(Da.dynamicLContainerNode.next=p))),Da=p,La=!0,t=p,y=1),a=Wa(t.data,t),e(y,n),Za(),$a()}finally{Ya(a),La=g,Da=m}return t}function $a(){for(var t=Ua.child;null!==t;t=t.next)if(0!==t.dynamicViewCount&&t.views)for(var e=t,n=0;n<e.views.length;n++){var r=e.views[n];Ka(r,r.data.template,r.data.context,Pa)}}function Ja(t,e){ngDevMode&&nl(e);var n,r,i=za[e];ngDevMode&&(r=3,Sa(n=i,"should be called with a node"),Aa(n.type,r,"should be a "+function(t){return 1==t?"Projection":0==t?"Container":2==t?"View":3==t?"Element":"<unknown>"}(r))),ngDevMode&&Sa(i.data,"Component's host node should have an LView attached.");var o,a=i.data;8==(8&a.flags)&&6&a.flags&&(ngDevMode&&nl(t,ja),el(a,i,Ua.tView.directives[t],(o=ja[t],Array.isArray(o)?o[0]:o)))}function tl(t){var e=rl(t);ngDevMode&&Sa(e.data,"Component host node should be attached to an LView"),el(e.data,e,e.view.tView.directives[e.tNode.flags>>13],t)}function el(t,e,n,r){var i=Wa(t,e),o=n.template;try{o(1&t.flags?3:2,r),Za(),$a()}finally{Ya(i)}}function nl(t,e){null==e&&(e=za),t>=(e?e.length:0)&&Ea("index expected to be a valid data index")}function rl(t){ngDevMode&&Sa(t,"expecting component got null");var e=t[Ba];return ngDevMode&&Sa(t,"object is not a component"),e}i(function(t,e,n){var r=Va.call(this,t.data,n)||this;return r._lViewNode=t,r},Va=function(){function t(t,e){this._view=t,this.context=e}return t.prototype._setComponentContext=function(t,e){this._view=t,this.context=e},t.prototype.destroy=function(){},t.prototype.onDestroy=function(t){},t.prototype.markForCheck=function(){!function(t){for(var e=t;null!=e.parent;)e.flags|=4,e=e.parent;var n,r;e.flags|=4,ngDevMode&&Sa(e.context,"rootContext"),(n=e.context).clean==Ha&&(n.clean=new Promise(function(t){return r=t}),n.scheduler(function(){var t,e;e=rl((t=function(t){ngDevMode&&Sa(t,"component");for(var e=rl(t).view;e.parent;)e=e.parent;return e}(n.component)).context.component),ngDevMode&&Sa(e.data,"Component host node should be attached to an LView"),function(n,r,i,o){var a=Wa(t,e);try{Ia.begin&&Ia.begin(),Qa(),Xa(qa),Ja(0,0)}finally{Ia.end&&Ia.end(),Ya(a)}}(),r(null),n.clean=Ha}))}(this._view)},t.prototype.detach=function(){this._view.flags&=-9},t.prototype.reattach=function(){this._view.flags|=8},t.prototype.detectChanges=function(){tl(this.context)},t.prototype.checkNoChanges=function(){!function(t){Ga=!0;try{tl(t)}finally{Ga=!1}}(this.context)},t}()),n("yLV6");var il=function(t){function e(e){var n=t.call(this)||this;if(n.event=e,null==e||""===e)throw new Error("Failed to create BroadcastEventListener. Argument 'event' can not be empty");return n}return i(e,t),e}(nt),ol=function(){function t(t){if(null==t||t<0)throw new Error("Failed to create ConnectionStatus. Argument 'name' can not be null or empty.");this._value=t}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return t.names[Number.parseInt(this._value.toString())]},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.name},t.prototype.equals=function(t){return null!=t&&this._value===t.value},t.names=["connecting","connected","reconnecting","","disconnected"],t}(),al=function(){function t(t,e,n,r){this._jProxy=e,this._jConnection=t,this._zone=n,this._errors=this.wireUpErrorsAsObservable(),this._status=this.wireUpStatusEventsAsObservable(),this._configuration=r,this._listeners={}}return Object.defineProperty(t.prototype,"errors",{get:function(){return this._errors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),t.prototype.start=function(){var t=this,e=this.convertTransports(this._configuration.transport);return new Promise(function(n,r){t._jConnection.start({jsonp:t._configuration.jsonp,pingInterval:t._configuration.pingInterval,transport:e,withCredentials:t._configuration.withCredentials}).done(function(){console.log("Connection established, ID: "+t._jConnection.id),console.log("Connection established, Transport: "+t._jConnection.transport.name),n(t)}).fail(function(t){console.log("Could not connect"),r("Failed to connect. Error: "+t.message)})})},t.prototype.stop=function(){this._jConnection.stop()},Object.defineProperty(t.prototype,"id",{get:function(){return this._jConnection.id},enumerable:!0,configurable:!0}),t.prototype.invoke=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(null==t)throw new Error("SignalRConnection: Failed to invoke. Argument 'method' can not be null");return this.log("SignalRConnection. Start invoking '"+t+"'..."),new Promise(function(r,i){var o;(o=e._jProxy).invoke.apply(o,[t].concat(n)).done(function(n){e.log("'"+t+"' invoked succesfully. Resolving promise..."),r(n),e.log("Promise resolved.")}).fail(function(e){console.log("Invoking '"+t+"' failed. Rejecting promise..."),i(e),console.log("Promise rejected.")})})},t.prototype.listen=function(t){var e=this;if(null==t)throw new Error("Failed to listen. Argument 'listener' can not be null");var n=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];e.run(function(){var r=null;n.length>0&&(r=n[0]),e.log("SignalRConnection.proxy.on invoked. Calling listener next() ..."),t.next(r),e.log("listener next() called.")},e._configuration.executeEventsInZone)};this.log("SignalRConnection: Starting to listen to server event with name "+t.event),this._jProxy.on(t.event,n),null==this._listeners[t.event]&&(this._listeners[t.event]=[]),this._listeners[t.event].push(n)},t.prototype.stopListening=function(t){if(null==t)throw new Error("Failed to listen. Argument 'listener' can not be null");this.log("SignalRConnection: Stopping listening to server event with name "+t.event),this._listeners[t.event]||(this._listeners[t.event]=[]);for(var e=0,n=this._listeners[t.event];e<n.length;e++)this._jProxy.off(t.event,n[e]);this._listeners[t.event]=[]},t.prototype.listenFor=function(t){if(null==t||""===t)throw new Error("Failed to listen. Argument 'event' can not be empty");var e=new il(t);return this.listen(e),e},t.prototype.convertTransports=function(t){return t instanceof Array?t.map(function(t){return t.name}):t.name},t.prototype.wireUpErrorsAsObservable=function(){var t=this,e=new nt;return this._jConnection.error(function(n){t.run(function(){return e.next(n)},t._configuration.executeErrorsInZone)}),e},t.prototype.wireUpStatusEventsAsObservable=function(){var t=this,e=new nt;return this._jConnection.stateChanged(function(n){t.run(function(){return e.next(new ol(n.newState))},t._configuration.executeStatusChangeInZone)}),e.asObservable()},t.prototype.onBroadcastEventReceived=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.log("SignalRConnection.proxy.on invoked. Calling listener next() ...");var r=null;e.length>0&&(r=e[0]),this.run(function(){t.next(r)},this._configuration.executeEventsInZone),this.log("listener next() called.")},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!1!==this._jConnection.logging&&console.log(t.join(", "))},t.prototype.run=function(t,e){e?this._zone.run(function(){return t()}):this._zone.runOutsideAngular(function(){return t()})},t}(),ll=function(){function t(t){if(null==t||""===t)throw new Error("Failed to create ConnectionTransport. Argument 'name' can not be null or empty.");this._name=t}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this._name},t.prototype.equals=function(t){return null!=t&&this._name===t.name},t}(),sl=function(){function t(){}return Object.defineProperty(t,"foreverFrame",{get:function(){return t.transports[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"longPolling",{get:function(){return t.transports[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"serverSentEvents",{get:function(){return t.transports[2]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"webSockets",{get:function(){return t.transports[3]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"auto",{get:function(){return t.transports[4]},enumerable:!0,configurable:!0}),t.transports=[new ll("foreverFrame"),new ll("longPolling"),new ll("serverSentEvents"),new ll("webSockets"),new ll("auto")],t}(),ul=function(){return function(){this.hubName=null,this.logging=!1,this.qs=null,this.url=null,this.jsonp=!1,this.withCredentials=!1,this.transport=sl.auto,this.executeEventsInZone=!0,this.executeErrorsInZone=!1,this.executeStatusChangeInZone=!0,this.pingInterval=3e5}}();new ft("SIGNALR_CONFIGURATION"),new ft("SIGNALR_JCONNECTION_TOKEN");var cl=function(){function t(t,e,n){this._configuration=t,this._zone=e,this._jHubConnectionFn=n}return t.prototype.createConnection=function(t){var e=this.merge(t||{});this.logConfiguration(e);var n=this._jHubConnectionFn(e.url);n.logging=e.logging,n.qs=e.qs;var r=n.createHubProxy(e.hubName);return r.on("noOp",function(){}),new al(n,r,this._zone,e)},t.prototype.connect=function(t){return this.createConnection(t).start()},t.prototype.logConfiguration=function(t){try{var e=JSON.stringify(t.qs),n=JSON.stringify(t.transport);t.logging&&(console.log("Creating connecting with..."),console.log("configuration:[url: '"+t.url+"'] ..."),console.log("configuration:[hubName: '"+t.hubName+"'] ..."),console.log("configuration:[qs: '"+e+"'] ..."),console.log("configuration:[transport: '"+n+"'] ..."))}catch(t){}},t.prototype.merge=function(t){var e=new ul;return e.hubName=t.hubName||this._configuration.hubName,e.url=t.url||this._configuration.url,e.qs=t.qs||this._configuration.qs,e.logging=this._configuration.logging,e.jsonp=t.jsonp||this._configuration.jsonp,e.withCredentials=t.withCredentials||this._configuration.withCredentials,e.transport=t.transport||this._configuration.transport,e.executeEventsInZone=t.executeEventsInZone||this._configuration.executeEventsInZone,e.executeErrorsInZone=t.executeErrorsInZone||this._configuration.executeErrorsInZone,e.executeStatusChangeInZone=t.executeStatusChangeInZone||this._configuration.executeStatusChangeInZone,e.pingInterval=t.pingInterval||this._configuration.pingInterval,e},t}(),dl=new ft("SIGNALR_CONFIGURATION");function fl(t,e){var n=function(){!function(){if(null==window.jQuery)throw new Error("Signalr failed to initialize. Script 'jquery.js' is missing. Please make sure to include jquery script.")}();var t=window.jQuery.hubConnection;if(null==t)throw new Error("Signalr failed to initialize. Script 'jquery.signalR.js' is missing. Please make sure to include 'jquery.signalR.js' script.");return t}();return new cl(t,e,n)}var hl=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[{provide:dl,useFactory:e},{deps:[dl,Ne],provide:cl,useFactory:fl}]}},t.forChild=function(){throw new Error("forChild method not implemented")},t}();function pl(){var t=new ul;return t.hubName="FfbHub",t.qs={user:"donald"},t.url="http://localhost:7331/signalr",t.logging=!1,t.executeEventsInZone=!0,t.executeErrorsInZone=!1,t.executeStatusChangeInZone=!0,t}var gl=function(){},ml=function(){function t(){this.title="app"}return t.prototype.ngOnInit=function(){},t}();function yl(){throw Error("Host already has a portal attached")}var vl=function(){function t(){}return t.prototype.attach=function(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&yl(),this._attachedHost=t,t.attach(this)},t.prototype.detach=function(){var t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())},Object.defineProperty(t.prototype,"isAttached",{get:function(){return null!=this._attachedHost},enumerable:!0,configurable:!0}),t.prototype.setAttachedHost=function(t){this._attachedHost=t},t}(),bl=function(t){function e(e,n,r){var i=t.call(this)||this;return i.component=e,i.viewContainerRef=n,i.injector=r,i}return i(e,t),e}(vl),_l=function(t){function e(e,n,r){var i=t.call(this)||this;return i.templateRef=e,i.viewContainerRef=n,i.context=r,i}return i(e,t),Object.defineProperty(e.prototype,"origin",{get:function(){return this.templateRef.elementRef},enumerable:!0,configurable:!0}),e.prototype.attach=function(e,n){return void 0===n&&(n=this.context),this.context=n,t.prototype.attach.call(this,e)},e.prototype.detach=function(){return this.context=void 0,t.prototype.detach.call(this)},e}(vl),xl=function(){function t(){this._isDisposed=!1}return t.prototype.hasAttached=function(){return!!this._attachedPortal},t.prototype.attach=function(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&yl(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof bl?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof _l?(this._attachedPortal=t,this.attachTemplatePortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()},t.prototype.detach=function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()},t.prototype.dispose=function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0},t.prototype.setDisposeFn=function(t){this._disposeFn=t},t.prototype._invokeDisposeFn=function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)},t}(),wl=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.outletElement=e,o._componentFactoryResolver=n,o._appRef=r,o._defaultInjector=i,o}return i(e,t),e.prototype.attachComponentPortal=function(t){var e,n=this,r=this._componentFactoryResolver.resolveComponentFactory(t.component);return t.viewContainerRef?(e=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.parentInjector),this.setDisposeFn(function(){return e.destroy()})):(e=r.create(t.injector||this._defaultInjector),this._appRef.attachView(e.hostView),this.setDisposeFn(function(){n._appRef.detachView(e.hostView),e.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(e)),e},e.prototype.attachTemplatePortal=function(t){var e=this,n=t.viewContainerRef,r=n.createEmbeddedView(t.templateRef,t.context);return r.detectChanges(),r.rootNodes.forEach(function(t){return e.outletElement.appendChild(t)}),this.setDisposeFn(function(){var t=n.indexOf(r);-1!==t&&n.remove(t)}),r},e.prototype.dispose=function(){t.prototype.dispose.call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)},e.prototype._getComponentRootNode=function(t){return t.hostView.rootNodes[0]},e}(xl),kl=function(t){function e(e,n){var r=t.call(this)||this;return r._componentFactoryResolver=e,r._viewContainerRef=n,r._isInitialized=!1,r.attached=new Re,r}return i(e,t),Object.defineProperty(e.prototype,"portal",{get:function(){return this._attachedPortal},set:function(e){(!this.hasAttached()||e||this._isInitialized)&&(this.hasAttached()&&t.prototype.detach.call(this),e&&t.prototype.attach.call(this,e),this._attachedPortal=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attachedRef",{get:function(){return this._attachedRef},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this._isInitialized=!0},e.prototype.ngOnDestroy=function(){t.prototype.dispose.call(this),this._attachedPortal=null,this._attachedRef=null},e.prototype.attachComponentPortal=function(e){e.setAttachedHost(this);var n=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,r=this._componentFactoryResolver.resolveComponentFactory(e.component),i=n.createComponent(r,n.length,e.injector||n.parentInjector);return t.prototype.setDisposeFn.call(this,function(){return i.destroy()}),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i},e.prototype.attachTemplatePortal=function(e){var n=this;e.setAttachedHost(this);var r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return t.prototype.setDisposeFn.call(this,function(){return n._viewContainerRef.clear()}),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r},e}(xl),Tl=function(){};function Cl(t){return null!=t&&""+t!="false"}function Al(t,e){return void 0===e&&(e=0),function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function Ml(t){return null==t?"":"string"==typeof t?t:t+"px"}var Sl=function(){},El=void 0,Ol=["en",[["a","p"],["AM","PM"],El],[["AM","PM"],El,El],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],El,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],El,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",El,"{1} 'at' {0}",El],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],Pl={},Il=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),Dl=new ft("UseV4Plurals"),Ll=function(){},Rl=function(t){function e(e,n){var r=t.call(this)||this;return r.locale=e,r.deprecatedPluralFn=n,r}return i(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return function(t){var e=t.toLowerCase().replace(/_/g,"-"),n=Pl[e];if(n)return n;var r=e.split("-")[0];if(n=Pl[r])return n;if("en"===r)return Ol;throw new Error('Missing locale data for the locale "'+t+'".')}(t)[18]}(e||this.locale)(t)){case Il.Zero:return"zero";case Il.One:return"one";case Il.Two:return"two";case Il.Few:return"few";case Il.Many:return"many";default:return"other"}},e}(Ll);function Nl(t,e){e=encodeURIComponent(e);try{for(var n=a(t.split(";")),r=n.next();!r.done;r=n.next()){var i=r.value,o=i.indexOf("="),s=l(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),u=s[1];if(s[0].trim()===e)return decodeURIComponent(u)}}catch(t){c={error:t}}finally{try{r&&!r.done&&(d=n.return)&&d.call(n)}finally{if(c)throw c.error}}return null;var c,d}var Fl=function(){function t(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}return Object.defineProperty(t.prototype,"klass",{set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClass",{set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(xn(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}},t.prototype._applyKeyValueChanges=function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})},t.prototype._applyIterableChanges=function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Tt(t.item));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})},t.prototype._applyClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!0)}):Object.keys(t).forEach(function(n){return e._toggleClass(n,!!t[n])}))},t.prototype._removeClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!1)}):Object.keys(t).forEach(function(t){return e._toggleClass(t,!1)}))},t.prototype._toggleClass=function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)})},t}(),zl=function(){function t(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),jl=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._differ=null}return Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){Qe()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){if("ngForOf"in t){var e=t.ngForOf.currentValue;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(t){throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+((n=e).name||typeof n)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var n},t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this.ngForOf);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new zl(null,e.ngForOf,-1,-1),i),a=new Vl(t,o);n.push(a)}else null==i?e._viewContainer.remove(r):(o=e._viewContainer.get(r),e._viewContainer.move(o,i),a=new Vl(t,o),n.push(a))});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);r=0;for(var i=this._viewContainer.length;r<i;r++){var o=this._viewContainer.get(r);o.context.index=r,o.context.count=i}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t}(),Vl=function(t,e){this.record=t,this.view=e},Bl=function(){function t(t,e){this._viewContainer=t,this._context=new Hl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){ql("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){ql("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t}(),Hl=function(){this.$implicit=null,this.ngIf=null};function ql(t,e){if(e&&!e.createEmbeddedView)throw new Error(t+" must be a TemplateRef, but received '"+Tt(e)+"'.")}var Ul,Gl,Wl=function(){function t(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}return t.prototype.create=function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)},t.prototype.destroy=function(){this._created=!1,this._viewContainerRef.clear()},t.prototype.enforceState=function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()},t}(),Yl=function(){function t(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return Object.defineProperty(t.prototype,"ngSwitch",{set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)},enumerable:!0,configurable:!0}),t.prototype._addCase=function(){return this._caseCount++},t.prototype._addDefault=function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)},t.prototype._matchCase=function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e},t.prototype._updateDefaultCases=function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}},t}(),Zl=function(){function t(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new Wl(t,e)}return t.prototype.ngDoCheck=function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))},t}(),Xl=function(){return function(t,e,n){n._addDefault(new Wl(t,e))}}(),Ql=function(){function t(t,e,n){this._differs=t,this._ngEl=e,this._renderer=n}return Object.defineProperty(t.prototype,"ngStyle",{set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this;t.forEachRemovedItem(function(t){return e._setStyle(t.key,null)}),t.forEachAddedItem(function(t){return e._setStyle(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._setStyle(t.key,t.currentValue)})},t.prototype._setStyle=function(t,e){var n=l(t.split("."),2),r=n[0],i=n[1];null!=(e=null!=e&&i?""+e+i:e)?this._renderer.setStyle(this._ngEl.nativeElement,r,e):this._renderer.removeStyle(this._ngEl.nativeElement,r)},t}(),Kl=function(){},$l=new ft("DocumentToken"),Jl="browser",ts="undefined"!=typeof Intl&&Intl.v8BreakIterator,es=function(){function t(t){this._platformId=t,this.isBrowser=this._platformId?this._platformId===Jl:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ts)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}return t.ngInjectableDef=dt({factory:function(){return new t(Kt(ge,8))},token:t,providedIn:"root"}),t}();function ns(){if(null==Ul&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return Ul=!0}}))}finally{Ul=Ul||!1}return Ul}var rs=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function is(){if(Gl)return Gl;if("object"!=typeof document||!document)return Gl=new Set(rs);var t=document.createElement("input");return Gl=new Set(rs.filter(function(e){return t.setAttribute("type",e),t.type===e}))}var os=function(){},as=null;function ls(){return as}var ss,us={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},cs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ds={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};vt.Node&&(ss=vt.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var fs,hs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){var t;t=new e,as||(as=t)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){var r;(r=t)[e].apply(r,s(n))},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return us},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return ss.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n.item(r);e.set(i.name,i.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ds.hasOwnProperty(e)&&(e=ds[e]))}return cs[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e,n=ps||(ps=document.querySelector("base"))?ps.getAttribute("href"):null;return null==n?null:(e=n,fs||(fs=document.createElement("a")),fs.setAttribute("href",e),"/"===fs.pathname.charAt(0)?fs.pathname:"/"+fs.pathname)},e.prototype.resetBaseElement=function(){ps=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return Nl(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=e.getStyle(n,r[i]+"AnimationName")){e._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])})}catch(t){e._animationPrefix=null,e._transitionEnd=null}return e}return i(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}())),ps=null,gs=$l;function ms(){return!!window.history.pushState}var ys=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return i(e,t),e.prototype._init=function(){this.location=ls().getLocation(),this._history=ls().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return ls().getBaseHref(this._doc)},e.prototype.onPopState=function(t){ls().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){ls().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){ms()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){ms()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:Mt,args:[gs]}]}]},e}(Sl),vs=function(){function t(t){this._doc=t,this._dom=ls()}return t.prototype.addTag=function(t,e){return void 0===e&&(e=!1),t?this._getOrCreateElement(t,e):null},t.prototype.addTags=function(t,e){var n=this;return void 0===e&&(e=!1),t?t.reduce(function(t,r){return r&&t.push(n._getOrCreateElement(r,e)),t},[]):[]},t.prototype.getTag=function(t){return t&&this._dom.querySelector(this._doc,"meta["+t+"]")||null},t.prototype.getTags=function(t){if(!t)return[];var e=this._dom.querySelectorAll(this._doc,"meta["+t+"]");return e?[].slice.call(e):[]},t.prototype.updateTag=function(t,e){if(!t)return null;e=e||this._parseSelector(t);var n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)},t.prototype.removeTag=function(t){this.removeTagElement(this.getTag(t))},t.prototype.removeTagElement=function(t){t&&this._dom.remove(t)},t.prototype._getOrCreateElement=function(t,e){if(void 0===e&&(e=!1),!e){var n=this._parseSelector(t),r=this.getTag(n);if(r&&this._containsAttributes(t,r))return r}var i=this._dom.createElement("meta");this._setMetaElementAttributes(t,i);var o=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(o,i),i},t.prototype._setMetaElementAttributes=function(t,e){var n=this;return Object.keys(t).forEach(function(r){return n._dom.setAttribute(e,r,t[r])}),e},t.prototype._parseSelector=function(t){var e=t.name?"name":"property";return e+'="'+t[e]+'"'},t.prototype._containsAttributes=function(t,e){var n=this;return Object.keys(t).every(function(r){return n._dom.getAttribute(e,r)===t[r]})},t}(),bs=new ft("TRANSITION_ID"),_s=[{provide:ue,useFactory:function(t,e,n){return function(){n.get(ce).donePromise.then(function(){var n=ls();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[bs,gs,Rt],multi:!0}],xs=function(){function t(){}return t.init=function(){var e;e=new t,We=e},t.prototype.addToWindow=function(t){vt.getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},vt.getAllAngularTestabilities=function(){return t.getAllTestabilities()},vt.getAllAngularRootElements=function(){return t.getAllRootElements()},vt.frameworkStabilizers||(vt.frameworkStabilizers=[]),vt.frameworkStabilizers.push(function(t){var e=vt.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?ls().isShadowRoot(e)?this.findTestabilityInTree(t,ls().getHost(e),!0):this.findTestabilityInTree(t,ls().parentElement(e),!0):null},t}(),ws=function(){function t(t){this._doc=t}return t.prototype.getTitle=function(){return ls().getTitle(this._doc)},t.prototype.setTitle=function(t){ls().setTitle(this._doc,t)},t}();function ks(t,e){"undefined"!=typeof COMPILED&&COMPILED||((vt.ng=vt.ng||{})[t]=e)}var Ts={ApplicationRef:nn,NgZone:Ne};function Cs(t){return mn(t)}var As=new ft("EventManagerPlugins"),Ms=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)},t}(),Ss=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var r=ls().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target "+r+" for event "+e);return this.addEventListener(r,e,n)},t}(),Es=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),Os=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return i(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return ls().remove(t)})},e}(Es),Ps={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Is=/%COMP%/g,Ds="_nghost-%COMP%",Ls="_ngcontent-%COMP%";function Rs(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?Rs(t,i,n):(i=i.replace(Is,t),n.push(i))}return n}function Ns(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var Fs=function(){function t(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new zs(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case $t.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new Hs(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case $t.Native:return new qs(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=Rs(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),zs=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(Ps[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t){var e="string"==typeof t?document.querySelector(t):t;if(!e)throw new Error('The selector "'+t+'" did not match any elements');return e.textContent="",e},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var i=Ps[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=Ps[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,r){r&an.DashCase?t.style.setProperty(e,n,r&an.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&an.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){Vs(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return Vs(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ns(n)):this.eventManager.addEventListener(t,e,Ns(n))},t}(),js="@".charCodeAt(0);function Vs(t,e){if(t.charCodeAt(0)===js)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var Bs,Hs=function(t){function e(e,n,r){var i=t.call(this,e)||this;i.component=r;var o=Rs(r.id,r.styles,[]);return n.addStyles(o),i.contentAttr=Ls.replace(Is,r.id),i.hostAttr=Ds.replace(Is,r.id),i}return i(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(zs),qs=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;o.sharedStylesHost=n,o.hostEl=r,o.component=i,o.shadowRoot=r.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var a=Rs(i.id,i.styles,[]),l=0;l<a.length;l++){var s=document.createElement("style");s.textContent=a[l],o.shadowRoot.appendChild(s)}return o}return i(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(zs),Us="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},Gs=Us("addEventListener"),Ws=Us("removeEventListener"),Ys={},Zs="__zone_symbol__propagationStopped";"undefined"!=typeof Zone&&Zone[Us("BLACK_LISTED_EVENTS")]&&(Bs={});var Xs=function(t){return!!Bs&&Bs.hasOwnProperty(t)},Qs=function(t){var e=Ys[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length)return(a=n[0]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r);for(var i=n.slice(),o=0;o<i.length&&!0!==t[Zs];o++){var a;(a=i[o]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r)}}}},Ks=function(t){function e(e,n){var r=t.call(this,e)||this;return r.ngZone=n,r.patchEvent(),r}return i(e,t),e.prototype.patchEvent=function(){if(Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Zs]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var r=this,i=n;if(!t[Gs]||Ne.isInAngularZone()&&!Xs(e))t.addEventListener(e,i,!1);else{var o=Ys[e];o||(o=Ys[e]=Us("ANGULAR"+e+"FALSE"));var a=t[o],l=a&&a.length>0;a||(a=t[o]=[]);var s=Xs(e)?Zone.root:Zone.current;if(0===a.length)a.push({zone:s,handler:i});else{for(var u=!1,c=0;c<a.length;c++)if(a[c].handler===i){u=!0;break}u||a.push({zone:s,handler:i})}l||t[Gs](e,Qs,!1)}return function(){return r.removeEventListener(t,e,i)}},e.prototype.removeEventListener=function(t,e,n){var r=t[Ws];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);var i=Ys[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);for(var a=!1,l=0;l<o.length;l++)if(o[l].handler===n){a=!0,o.splice(l,1);break}a?0===o.length&&r.apply(t,[e,Qs,!1]):t.removeEventListener.apply(t,[e,n,!1])},e}(Ss),$s={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Js=new ft("HammerGestureConfig"),tu=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e},t}(),eu=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i._config=n,i.console=r,i}return i(e,t),e.prototype.supports=function(t){return!(!$s.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&(this.console.warn("Hammer.js is not loaded, can not bind '"+t+"' event."),1))},e.prototype.addEventListener=function(t,e,n){var r=this,i=this.manager.getZone();return e=e.toLowerCase(),i.runOutsideAngular(function(){var o=r._config.buildHammer(t),a=function(t){i.runGuarded(function(){n(t)})};return o.on(e,a),function(){return o.off(e,a)}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(Ss),nu=["alt","control","meta","shift"],ru={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},iu=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.supports=function(t){return null!=e.parseEventName(t)},e.prototype.addEventListener=function(t,n,r){var i=e.parseEventName(n),o=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return ls().onAndCancel(t,i.domEventName,o)})},e.parseEventName=function(t){var n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;var i=e._normalizeKey(n.pop()),o="";if(nu.forEach(function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a},e.getEventFullKey=function(t){var e="",n=ls().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),nu.forEach(function(r){r!=n&&(0,ru[r])(t)&&(e+=r+".")}),e+=n},e.eventCallback=function(t,n,r){return function(i){e.getEventFullKey(i)===t&&r.runGuarded(function(){return n(i)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(Ss),ou=function(){},au=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return i(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case fr.NONE:return e;case fr.HTML:return e instanceof su?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){var n=null;try{Qn=Qn||new Un(t);var r=e?String(e):"";n=Qn.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Qn.getInertBodyElement(r)}while(r!==o);var a=new or,l=a.sanitizeChildren(ur(n)||n);return Qe()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),l}finally{if(n)for(var s=ur(n)||n;s.firstChild;)s.removeChild(s.firstChild)}}(this._doc,String(e)));case fr.STYLE:return e instanceof uu?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";var e=t.match(dr);return e&&Yn(e[1])===e[1]||t.match(cr)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Qe()&&console.warn("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}(e));case fr.SCRIPT:if(e instanceof cu)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case fr.URL:return e instanceof fu||e instanceof du?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Yn(String(e)));case fr.RESOURCE_URL:if(e instanceof fu)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof lu)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new su(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new uu(t)},e.prototype.bypassSecurityTrustScript=function(t){return new cu(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new du(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new fu(t)},e}(ou),lu=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),su=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(lu),uu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getTypeName=function(){return"Style"},e}(lu),cu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getTypeName=function(){return"Script"},e}(lu),du=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getTypeName=function(){return"URL"},e}(lu),fu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(lu),hu=$e(zn,"browser",[{provide:ge,useValue:Jl},{provide:pe,useValue:function(){hs.makeCurrent(),xs.init()},multi:!0},{provide:Sl,useClass:ys,deps:[gs]},{provide:gs,useFactory:function(){return document},deps:[]}]);function pu(){return new ae}var gu=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return t.withServerTransition=function(e){return{ngModule:t,providers:[{provide:de,useValue:e.appId},{provide:bs,useExisting:de},_s]}},t}();"undefined"!=typeof window&&window;var mu=new ft("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),yu=function(){function t(t){this._sanityChecksEnabled=t,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._hasDoneGlobalChecks=!0)}return t.prototype._areChecksEnabled=function(){return this._sanityChecksEnabled&&Qe()&&!this._isTestEnv()},t.prototype._isTestEnv=function(){return this._window&&(this._window.__karma__||this._window.jasmine)},t.prototype._checkDoctypeIsDefined=function(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")},t.prototype._checkThemeIsPresent=function(){if(this._document&&"function"==typeof getComputedStyle){var t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);var e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}},t.prototype._checkHammerIsAvailable=function(){!this._hasCheckedHammer&&this._window&&(this._areChecksEnabled()&&!this._window.Hammer&&console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)},t}();function vu(t){return function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(this,e)||this;return r._disabled=!1,r}return i(e,t),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=Cl(t)},enumerable:!0,configurable:!0}),e}(t)}function bu(t,e){return function(t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return i.color=e,i}return i(n,t),Object.defineProperty(n.prototype,"color",{get:function(){return this._color},set:function(t){var n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),n&&this._elementRef.nativeElement.classList.add("mat-"+n),this._color=n)},enumerable:!0,configurable:!0}),n}(t)}function _u(t){return function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(this,e)||this;return r._disableRipple=!1,r}return i(e,t),Object.defineProperty(e.prototype,"disableRipple",{get:function(){return this._disableRipple},set:function(t){this._disableRipple=Cl(t)},enumerable:!0,configurable:!0}),e}(t)}function xu(t,e){return void 0===e&&(e=0),function(t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return i._tabIndex=e,i}return i(n,t),Object.defineProperty(n.prototype,"tabIndex",{get:function(){return this.disabled?-1:this._tabIndex},set:function(t){this._tabIndex=null!=t?t:e},enumerable:!0,configurable:!0}),n}(t)}function wu(t){return function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(this,e)||this;return r.errorState=!1,r.stateChanges=new nt,r}return i(e,t),e.prototype.updateErrorState=function(){var t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())},e}(t)}var ku=function(){function t(){}return t.prototype.isErrorState=function(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))},t.ngInjectableDef=dt({factory:function(){return new t},token:t,providedIn:"root"}),t}(),Tu=new ft("MAT_HAMMER_OPTIONS"),Cu=function(t){function e(e,n){var r=t.call(this)||this;return r._hammerOptions=e,r._hammer="undefined"!=typeof window?window.Hammer:null,r.events=r._hammer?["longpress","slide","slidestart","slideend","slideright","slideleft"]:[],n&&n._checkHammerIsAvailable(),r}return i(e,t),e.prototype.buildHammer=function(t){var e=new this._hammer(t,this._hammerOptions||void 0),n=new this._hammer.Pan,r=new this._hammer.Swipe,i=new this._hammer.Press,o=this._createRecognizer(n,{event:"slide",threshold:0},r),a=this._createRecognizer(i,{event:"longpress",time:500});return n.recognizeWith(r),e.add([r,i,n,o,a]),e},e.prototype._createRecognizer=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=new t.constructor(e);return n.push(t),n.forEach(function(t){return i.recognizeWith(t)}),i},e}(tu),Au=function(){},Mu=function(){var t={FADING_IN:0,VISIBLE:1,FADING_OUT:2,HIDDEN:3};return t[t.FADING_IN]="FADING_IN",t[t.VISIBLE]="VISIBLE",t[t.FADING_OUT]="FADING_OUT",t[t.HIDDEN]="HIDDEN",t}(),Su=function(){function t(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=Mu.HIDDEN}return t.prototype.fadeOut=function(){this._renderer.fadeOutRipple(this)},t}(),Eu={enterDuration:450,exitDuration:400},Ou=800,Pu=function(){function t(t,e,n,r){var i=this;this._target=t,this._ngZone=e,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._eventOptions=!!ns()&&{passive:!0},this.onMousedown=function(t){var e=i._lastTouchStartEvent&&Date.now()<i._lastTouchStartEvent+Ou;i._target.rippleDisabled||e||(i._isPointerDown=!0,i.fadeInRipple(t.clientX,t.clientY,i._target.rippleConfig))},this.onTouchStart=function(t){i._target.rippleDisabled||(i._lastTouchStartEvent=Date.now(),i._isPointerDown=!0,i.fadeInRipple(t.touches[0].clientX,t.touches[0].clientY,i._target.rippleConfig))},this.onPointerUp=function(){i._isPointerDown&&(i._isPointerDown=!1,i._activeRipples.forEach(function(t){!t.config.persistent&&(t.state===Mu.VISIBLE||t.config.terminateOnPointerUp&&t.state===Mu.FADING_IN)&&t.fadeOut()}))},r.isBrowser&&(this._containerElement=n.nativeElement,this._triggerEvents.set("mousedown",this.onMousedown),this._triggerEvents.set("mouseup",this.onPointerUp),this._triggerEvents.set("mouseleave",this.onPointerUp),this._triggerEvents.set("touchstart",this.onTouchStart),this._triggerEvents.set("touchend",this.onPointerUp))}return t.prototype.fadeInRipple=function(t,e,n){var r=this;void 0===n&&(n={});var i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=o({},Eu,n.animation);n.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);var l=n.radius||function(t,e,n){var r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,i),s=t-i.left,u=e-i.top,c=a.enterDuration/(n.speedFactor||1),d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=s-l+"px",d.style.top=u-l+"px",d.style.height=2*l+"px",d.style.width=2*l+"px",d.style.backgroundColor=n.color||null,d.style.transitionDuration=c+"ms",this._containerElement.appendChild(d),window.getComputedStyle(d).getPropertyValue("opacity"),d.style.transform="scale(1)";var f=new Su(this,d,n);return f.state=Mu.FADING_IN,this._activeRipples.add(f),n.persistent||(this._mostRecentTransientRipple=f),this.runTimeoutOutsideZone(function(){var t=f===r._mostRecentTransientRipple;f.state=Mu.VISIBLE,n.persistent||t&&r._isPointerDown||f.fadeOut()},c),f},t.prototype.fadeOutRipple=function(t){var e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),e){var n=t.element,r=o({},Eu,t.config.animation);n.style.transitionDuration=r.exitDuration+"ms",n.style.opacity="0",t.state=Mu.FADING_OUT,this.runTimeoutOutsideZone(function(){t.state=Mu.HIDDEN,n.parentNode.removeChild(n)},r.exitDuration)}},t.prototype.fadeOutAll=function(){this._activeRipples.forEach(function(t){return t.fadeOut()})},t.prototype.setupTriggerEvents=function(t){var e=this;t&&t!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular(function(){e._triggerEvents.forEach(function(n,r){return t.addEventListener(r,n,e._eventOptions)})}),this._triggerElement=t)},t.prototype.runTimeoutOutsideZone=function(t,e){void 0===e&&(e=0),this._ngZone.runOutsideAngular(function(){return setTimeout(t,e)})},t.prototype._removeTriggerEvents=function(){var t=this;this._triggerElement&&this._triggerEvents.forEach(function(e,n){t._triggerElement.removeEventListener(n,e,t._eventOptions)})},t}(),Iu=new ft("mat-ripple-global-options"),Du=function(){function t(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this.speedFactor=1,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new Pu(this,e,t,n)}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=t,this._setupTriggerEventsIfEnabled()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trigger",{get:function(){return this._trigger||this._elementRef.nativeElement},set:function(t){this._trigger=t,this._setupTriggerEventsIfEnabled()},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()},t.prototype.ngOnDestroy=function(){this._rippleRenderer._removeTriggerEvents()},t.prototype.fadeOutAll=function(){this._rippleRenderer.fadeOutAll()},Object.defineProperty(t.prototype,"rippleConfig",{get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:o({},this._globalOptions.animation,this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp,speedFactor:this.speedFactor*(this._globalOptions.baseSpeedFactor||1)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rippleDisabled",{get:function(){return this.disabled||!!this._globalOptions.disabled},enumerable:!0,configurable:!0}),t.prototype._setupTriggerEventsIfEnabled=function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)},t.prototype.launch=function(t,e,n){return void 0===e&&(e=0),"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,o({},this.rippleConfig,n)):this._rippleRenderer.fadeInRipple(0,0,o({},this.rippleConfig,t))},t}(),Lu=function(){},Ru=function(){this.state="unchecked",this.disabled=!1},Nu=function(){},Fu=0,zu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._labelId="mat-optgroup-label-"+Fu++,e}return i(e,t),e}(vu(function(){})),ju=0,Vu=new ft("MAT_OPTION_PARENT_COMPONENT"),Bu=function(){function t(t,e,n,r){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=r,this._selected=!1,this._active=!1,this._disabled=!1,this._id="mat-option-"+ju++,this._mostRecentViewValue="",this.onSelectionChange=new Re,this._stateChanges=new nt}return Object.defineProperty(t.prototype,"multiple",{get:function(){return this._parent&&this._parent.multiple},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.group&&this.group.disabled||this._disabled},set:function(t){this._disabled=Cl(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disableRipple",{get:function(){return this._parent&&this._parent.disableRipple},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this._active},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewValue",{get:function(){return(this._getHostElement().textContent||"").trim()},enumerable:!0,configurable:!0}),t.prototype.select=function(){this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent()},t.prototype.deselect=function(){this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent()},t.prototype.focus=function(){var t=this._getHostElement();"function"==typeof t.focus&&t.focus()},t.prototype.setActiveStyles=function(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())},t.prototype.setInactiveStyles=function(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())},t.prototype.getLabel=function(){return this.viewValue},t.prototype._handleKeydown=function(t){13!==t.keyCode&&32!==t.keyCode||(this._selectViaInteraction(),t.preventDefault())},t.prototype._selectViaInteraction=function(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))},t.prototype._getTabIndex=function(){return this.disabled?"-1":"0"},t.prototype._getHostElement=function(){return this._element.nativeElement},t.prototype.ngAfterViewChecked=function(){if(this._selected){var t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}},t.prototype.ngOnDestroy=function(){this._stateChanges.complete()},t.prototype._emitSelectionChangeEvent=function(t){void 0===t&&(t=!1),this.onSelectionChange.emit(new function(t,e){void 0===e&&(e=!1),this.source=t,this.isUserInput=e}(this,t))},t}();function Hu(t,e,n){if(n.length){for(var r=e.toArray(),i=n.toArray(),o=0,a=0;a<t+1;a++)r[a].group&&r[a].group===i[o]&&o++;return o}return 0}var qu=function(){},Uu=new ft("mat-label-global-options"),Gu=new S(function(t){return t.complete()});function Wu(t){return t?function(t){return new S(function(e){return t.schedule(function(){return e.complete()})})}(t):Gu}function Yu(t){var e=new S(function(e){e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}function Zu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];switch(O(n)?t.pop():n=void 0,t.length){case 0:return Wu(n);case 1:return n?G(t,n):Yu(t[0]);default:return G(t,n)}}var Xu=function(){},Qu="*";function Ku(t,e){return void 0===e&&(e=null),{type:2,steps:t,options:e}}function $u(t){return{type:6,styles:t,offset:null}}function Ju(t){Promise.resolve(null).then(t)}var tc=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.hasStarted=function(){return this._started},t.prototype.init=function(){},t.prototype.play=function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0},t.prototype.triggerMicrotask=function(){var t=this;Ju(function(){return t._onFinish()})},t.prototype._onStart=function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]},t.prototype.pause=function(){},t.prototype.restart=function(){},t.prototype.finish=function(){this._onFinish()},t.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype.reset=function(){},t.prototype.setPosition=function(t){},t.prototype.getPosition=function(){return 0},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0},t}(),ec=function(){function t(t){var e=this;this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var n=0,r=0,i=0,o=this.players.length;0==o?Ju(function(){return e._onFinish()}):this.players.forEach(function(t){t.onDone(function(){++n==o&&e._onFinish()}),t.onDestroy(function(){++r==o&&e._onDestroy()}),t.onStart(function(){++i==o&&e._onStart()})}),this.totalTime=this.players.reduce(function(t,e){return Math.max(t,e.totalTime)},0)}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.init=function(){this.players.forEach(function(t){return t.init()})},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype._onStart=function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[])},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.hasStarted=function(){return this._started},t.prototype.play=function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(t){return t.play()})},t.prototype.pause=function(){this.players.forEach(function(t){return t.pause()})},t.prototype.restart=function(){this.players.forEach(function(t){return t.restart()})},t.prototype.finish=function(){this._onFinish(),this.players.forEach(function(t){return t.finish()})},t.prototype.destroy=function(){this._onDestroy()},t.prototype._onDestroy=function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(t){return t.destroy()}),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype.reset=function(){this.players.forEach(function(t){return t.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1},t.prototype.setPosition=function(t){var e=t*this.totalTime;this.players.forEach(function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})},t.prototype.getPosition=function(){var t=0;return this.players.forEach(function(e){var n=e.getPosition();t=Math.min(n,t)}),t},t.prototype.beforeDestroy=function(){this.players.forEach(function(t){t.beforeDestroy&&t.beforeDestroy()})},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0},t}(),nc="!";function rc(t){return function(e){return e.lift(new ic(t))}}var ic=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new oc(t),r=V(n,this.notifier);return r&&!r.closed?(n.add(r),e.subscribe(n)):n},t}(),oc=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.complete()},e.prototype.notifyComplete=function(){},e}(B);function ac(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n=t[t.length-1];O(n)?t.pop():n=null;var r=t.length;return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length||2===t.length&&O(t[1])?W(t[0]):K(1)(Zu.apply(void 0,t))}(1!==r||n?r>0?G(t,n):Wu(n):Yu(t[0]),e)}}var lc=new ft("MatInkBarPositioner",{providedIn:"root",factory:function(){return function(t){return{left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"}}}}),sc=function(){function t(t,e,n){this._elementRef=t,this._ngZone=e,this._inkBarPositioner=n}return t.prototype.alignToElement=function(t){var e=this;this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(function(){requestAnimationFrame(function(){return e._setStyles(t)})}):this._setStyles(t)},t.prototype.show=function(){this._elementRef.nativeElement.style.visibility="visible"},t.prototype.hide=function(){this._elementRef.nativeElement.style.visibility="hidden"},t.prototype._setStyles=function(t){var e=this._inkBarPositioner(t),n=this._elementRef.nativeElement;n.style.left=e.left,n.style.width=e.width},t}(),uc=function(t){function e(e){var n=t.call(this)||this;return n._viewContainerRef=e,n.textLabel="",n._contentPortal=null,n._labelChange=new nt,n._disableChange=new nt,n.position=null,n.origin=null,n.isActive=!1,n}return i(e,t),Object.defineProperty(e.prototype,"content",{get:function(){return this._contentPortal},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){t.hasOwnProperty("textLabel")&&this._labelChange.next(),t.hasOwnProperty("disabled")&&this._disableChange.next()},e.prototype.ngOnDestroy=function(){this._disableChange.complete(),this._labelChange.complete()},e.prototype.ngOnInit=function(){this._contentPortal=new _l(this._explicitContent||this._implicitContent,this._viewContainerRef)},e}(vu(function(){})),cc=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i._host=r,i._centeringSub=x.EMPTY,i._leavingSub=x.EMPTY,i}return i(e,t),e.prototype.ngOnInit=function(){var e=this;t.prototype.ngOnInit.call(this),this._centeringSub=this._host._beforeCentering.pipe(ac(this._host._isCenterPosition(this._host._position))).subscribe(function(t){t&&!e.hasAttached()&&e.attach(e._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(function(){e.detach()})},e.prototype.ngOnDestroy=function(){t.prototype.ngOnDestroy.call(this),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()},e}(kl),dc=function(){function t(t,e){this._elementRef=t,this._dir=e,this._onCentering=new Re,this._beforeCentering=new Re,this._afterLeavingCenter=new Re,this._onCentered=new Re(!0)}return Object.defineProperty(t.prototype,"position",{set:function(t){this._position=t<0?"ltr"==this._getLayoutDirection()?"left":"right":t>0?"ltr"==this._getLayoutDirection()?"right":"left":"center"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"origin",{set:function(t){if(null!=t){var e=this._getLayoutDirection();this._origin="ltr"==e&&t<=0||"rtl"==e&&t>0?"left":"right"}},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){"center"==this._position&&this._origin&&(this._position="left"==this._origin?"left-origin-center":"right-origin-center")},t.prototype._onTranslateTabStarted=function(t){var e=this._isCenterPosition(t.toState);this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)},t.prototype._onTranslateTabComplete=function(t){this._isCenterPosition(t.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(t.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()},t.prototype._getLayoutDirection=function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"},t.prototype._isCenterPosition=function(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t},t}(),fc=function(t){function e(e){var n=t.call(this)||this;return n.elementRef=e,n}return i(e,t),e.prototype.focus=function(){this.elementRef.nativeElement.focus()},e.prototype.getOffsetLeft=function(){return this.elementRef.nativeElement.offsetLeft},e.prototype.getOffsetWidth=function(){return this.elementRef.nativeElement.offsetWidth},e}(vu(function(){})),hc=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o._elementRef=e,o._changeDetectorRef=n,o._viewportRuler=r,o._dir=i,o._focusIndex=0,o._scrollDistance=0,o._selectedIndexChanged=!1,o._realignInkBar=x.EMPTY,o._showPaginationControls=!1,o._disableScrollAfter=!0,o._disableScrollBefore=!0,o._selectedIndex=0,o.selectFocusedIndex=new Re,o.indexFocused=new Re,o}return i(e,t),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(t){t=Al(t),this._selectedIndexChanged=this._selectedIndex!=t,this._selectedIndex=t,this._focusIndex=t},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentChecked=function(){this._tabLabelCount!=this._labelWrappers.length&&(this._updatePagination(),this._tabLabelCount=this._labelWrappers.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())},e.prototype._handleKeydown=function(t){switch(t.keyCode){case 39:this._focusNextTab();break;case 37:this._focusPreviousTab();break;case 36:this._focusFirstTab(),t.preventDefault();break;case 35:this._focusLastTab(),t.preventDefault();break;case 13:case 32:this.selectFocusedIndex.emit(this.focusIndex),t.preventDefault()}},e.prototype.ngAfterContentInit=function(){var t=this,e=this._dir?this._dir.change:Zu(null),n=this._viewportRuler.change(150),r=function(){t._updatePagination(),t._alignInkBarToSelectedTab()};"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(r):r(),this._realignInkBar=$(e,n).subscribe(r)},e.prototype.ngOnDestroy=function(){this._realignInkBar.unsubscribe()},e.prototype._onContentChanges=function(){this._updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()},e.prototype._updatePagination=function(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()},Object.defineProperty(e.prototype,"focusIndex",{get:function(){return this._focusIndex},set:function(t){this._isValidIndex(t)&&this._focusIndex!=t&&(this._focusIndex=t,this.indexFocused.emit(t),this._setTabFocus(t))},enumerable:!0,configurable:!0}),e.prototype._isValidIndex=function(t){if(!this._labelWrappers)return!0;var e=this._labelWrappers?this._labelWrappers.toArray()[t]:null;return!!e&&!e.disabled},e.prototype._setTabFocus=function(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._labelWrappers&&this._labelWrappers.length){this._labelWrappers.toArray()[t].focus();var e=this._tabListContainer.nativeElement,n=this._getLayoutDirection();e.scrollLeft="ltr"==n?0:e.scrollWidth-e.offsetWidth}},e.prototype._moveFocus=function(t){if(this._labelWrappers)for(var e=this._labelWrappers.toArray(),n=this.focusIndex+t;n<e.length&&n>=0;n+=t)if(this._isValidIndex(n))return void(this.focusIndex=n)},e.prototype._focusNextTab=function(){this._moveFocus("ltr"==this._getLayoutDirection()?1:-1)},e.prototype._focusPreviousTab=function(){this._moveFocus("ltr"==this._getLayoutDirection()?-1:1)},e.prototype._focusFirstTab=function(){for(var t=0;t<this._labelWrappers.length;t++)if(this._isValidIndex(t)){this.focusIndex=t;break}},e.prototype._focusLastTab=function(){for(var t=this._labelWrappers.length-1;t>-1;t--)if(this._isValidIndex(t)){this.focusIndex=t;break}},e.prototype._getLayoutDirection=function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"},e.prototype._updateTabScrollPosition=function(){var t=this.scrollDistance,e="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform="translate3d("+e+"px, 0, 0)"},Object.defineProperty(e.prototype,"scrollDistance",{get:function(){return this._scrollDistance},set:function(t){this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),t)),this._scrollDistanceChanged=!0,this._checkScrollingControls()},enumerable:!0,configurable:!0}),e.prototype._scrollHeader=function(t){this.scrollDistance+=("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3},e.prototype._scrollToLabel=function(t){var e=this._labelWrappers?this._labelWrappers.toArray()[t]:null;if(e){var n,r,i=this._tabListContainer.nativeElement.offsetWidth;"ltr"==this._getLayoutDirection()?r=(n=e.getOffsetLeft())+e.getOffsetWidth():n=(r=this._tabList.nativeElement.offsetWidth-e.getOffsetLeft())-e.getOffsetWidth();var o=this.scrollDistance,a=this.scrollDistance+i;n<o?this.scrollDistance-=o-n+60:r>a&&(this.scrollDistance+=r-a+60)}},e.prototype._checkPaginationEnabled=function(){var t=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t},e.prototype._checkScrollingControls=function(){this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck()},e.prototype._getMaxScrollDistance=function(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0},e.prototype._alignInkBarToSelectedTab=function(){var t=this._labelWrappers&&this._labelWrappers.length?this._labelWrappers.toArray()[this.selectedIndex].elementRef.nativeElement:null;this._inkBar.alignToElement(t)},e}(_u(function(){})),pc=0,gc=function(t){function e(e,n){var r=t.call(this,e)||this;return r._changeDetectorRef=n,r._indexToSelect=0,r._tabBodyWrapperHeight=0,r._tabsSubscription=x.EMPTY,r._tabLabelSubscription=x.EMPTY,r._dynamicHeight=!1,r._selectedIndex=null,r.headerPosition="above",r.selectedIndexChange=new Re,r.focusChange=new Re,r.animationDone=new Re,r.selectedTabChange=new Re(!0),r._groupId=pc++,r}return i(e,t),Object.defineProperty(e.prototype,"dynamicHeight",{get:function(){return this._dynamicHeight},set:function(t){this._dynamicHeight=Cl(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(t){this._indexToSelect=Al(t,null)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){var e=this._elementRef.nativeElement;e.classList.remove("mat-background-"+this.backgroundColor),t&&e.classList.add("mat-background-"+t),this._backgroundColor=t},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentChecked=function(){var t=this,e=this._indexToSelect=Math.min(this._tabs.length-1,Math.max(this._indexToSelect||0,0));if(this._selectedIndex!=e&&null!=this._selectedIndex){var n=this._createChangeEvent(e);this.selectedTabChange.emit(n),Promise.resolve().then(function(){return t.selectedIndexChange.emit(e)})}this._tabs.forEach(function(n,r){n.position=r-e,n.isActive=r===e,null==t._selectedIndex||0!=n.position||n.origin||(n.origin=e-t._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._changeDetectorRef.markForCheck())},e.prototype.ngAfterContentInit=function(){var t=this;this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(function(){t._subscribeToTabLabels(),t._changeDetectorRef.markForCheck()})},e.prototype.ngOnDestroy=function(){this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()},e.prototype.realignInkBar=function(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()},e.prototype._focusChanged=function(t){this.focusChange.emit(this._createChangeEvent(t))},e.prototype._createChangeEvent=function(t){var e=new function(){};return e.index=t,this._tabs&&this._tabs.length&&(e.tab=this._tabs.toArray()[t]),e},e.prototype._subscribeToTabLabels=function(){var t=this;this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=$.apply(void 0,this._tabs.map(function(t){return t._disableChange}).concat(this._tabs.map(function(t){return t._labelChange}))).subscribe(function(){t._changeDetectorRef.markForCheck()})},e.prototype._getTabLabelId=function(t){return"mat-tab-label-"+this._groupId+"-"+t},e.prototype._getTabContentId=function(t){return"mat-tab-content-"+this._groupId+"-"+t},e.prototype._setTabBodyWrapperHeight=function(t){if(this._dynamicHeight&&this._tabBodyWrapperHeight){var e=this._tabBodyWrapper.nativeElement;e.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(e.style.height=t+"px")}},e.prototype._removeTabBodyWrapperHeight=function(){this._tabBodyWrapperHeight=this._tabBodyWrapper.nativeElement.clientHeight,this._tabBodyWrapper.nativeElement.style.height="",this.animationDone.emit()},e.prototype._handleClick=function(t,e,n){t.disabled||(this.selectedIndex=e.focusIndex=n)},e.prototype._getTabIndex=function(t,e){return t.disabled?null:this.selectedIndex===e?0:-1},e}(bu(_u(function(t){this._elementRef=t}),"primary")),mc=function(){},yc=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return i(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return i(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(x)),vc=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=Date.now?Date.now:function(){return+new Date},t}(),bc=new(function(t){function e(n,r){void 0===r&&(r=vc.now);var i=t.call(this,n,function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return i(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(vc))(yc);function _c(t,e){return void 0===e&&(e=bc),function(n){return n.lift(new xc(t,e))}}var xc=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new wc(t,this.dueTime,this.scheduler))},t}(),wc=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return i(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(kc,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(T);function kc(t){t.debouncedNext()}var Tc=function(){function t(){}return t.prototype.create=function(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)},t.ngInjectableDef=dt({factory:function(){return new t},token:t,providedIn:"root"}),t}(),Cc=function(){function t(t){this._mutationObserverFactory=t,this._observedElements=new Map}return t.prototype.ngOnDestroy=function(){var t=this;this._observedElements.forEach(function(e,n){return t._cleanupObserver(n)})},t.prototype.observe=function(t){var e=this;return S.create(function(n){var r=e._observeElement(t).subscribe(n);return function(){r.unsubscribe(),e._unobserveElement(t)}})},t.prototype._observeElement=function(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{var e=new nt,n=this._mutationObserverFactory.create(function(t){return e.next(t)});n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream},t.prototype._unobserveElement=function(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))},t.prototype._cleanupObserver=function(t){if(this._observedElements.has(t)){var e=this._observedElements.get(t),n=e.observer,r=e.stream;n&&n.disconnect(),r.complete(),this._observedElements.delete(t)}},t.ngInjectableDef=dt({factory:function(){return new t(Kt(Tc))},token:t,providedIn:"root"}),t}(),Ac=function(){function t(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new Re,this._disabled=!1,this._currentSubscription=null}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=Cl(t),this._disabled?this._unsubscribe():this._subscribe()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"debounce",{get:function(){return this._debounce},set:function(t){this._debounce=Al(t),this._subscribe()},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){this._currentSubscription||this.disabled||this._subscribe()},t.prototype.ngOnDestroy=function(){this._unsubscribe()},t.prototype._subscribe=function(){var t=this;this._unsubscribe();var e=this._contentObserver.observe(this._elementRef.nativeElement);this._ngZone.runOutsideAngular(function(){t._currentSubscription=(t.debounce?e.pipe(_c(t.debounce)):e).subscribe(t.event)})},t.prototype._unsubscribe=function(){this._currentSubscription&&this._currentSubscription.unsubscribe()},t}(),Mc=function(){},Sc=new ft("cdk-dir-doc",{providedIn:"root",factory:function(){return Kt($l)}}),Ec=function(){function t(t){this.value="ltr",this.change=new Re,t&&(this.value=(t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr")}return t.prototype.ngOnDestroy=function(){this.change.complete()},t.ngInjectableDef=dt({factory:function(){return new t(Kt(Sc,8))},token:t,providedIn:"root"}),t}(),Oc=function(){};function Pc(t){switch(t.length){case 0:return new tc;case 1:return t[0];default:return new ec(t)}}function Ic(t,e,n,r,i,o){void 0===i&&(i={}),void 0===o&&(o={});var a=[],l=[],s=-1,u=null;if(r.forEach(function(t){var n=t.offset,r=n==s,c=r&&u||{};Object.keys(t).forEach(function(n){var r=n,l=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,a),l){case nc:l=i[n];break;case Qu:l=o[n];break;default:l=e.normalizeStyleValue(n,r,l,a)}c[r]=l}),r||l.push(c),u=c,s=n}),a.length)throw new Error("Unable to animate due to the following errors:\n - "+a.join("\n - "));return l}function Dc(t,e,n,r){switch(e){case"start":t.onStart(function(){return r(n&&Lc(n,"start",t))});break;case"done":t.onDone(function(){return r(n&&Lc(n,"done",t))});break;case"destroy":t.onDestroy(function(){return r(n&&Lc(n,"destroy",t))})}}function Lc(t,e,n){var r=n.totalTime,i=Rc(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,void 0==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function Rc(t,e,n,r,i,o,a){return void 0===i&&(i=""),void 0===o&&(o=0),{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function Nc(t,e,n){var r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function Fc(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var zc=function(t,e){return!1},jc=function(t,e){return!1},Vc=function(t,e,n){return[]};if("undefined"!=typeof Element){if(zc=function(t,e){return t.contains(e)},Element.prototype.matches)jc=function(t,e){return t.matches(e)};else{var Bc=Element.prototype,Hc=Bc.matchesSelector||Bc.mozMatchesSelector||Bc.msMatchesSelector||Bc.oMatchesSelector||Bc.webkitMatchesSelector;Hc&&(jc=function(t,e){return Hc.apply(t,[e])})}Vc=function(t,e,n){var r=[];if(n)r.push.apply(r,s(t.querySelectorAll(e)));else{var i=t.querySelector(e);i&&r.push(i)}return r}}var qc=null,Uc=!1;function Gc(t){qc||(qc=Wc()||{},Uc=!!qc.style&&"WebkitAppearance"in qc.style);var e=!0;return qc.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&!(e=t in qc.style)&&Uc&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in qc.style),e}function Wc(){return"undefined"!=typeof document?document.body:null}var Yc=jc,Zc=zc,Xc=Vc;function Qc(t){var e={};return Object.keys(t).forEach(function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}var Kc=function(){function t(){}return t.prototype.validateStyleProperty=function(t){return Gc(t)},t.prototype.matchesElement=function(t,e){return Yc(t,e)},t.prototype.containsElement=function(t,e){return Zc(t,e)},t.prototype.query=function(t,e,n){return Xc(t,e,n)},t.prototype.computeStyle=function(t,e,n){return n||""},t.prototype.animate=function(t,e,n,r,i,o,a){return void 0===o&&(o=[]),new tc(n,r)},t}(),$c=function(){function t(){}return t.NOOP=new Kc,t}(),Jc=1e3;function td(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ed(parseFloat(e[1]),e[2])}function ed(t,e){switch(e){case"s":return t*Jc;default:return t}}function nd(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var r,i=0,o="";if("string"==typeof t){var a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push('The provided timing value "'+t+'" is invalid.'),{duration:0,delay:0,easing:""};r=ed(parseFloat(a[1]),a[2]);var l=a[3];null!=l&&(i=ed(Math.floor(parseFloat(l)),a[4]));var s=a[5];s&&(o=s)}else r=t;if(!n){var u=!1,c=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),u=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),u=!0),u&&e.splice(c,0,'The provided timing value "'+t+'" is invalid.')}return{duration:r,delay:i,easing:o}}(t,e,n)}function rd(t,e){return void 0===e&&(e={}),Object.keys(t).forEach(function(n){e[n]=t[n]}),e}function id(t,e,n){if(void 0===n&&(n={}),e)for(var r in t)n[r]=t[r];else rd(t,n);return n}function od(t,e){t.style&&Object.keys(e).forEach(function(n){var r=hd(n);t.style[r]=e[n]})}function ad(t,e){t.style&&Object.keys(e).forEach(function(e){var n=hd(e);t.style[n]=""})}function ld(t){return Array.isArray(t)?1==t.length?t[0]:Ku(t):t}var sd=new RegExp("{{\\s*(.+?)\\s*}}","g");function ud(t){var e=[];if("string"==typeof t){for(var n=t.toString(),r=void 0;r=sd.exec(n);)e.push(r[1]);sd.lastIndex=0}return e}function cd(t,e,n){var r=t.toString(),i=r.replace(sd,function(t,r){var i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function dd(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var fd=/-+([a-z0-9])/g;function hd(t){return t.replace(fd,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t[1].toUpperCase()})}function pd(t,e){return 0===t||0===e}function gd(t,e,n){var r=Object.keys(n);if(r.length&&e.length){var i=e[0],o=[];if(r.forEach(function(t){i.hasOwnProperty(t)||o.push(t),i[t]=n[t]}),o.length)for(var a=function(){var n=e[l];o.forEach(function(e){n[e]=yd(t,e)})},l=1;l<e.length;l++)a()}return e}function md(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function yd(t,e){return window.getComputedStyle(t)[e]}var vd="*",bd=new Set(["true","1"]),_d=new Set(["false","0"]);function xd(t,e){var n=bd.has(t)||_d.has(t),r=bd.has(e)||_d.has(e);return function(i,o){var a=t==vd||t==i,l=e==vd||e==o;return!a&&n&&"boolean"==typeof i&&(a=i?bd.has(t):_d.has(t)),!l&&r&&"boolean"==typeof o&&(l=o?bd.has(e):_d.has(e)),a&&l}}var wd=new RegExp("s*:selfs*,?","g");function kd(t,e,n){return new Td(t).build(e,n)}var Td=function(){function t(t){this._driver=t}return t.prototype.build=function(t,e){var n=new Cd(e);return this._resetContextStyleTimingState(n),md(this,ld(t),n)},t.prototype._resetContextStyleTimingState=function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0},t.prototype.visitTrigger=function(t,e){var n=this,r=e.queryCount=0,i=e.depCount=0,o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(function(t){if(n._resetContextStyleTimingState(e),0==t.type){var l=t,s=l.name;s.toString().split(/\s*,\s*/).forEach(function(t){l.name=t,o.push(n.visitState(l,e))}),l.name=s}else if(1==t.type){var u=n.visitTransition(t,e);r+=u.queryCount,i+=u.depCount,a.push(u)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}},t.prototype.visitState=function(t,e){var n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach(function(t){if(Ad(t)){var e=t;Object.keys(e).forEach(function(t){ud(e[t]).forEach(function(t){o.hasOwnProperty(t)||i.add(t)})})}}),i.size){var a=dd(i.values());e.errors.push('state("'+t.name+'", ...) must define default values for all the following style substitutions: '+a.join(", "))}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}},t.prototype.visitTransition=function(t,e){e.queryCount=0,e.depCount=0;var n,r,i,o=md(this,ld(t.animation),e);return{type:1,matchers:(n=t.expr,r=e.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach(function(t){return function(t,e,n){if(":"==t[0]){var r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'+t+'" is not supported'),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'+t+'" is not supported'),e;var o=i[1],a=i[2],l=i[3];e.push(xd(o,l)),"<"!=a[0]||o==vd&&l==vd||e.push(xd(l,o))}(t,i,r)}):i.push(n),i),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:Md(t.options)}},t.prototype.visitSequence=function(t,e){var n=this;return{type:2,steps:t.steps.map(function(t){return md(n,t,e)}),options:Md(t.options)}},t.prototype.visitGroup=function(t,e){var n=this,r=e.currentTime,i=0,o=t.steps.map(function(t){e.currentTime=r;var o=md(n,t,e);return i=Math.max(i,e.currentTime),o});return e.currentTime=i,{type:3,steps:o,options:Md(t.options)}},t.prototype.visitAnimate=function(t,e){var n,r=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Sd(nd(t,e).duration,0,"");var r=t;if(r.split(/\s+/).some(function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)})){var i=Sd(0,0,"");return i.dynamic=!0,i.strValue=r,i}return Sd((n=n||nd(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;var i=t.styles?t.styles:$u({});if(5==i.type)n=this.visitKeyframes(i,e);else{var o=t.styles,a=!1;if(!o){a=!0;var l={};r.easing&&(l.easing=r.easing),o=$u(l)}e.currentTime+=r.duration+r.delay;var s=this.visitStyle(o,e);s.isEmptyStep=a,n=s}return e.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}},t.prototype.visitStyle=function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n},t.prototype._makeStyleAst=function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach(function(t){"string"==typeof t?t==Qu?n.push(t):e.errors.push("The provided style string value "+t+" is not allowed."):n.push(t)}):n.push(t.styles);var r=!1,i=null;return n.forEach(function(t){if(Ad(t)){var e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(var o in e)if(e[o].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}},t.prototype._validateStyleAst=function(t,e){var n=this,r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(function(t){"string"!=typeof t&&Object.keys(t).forEach(function(r){if(n._driver.validateStyleProperty(r)){var a,l,s,u=e.collectedStyles[e.currentQuerySelector],c=u[r],d=!0;c&&(o!=i&&o>=c.startTime&&i<=c.endTime&&(e.errors.push('The CSS property "'+r+'" that exists between the times of "'+c.startTime+'ms" and "'+c.endTime+'ms" is also being animated in a parallel animation between the times of "'+o+'ms" and "'+i+'ms"'),d=!1),o=c.startTime),d&&(u[r]={startTime:o,endTime:i}),e.options&&(a=e.errors,l=e.options.params||{},(s=ud(t[r])).length&&s.forEach(function(t){l.hasOwnProperty(t)||a.push("Unable to resolve the local animation param "+t+" in the given list of values")}))}else e.errors.push('The provided animation property "'+r+'" is not a supported CSS property for animations')})})},t.prototype.visitKeyframes=function(t,e){var n=this,r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,l=!1,s=0,u=t.steps.map(function(t){var r=n._makeStyleAst(t,e),u=null!=r.offset?r.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach(function(t){if(Ad(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}});else if(Ad(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(r.styles),c=0;return null!=u&&(i++,c=r.offset=u),l=l||c<0||c>1,a=a||c<s,s=c,o.push(c),r});l&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");var c=t.steps.length,d=0;i>0&&i<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(d=1/(c-1));var f=c-1,h=e.currentTime,p=e.currentAnimateTimings,g=p.duration;return u.forEach(function(t,i){var a=d>0?i==f?1:d*i:o[i],l=a*g;e.currentTime=h+p.delay+l,p.duration=l,n._validateStyleAst(t,e),t.offset=a,r.styles.push(t)}),r},t.prototype.visitReference=function(t,e){return{type:8,animation:md(this,ld(t.animation),e),options:Md(t.options)}},t.prototype.visitAnimateChild=function(t,e){return e.depCount++,{type:9,options:Md(t.options)}},t.prototype.visitAnimateRef=function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Md(t.options)}},t.prototype.visitQuery=function(t,e){var n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;var i=l(function(t){var e=!!t.split(/\s*,\s*/).find(function(t){return":self"==t});return e&&(t=t.replace(wd,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,function(t){return".ng-trigger-"+t.substr(1)}).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),o=i[0],a=i[1];e.currentQuerySelector=n.length?n+" "+o:o,Nc(e.collectedStyles,e.currentQuerySelector,{});var s=md(this,ld(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:t.selector,options:Md(t.options)}},t.prototype.visitStagger=function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:nd(t.timings,e.errors,!0);return{type:12,animation:md(this,ld(t.animation),e),timings:n,options:null}},t}(),Cd=function(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function Ad(t){return!Array.isArray(t)&&"object"==typeof t}function Md(t){var e;return t?(t=rd(t)).params&&(t.params=(e=t.params)?rd(e):null):t={},t}function Sd(t,e,n){return{duration:t,delay:e,easing:n}}function Ed(t,e,n,r,i,o,a,l){return void 0===a&&(a=null),void 0===l&&(l=!1),{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:l}}var Od=function(){function t(){this._map=new Map}return t.prototype.consume=function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e},t.prototype.append=function(t,e){var n=this._map.get(t);n||this._map.set(t,n=[]),n.push.apply(n,s(e))},t.prototype.has=function(t){return this._map.has(t)},t.prototype.clear=function(){this._map.clear()},t}(),Pd=new RegExp(":enter","g"),Id=new RegExp(":leave","g");function Dd(t,e,n,r,i,o,a,l,s,u){return void 0===o&&(o={}),void 0===a&&(a={}),void 0===u&&(u=[]),(new Ld).buildKeyframes(t,e,n,r,i,o,a,l,s,u)}var Ld=function(){function t(){}return t.prototype.buildKeyframes=function(t,e,n,r,i,o,a,l,s,u){void 0===u&&(u=[]),s=s||new Od;var c=new Nd(t,e,s,r,i,u,[]);c.options=l,c.currentTimeline.setStyles([o],null,c.errors,l),md(this,n,c);var d=c.timelines.filter(function(t){return t.containsAnimation()});if(d.length&&Object.keys(a).length){var f=d[d.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,c.errors,l)}return d.length?d.map(function(t){return t.buildKeyframes()}):[Ed(e,[],[],[],0,0,"",!1)]},t.prototype.visitTrigger=function(t,e){},t.prototype.visitState=function(t,e){},t.prototype.visitTransition=function(t,e){},t.prototype.visitAnimateChild=function(t,e){var n=e.subInstructions.consume(e.element);if(n){var r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t},t.prototype.visitAnimateRef=function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t},t.prototype._visitSubInstructions=function(t,e,n){var r=e.currentTimeline.currentTime,i=null!=n.duration?td(n.duration):null,o=null!=n.delay?td(n.delay):null;return 0!==i&&t.forEach(function(t){var n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r},t.prototype.visitReference=function(t,e){e.updateOptions(t.options,!0),md(this,t.animation,e),e.previousNode=t},t.prototype.visitSequence=function(t,e){var n=this,r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&((i=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Rd);var a=td(o.delay);i.delayNextStep(a)}t.steps.length&&(t.steps.forEach(function(t){return md(n,t,i)}),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t},t.prototype.visitGroup=function(t,e){var n=this,r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?td(t.options.delay):0;t.steps.forEach(function(a){var l=e.createSubContext(t.options);o&&l.delayNextStep(o),md(n,a,l),i=Math.max(i,l.currentTimeline.currentTime),r.push(l.currentTimeline)}),r.forEach(function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)}),e.transformIntoNewTimeline(i),e.previousNode=t},t.prototype._visitTiming=function(t,e){if(t.dynamic){var n=t.strValue;return nd(e.params?cd(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}},t.prototype.visitAnimate=function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());var i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t},t.prototype.visitStyle=function(t,e){var n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t},t.prototype.visitKeyframes=function(t,e){var n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(function(t){o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t},t.prototype.visitQuery=function(t,e){var n=this,r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?td(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Rd);var a=r,l=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=l.length;var s=null;l.forEach(function(r,i){e.currentQueryIndex=i;var l=e.createSubContext(t.options,r);o&&l.delayNextStep(o),r===e.element&&(s=l.currentTimeline),md(n,t.animation,l),l.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,l.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),s&&(e.currentTimeline.mergeTimelineCollectedStyles(s),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t},t.prototype.visitStagger=function(t,e){var n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),a=o*(e.currentQueryTotal-1),l=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime}var s=e.currentTimeline;l&&s.delayNextStep(l);var u=s.currentTime;md(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)},t}(),Rd={},Nd=function(){function t(t,e,n,r,i,o,a,l){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Rd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Fd(this._driver,e,0),a.push(this.currentTimeline)}return Object.defineProperty(t.prototype,"params",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),t.prototype.updateOptions=function(t,e){var n=this;if(t){var r=t,i=this.options;null!=r.duration&&(i.duration=td(r.duration)),null!=r.delay&&(i.delay=td(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach(function(t){e&&a.hasOwnProperty(t)||(a[t]=cd(o[t],a,n.errors))})}}},t.prototype._copyOptions=function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach(function(t){n[t]=e[t]})}}return t},t.prototype.createSubContext=function(e,n,r){void 0===e&&(e=null);var i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o},t.prototype.transformIntoNewTimeline=function(t){return this.previousNode=Rd,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline},t.prototype.appendInstructionToTimeline=function(t,e,n){var r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new zd(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r},t.prototype.incrementTime=function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)},t.prototype.delayNextStep=function(t){t>0&&this.currentTimeline.delayNextStep(t)},t.prototype.invokeQuery=function(t,e,n,r,i,o){var a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(Pd,"."+this._enterClassName)).replace(Id,"."+this._leaveClassName);var l=this._driver.query(this.element,t,1!=n);0!==n&&(l=n<0?l.slice(l.length+n,l.length):l.slice(0,n)),a.push.apply(a,s(l))}return i||0!=a.length||o.push('`query("'+e+'")` returned zero elements. (Use `query("'+e+'", { optional: true })` if you wish to allow this.)'),a},t}(),Fd=function(){function t(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}return t.prototype.containsAnimation=function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}},t.prototype.getCurrentStyleProperties=function(){return Object.keys(this._currentKeyframe)},Object.defineProperty(t.prototype,"currentTime",{get:function(){return this.startTime+this.duration},enumerable:!0,configurable:!0}),t.prototype.delayNextStep=function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t},t.prototype.fork=function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)},t.prototype._loadKeyframe=function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))},t.prototype.forwardFrame=function(){this.duration+=1,this._loadKeyframe()},t.prototype.forwardTime=function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()},t.prototype._updateStyle=function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}},t.prototype.allowOnlyTimelineStyles=function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe},t.prototype.applyEmptyStep=function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(function(t){e._backFill[t]=e._globalTimelineStyles[t]||Qu,e._currentKeyframe[t]=Qu}),this._currentEmptyStepKeyframe=this._currentKeyframe},t.prototype.setStyles=function(t,e,n,r){var i=this;e&&(this._previousKeyframe.easing=e);var o=r&&r.params||{},a=function(t,e){var n,r={};return t.forEach(function(t){"*"===t?(n=n||Object.keys(e)).forEach(function(t){r[t]=Qu}):id(t,!1,r)}),r}(t,this._globalTimelineStyles);Object.keys(a).forEach(function(t){var e=cd(a[t],o,n);i._pendingStyles[t]=e,i._localTimelineStyles.hasOwnProperty(t)||(i._backFill[t]=i._globalTimelineStyles.hasOwnProperty(t)?i._globalTimelineStyles[t]:Qu),i._updateStyle(t,e)})},t.prototype.applyStylesToKeyframe=function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){t._currentKeyframe[n]=e[n]}),Object.keys(this._localTimelineStyles).forEach(function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])}))},t.prototype.snapshotCurrentStyles=function(){var t=this;Object.keys(this._localTimelineStyles).forEach(function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)})},t.prototype.getFinalKeyframe=function(){return this._keyframes.get(this.duration)},Object.defineProperty(t.prototype,"properties",{get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t},enumerable:!0,configurable:!0}),t.prototype.mergeTimelineCollectedStyles=function(t){var e=this;Object.keys(t._styleSummary).forEach(function(n){var r=e._styleSummary[n],i=t._styleSummary[n];(!r||i.time>r.time)&&e._updateStyle(n,i.value)})},t.prototype.buildKeyframes=function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach(function(o,a){var l=id(o,!0);Object.keys(l).forEach(function(t){var r=l[t];r==nc?e.add(t):r==Qu&&n.add(t)}),r||(l.offset=a/t.duration),i.push(l)});var o=e.size?dd(e.values()):[],a=n.size?dd(n.values()):[];if(r){var l=i[0],s=rd(l);l.offset=0,s.offset=1,i=[l,s]}return Ed(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)},t}(),zd=function(t){function e(e,n,r,i,o,a,l){void 0===l&&(l=!1);var s=t.call(this,e,n,a.delay)||this;return s.element=n,s.keyframes=r,s.preStyleProps=i,s.postStyleProps=o,s._stretchStartingKeyframe=l,s.timings={duration:a.duration,delay:a.delay,easing:a.easing},s}return i(e,t),e.prototype.containsAnimation=function(){return this.keyframes.length>1},e.prototype.buildKeyframes=function(){var t=this.keyframes,e=this.timings,n=e.delay,r=e.duration,i=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,l=n/a,s=id(t[0],!1);s.offset=0,o.push(s);var u=id(t[0],!1);u.offset=jd(l),o.push(u);for(var c=t.length-1,d=1;d<=c;d++){var f=id(t[d],!1);f.offset=jd((n+f.offset*r)/a),o.push(f)}r=a,n=0,i="",t=o}return Ed(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)},e}(Fd);function jd(t,e){void 0===e&&(e=3);var n=Math.pow(10,e-1);return Math.round(t*n)/n}var Vd=function(){},Bd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.normalizePropertyName=function(t,e){return hd(t)},e.prototype.normalizeStyleValue=function(t,e,n,r){var i="",o=n.toString().trim();if(Hd[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for "+t+":"+n)}return o+i},e}(Vd),Hd=function(t){var e={};return"width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",").forEach(function(t){return e[t]=!0}),e}();function qd(t,e,n,r,i,o,a,l,s,u,c,d,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:l,queriedElements:s,preStyleProps:u,postStyleProps:c,totalTime:d,errors:f}}var Ud={},Gd=function(){function t(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}return t.prototype.match=function(t,e,n,r){return function(t,e,n,r,i){return t.some(function(t){return t(e,n,r,i)})}(this.ast.matchers,t,e,n,r)},t.prototype.buildStyles=function(t,e,n){var r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o},t.prototype.build=function(t,e,n,r,i,a,l,s,u){var c=[],d=this.ast.options&&this.ast.options.params||Ud,f=this.buildStyles(n,l&&l.params||Ud,c),h=s&&s.params||Ud,p=this.buildStyles(r,h,c),g=new Set,m=new Map,y=new Map,v="void"===r,b={params:o({},d,h)},_=Dd(t,e,this.ast.animation,i,a,f,p,b,u,c),x=0;if(_.forEach(function(t){x=Math.max(t.duration+t.delay,x)}),c.length)return qd(e,this._triggerName,n,r,v,f,p,[],[],m,y,x,c);_.forEach(function(t){var n=t.element,r=Nc(m,n,{});t.preStyleProps.forEach(function(t){return r[t]=!0});var i=Nc(y,n,{});t.postStyleProps.forEach(function(t){return i[t]=!0}),n!==e&&g.add(n)});var w=dd(g.values());return qd(e,this._triggerName,n,r,v,f,p,_,w,m,y,x)},t}(),Wd=function(){function t(t,e){this.styles=t,this.defaultParams=e}return t.prototype.buildStyles=function(t,e){var n={},r=rd(this.defaultParams);return Object.keys(t).forEach(function(e){var n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(function(t){if("string"!=typeof t){var i=t;Object.keys(i).forEach(function(t){var o=i[t];o.length>1&&(o=cd(o,r,e)),n[t]=o})}}),n},t}(),Yd=function(){function t(t,e){var n=this;this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(function(t){n.states[t.name]=new Wd(t.style,t.options&&t.options.params||{})}),Zd(this.states,"true","1"),Zd(this.states,"false","0"),e.transitions.forEach(function(e){n.transitionFactories.push(new Gd(t,e,n.states))}),this.fallbackTransition=new Gd(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return Object.defineProperty(t.prototype,"containsQueries",{get:function(){return this.ast.queryCount>0},enumerable:!0,configurable:!0}),t.prototype.matchTransition=function(t,e,n,r){return this.transitionFactories.find(function(i){return i.match(t,e,n,r)})||null},t.prototype.matchStyles=function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)},t}();function Zd(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var Xd=new Od,Qd=function(){function t(t,e){this._driver=t,this._normalizer=e,this._animations={},this._playersById={},this.players=[]}return t.prototype.register=function(t,e){var n=[],r=kd(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r},t.prototype._buildPlayer=function(t,e,n){var r=t.element,i=Ic(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)},t.prototype.create=function(t,e,n){var r=this;void 0===n&&(n={});var i,o=[],a=this._animations[t],l=new Map;if(a?(i=Dd(this._driver,e,a,"ng-enter","ng-leave",{},{},n,Xd,o)).forEach(function(t){var e=Nc(l,t.element,{});t.postStyleProps.forEach(function(t){return e[t]=null})}):(o.push("The requested animation doesn't exist or has already been destroyed"),i=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));l.forEach(function(t,e){Object.keys(t).forEach(function(n){t[n]=r._driver.computeStyle(e,n,Qu)})});var s=Pc(i.map(function(t){var e=l.get(t.element);return r._buildPlayer(t,{},e)}));return this._playersById[t]=s,s.onDestroy(function(){return r.destroy(t)}),this.players.push(s),s},t.prototype.destroy=function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)},t.prototype._getPlayer=function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e},t.prototype.listen=function(t,e,n,r){var i=Rc(e,"","","");return Dc(this._getPlayer(t),n,i,r),function(){}},t.prototype.command=function(t,e,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,r[0]||{});else this.register(t,r[0])},t}(),Kd=[],$d={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Jd={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},tf="__ng_removed",ef=function(){function t(t,e){void 0===e&&(e=""),this.namespaceId=e;var n=t&&t.hasOwnProperty("value");if(this.value=function(t){return null!=t?t:null}(n?t.value:t),n){var r=rd(t);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}return Object.defineProperty(t.prototype,"params",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),t.prototype.absorbOptions=function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach(function(t){null==n[t]&&(n[t]=e[t])})}},t}(),nf=new ef("void"),rf=new ef("DELETED"),of=function(){function t(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,hf(e,this._hostClassName)}return t.prototype.listen=function(t,e,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'+n+'" because the animation trigger "'+e+"\" doesn't exist!");if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'+e+'" because the provided event is undefined!');if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'+n+'" for the animation trigger "'+e+'" is not supported!');var a=Nc(this._elementListeners,t,[]),l={name:e,phase:n,callback:r};a.push(l);var s=Nc(this._engine.statesByElement,t,{});return s.hasOwnProperty(e)||(hf(t,"ng-trigger"),hf(t,"ng-trigger-"+e),s[e]=nf),function(){o._engine.afterFlush(function(){var t=a.indexOf(l);t>=0&&a.splice(t,1),o._triggers[e]||delete s[e]})}},t.prototype.register=function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)},t.prototype._getTrigger=function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'+t+'" has not been registered!');return e},t.prototype.trigger=function(t,e,n,r){var i=this;void 0===r&&(r=!0);var o=this._getTrigger(e),a=new lf(this.id,e,t),l=this._engine.statesByElement.get(t);l||(hf(t,"ng-trigger"),hf(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,l={}));var s=l[e],u=new ef(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&s&&u.absorbOptions(s.options),l[e]=u,s){if(s===rf)return a}else s=nf;if("void"===u.value||s.value!==u.value){var c=Nc(this._engine.playersByElement,t,[]);c.forEach(function(t){t.namespaceId==i.id&&t.triggerName==e&&t.queued&&t.destroy()});var d=o.matchTransition(s.value,u.value,t,u.params),f=!1;if(!d){if(!r)return;d=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:d,fromState:s,toState:u,player:a,isFallbackTransition:f}),f||(hf(t,"ng-animate-queued"),a.onStart(function(){pf(t,"ng-animate-queued")})),a.onDone(function(){var e=i.players.indexOf(a);e>=0&&i.players.splice(e,1);var n=i._engine.playersByElement.get(t);if(n){var r=n.indexOf(a);r>=0&&n.splice(r,1)}}),this.players.push(a),c.push(a),a}if(!function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(s.params,u.params)){var h=[],p=o.matchStyles(s.value,s.params,h),g=o.matchStyles(u.value,u.params,h);h.length?this._engine.reportError(h):this._engine.afterFlush(function(){ad(t,p),od(t,g)})}},t.prototype.deregister=function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach(function(e,n){delete e[t]}),this._elementListeners.forEach(function(n,r){e._elementListeners.set(r,n.filter(function(e){return e.name!=t}))})},t.prototype.clearElementCache=function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach(function(t){return t.destroy()}),this._engine.playersByElement.delete(t))},t.prototype._signalRemovalForInnerTriggers=function(t,e,n){var r=this;void 0===n&&(n=!1),this._engine.driver.query(t,".ng-trigger",!0).forEach(function(t){if(!t[tf]){var n=r._engine.fetchNamespacesByElement(t);n.size?n.forEach(function(n){return n.triggerLeaveAnimation(t,e,!1,!0)}):r.clearElementCache(t)}})},t.prototype.triggerLeaveAnimation=function(t,e,n,r){var i=this,o=this._engine.statesByElement.get(t);if(o){var a=[];if(Object.keys(o).forEach(function(e){if(i._triggers[e]){var n=i.trigger(t,e,"void",r);n&&a.push(n)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Pc(a).onDone(function(){return i._engine.processLeaveNode(t)}),!0}return!1},t.prototype.prepareLeaveAnimationListeners=function(t){var e=this,n=this._elementListeners.get(t);if(n){var r=new Set;n.forEach(function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=e._triggers[i].fallbackTransition,a=e._engine.statesByElement.get(t)[i]||nf,l=new ef("void"),s=new lf(e.id,i,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:i,transition:o,fromState:a,toState:l,player:s,isFallbackTransition:!0})}})}},t.prototype.removeNode=function(t,e){var n=this,r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),!this.triggerLeaveAnimation(t,e,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else for(var a=t;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}this.prepareLeaveAnimationListeners(t),i?r.markElementAsRemoved(this.id,t,!1,e):(r.afterFlush(function(){return n.clearElementCache(t)}),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}},t.prototype.insertNode=function(t,e){hf(t,this._hostClassName)},t.prototype.drainQueuedTransitions=function(t){var e=this,n=[];return this._queue.forEach(function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=e._elementListeners.get(o);a&&a.forEach(function(e){if(e.name==r.triggerName){var n=Rc(o,r.triggerName,r.fromState.value,r.toState.value);n._data=t,Dc(r.player,e.phase,n,e.callback)}}),i.markedForDestroy?e._engine.afterFlush(function(){i.destroy()}):n.push(r)}}),this._queue=[],n.sort(function(t,n){var r=t.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:e._engine.driver.containsElement(t.element,n.element)?1:-1})},t.prototype.destroy=function(t){this.players.forEach(function(t){return t.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,t)},t.prototype.elementContainsData=function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),!!this._queue.find(function(e){return e.element===t})||e},t}(),af=function(){function t(t,e){this.driver=t,this._normalizer=e,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return t.prototype._onRemovalComplete=function(t,e){this.onRemovalComplete(t,e)},Object.defineProperty(t.prototype,"queuedPlayers",{get:function(){var t=[];return this._namespaceList.forEach(function(e){e.players.forEach(function(e){e.queued&&t.push(e)})}),t},enumerable:!0,configurable:!0}),t.prototype.createNamespace=function(t,e){var n=new of(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n},t.prototype._balanceNamespaceList=function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t},t.prototype.register=function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n},t.prototype.registerTrigger=function(t,e,n){var r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++},t.prototype.destroy=function(t,e){var n=this;if(t){var r=this._fetchNamespace(t);this.afterFlush(function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(r);e>=0&&n._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(function(){return r.destroy(e)})}},t.prototype._fetchNamespace=function(t){return this._namespaceLookup[t]},t.prototype.fetchNamespacesByElement=function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&e.add(a)}}return e},t.prototype.trigger=function(t,e,n,r){if(sf(e)){var i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1},t.prototype.insertNode=function(t,e,n,r){if(sf(e)){var i=e[tf];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var a=this._fetchNamespace(t);a&&a.insertNode(e,n)}r&&this.collectEnterElement(e)}},t.prototype.collectEnterElement=function(t){this.collectedEnterElements.push(t)},t.prototype.markElementAsDisabled=function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),hf(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),pf(t,"ng-animate-disabled"))},t.prototype.removeNode=function(t,e,n){if(sf(e)){var r=t?this._fetchNamespace(t):null;r?r.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n)}else this._onRemovalComplete(e,n)},t.prototype.markElementAsRemoved=function(t,e,n,r){this.collectedLeaveElements.push(e),e[tf]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}},t.prototype.listen=function(t,e,n,r,i){return sf(e)?this._fetchNamespace(t).listen(e,n,r,i):function(){}},t.prototype._buildInstruction=function(t,e,n,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e)},t.prototype.destroyInnerAnimations=function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach(function(t){return e.destroyActiveAnimationsForElement(t)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach(function(t){return e.finishActiveQueriedAnimationOnElement(t)})},t.prototype.destroyActiveAnimationsForElement=function(t){var e=this.playersByElement.get(t);e&&e.forEach(function(t){t.queued?t.markedForDestroy=!0:t.destroy()});var n=this.statesByElement.get(t);n&&Object.keys(n).forEach(function(t){return n[t]=rf})},t.prototype.finishActiveQueriedAnimationOnElement=function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach(function(t){return t.finish()})},t.prototype.whenRenderingDone=function(){var t=this;return new Promise(function(e){if(t.players.length)return Pc(t.players).onDone(function(){return e()});e()})},t.prototype.processLeaveNode=function(t){var e=this,n=t[tf];if(n&&n.setForRemoval){if(t[tf]=$d,n.namespaceId){this.destroyInnerAnimations(t);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(function(n){e.markElementAsDisabled(t,!1)})},t.prototype.flush=function(t){var e=this;void 0===t&&(t=-1);var n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(t,n){return e._balanceNamespaceList(t,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)hf(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,t)}finally{for(r=0;r<i.length;r++)i[r]()}}else for(r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(t){return t()}),this._flushFns=[],this._whenQuietFns.length){var o=this._whenQuietFns;this._whenQuietFns=[],n.length?Pc(n).onDone(function(){o.forEach(function(t){return t()})}):o.forEach(function(t){return t()})}},t.prototype.reportError=function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))},t.prototype._flushAnimations=function(t,e){var n=this,r=new Od,i=[],a=new Map,l=[],u=new Map,c=new Map,d=new Map,f=new Set;this.disabledNodes.forEach(function(t){f.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),r=0;r<e.length;r++)f.add(e[r])});var h=Wc(),p=Array.from(this.statesByElement.keys()),g=df(p,this.collectedEnterElements),m=new Map,y=0;g.forEach(function(t,e){var n="ng-enter"+y++;m.set(e,n),t.forEach(function(t){return hf(t,n)})});for(var v=[],b=new Set,_=new Set,x=0;x<this.collectedLeaveElements.length;x++)(z=(F=this.collectedLeaveElements[x])[tf])&&z.setForRemoval&&(v.push(F),b.add(F),z.hasAnimation?this.driver.query(F,".ng-star-inserted",!0).forEach(function(t){return b.add(t)}):_.add(F));var w=new Map,k=df(p,Array.from(b));k.forEach(function(t,e){var n="ng-leave"+y++;w.set(e,n),t.forEach(function(t){return hf(t,n)})}),t.push(function(){g.forEach(function(t,e){var n=m.get(e);t.forEach(function(t){return pf(t,n)})}),k.forEach(function(t,e){var n=w.get(e);t.forEach(function(t){return pf(t,n)})}),v.forEach(function(t){n.processLeaveNode(t)})});for(var T=[],C=[],A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(function(t){var e=t.player,o=t.element;if(T.push(e),n.collectedEnterElements.length){var a=o[tf];if(a&&a.setForMove)return void e.destroy()}if(h&&n.driver.containsElement(h,o)){var s=w.get(o),f=m.get(o),p=n._buildInstruction(t,r,f,s);if(p.errors&&p.errors.length)C.push(p);else{if(t.isFallbackTransition)return e.onStart(function(){return ad(o,p.fromStyles)}),e.onDestroy(function(){return od(o,p.toStyles)}),void i.push(e);p.timelines.forEach(function(t){return t.stretchStartingKeyframe=!0}),r.append(o,p.timelines),l.push({instruction:p,player:e,element:o}),p.queriedElements.forEach(function(t){return Nc(u,t,[]).push(e)}),p.preStyleProps.forEach(function(t,e){var n=Object.keys(t);if(n.length){var r=c.get(e);r||c.set(e,r=new Set),n.forEach(function(t){return r.add(t)})}}),p.postStyleProps.forEach(function(t,e){var n=Object.keys(t),r=d.get(e);r||d.set(e,r=new Set),n.forEach(function(t){return r.add(t)})})}}else e.destroy()});if(C.length){var M=[];C.forEach(function(t){M.push("@"+t.triggerName+" has failed due to:\n"),t.errors.forEach(function(t){return M.push("- "+t+"\n")})}),T.forEach(function(t){return t.destroy()}),this.reportError(M)}var S=new Map,E=new Map;l.forEach(function(t){var e=t.element;r.has(e)&&(E.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,S))}),i.forEach(function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(function(t){Nc(S,e,[]).push(t),t.destroy()})});var O=v.filter(function(t){return mf(t,c,d)}),P=new Map;cf(P,this.driver,_,d,Qu).forEach(function(t){mf(t,c,d)&&O.push(t)});var I=new Map;g.forEach(function(t,e){cf(I,n.driver,new Set(t),c,nc)}),O.forEach(function(t){var e=P.get(t),n=I.get(t);P.set(t,o({},e,n))});var D=[],L=[],R={};l.forEach(function(t){var e=t.element,o=t.player,l=t.instruction;if(r.has(e)){if(f.has(e))return o.onDestroy(function(){return od(e,l.toStyles)}),o.disabled=!0,o.overrideTotalTime(l.totalTime),void i.push(o);var s=R;if(E.size>1){for(var u=e,c=[];u=u.parentNode;){var d=E.get(u);if(d){s=d;break}c.push(u)}c.forEach(function(t){return E.set(t,s)})}var h=n._buildAnimation(o.namespaceId,l,S,a,I,P);if(o.setRealPlayer(h),s===R)D.push(o);else{var p=n.playersByElement.get(s);p&&p.length&&(o.parentPlayer=Pc(p)),i.push(o)}}else ad(e,l.fromStyles),o.onDestroy(function(){return od(e,l.toStyles)}),L.push(o),f.has(e)&&i.push(o)}),L.forEach(function(t){var e=a.get(t.element);if(e&&e.length){var n=Pc(e);t.setRealPlayer(n)}}),i.forEach(function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(var N=0;N<v.length;N++){var F,z=(F=v[N])[tf];if(pf(F,"ng-leave"),!z||!z.hasAnimation){var j=[];if(u.size){var V=u.get(F);V&&V.length&&j.push.apply(j,s(V));for(var B=this.driver.query(F,".ng-animating",!0),H=0;H<B.length;H++){var q=u.get(B[H]);q&&q.length&&j.push.apply(j,s(q))}}var U=j.filter(function(t){return!t.destroyed});U.length?gf(this,F,U):this.processLeaveNode(F)}}return v.length=0,D.forEach(function(t){n.players.push(t),t.onDone(function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)}),t.play()}),D},t.prototype.elementContainsData=function(t,e){var n=!1,r=e[tf];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n},t.prototype.afterFlush=function(t){this._flushFns.push(t)},t.prototype.afterFlushAnimationsDone=function(t){this._whenQuietFns.push(t)},t.prototype._getPreviousPlayers=function(t,e,n,r,i){var o=[];if(e){var a=this.playersByQueriedElement.get(t);a&&(o=a)}else{var l=this.playersByElement.get(t);if(l){var s=!i||"void"==i;l.forEach(function(t){t.queued||(s||t.triggerName==r)&&o.push(t)})}}return(n||r)&&(o=o.filter(function(t){return!(n&&n!=t.namespaceId||r&&r!=t.triggerName)})),o},t.prototype._beforeAnimationBuild=function(t,e,n){var r,i,o=e.element,l=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName,u=function(t){var r=t.element,i=r!==o,a=Nc(n,r,[]);c._getPreviousPlayers(r,i,l,s,e.toState).forEach(function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),a.push(t)})},c=this;try{for(var d=a(e.timelines),f=d.next();!f.done;f=d.next())u(f.value)}catch(t){r={error:t}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}ad(o,e.fromStyles)},t.prototype._buildAnimation=function(t,e,n,r,i,o){var a=this,l=e.triggerName,s=e.element,u=[],c=new Set,d=new Set,f=e.timelines.map(function(e){var f=e.element;c.add(f);var h=f[tf];if(h&&h.removedBeforeQueried)return new tc(e.duration,e.delay);var p,g,m=f!==s,y=(p=(n.get(f)||Kd).map(function(t){return t.getRealPlayer()}),g=[],function t(e,n){for(var r=0;r<e.length;r++){var i=e[r];i instanceof ec?t(i.players,n):n.push(i)}}(p,g),g).filter(function(t){return!!t.element&&t.element===f}),v=i.get(f),b=o.get(f),_=Ic(0,a._normalizer,0,e.keyframes,v,b),x=a._buildPlayer(e,_,y);if(e.subTimeline&&r&&d.add(f),m){var w=new lf(t,l,f);w.setRealPlayer(x),u.push(w)}return x});u.forEach(function(t){Nc(a.playersByQueriedElement,t.element,[]).push(t),t.onDone(function(){return function(t,e,n){var r;if(t instanceof Map){if(r=t.get(e)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}}else(r=t[e])&&(r.length&&(i=r.indexOf(n),r.splice(i,1)),0==r.length&&delete t[e]);return r}(a.playersByQueriedElement,t.element,t)})}),c.forEach(function(t){return hf(t,"ng-animating")});var h=Pc(f);return h.onDestroy(function(){c.forEach(function(t){return pf(t,"ng-animating")}),od(s,e.toStyles)}),d.forEach(function(t){Nc(r,t,[]).push(h)}),h},t.prototype._buildPlayer=function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new tc(t.duration,t.delay)},t}(),lf=function(){function t(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new tc,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return t.prototype.setRealPlayer=function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(function(n){e._queuedCallbacks[n].forEach(function(e){return Dc(t,n,void 0,e)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)},t.prototype.getRealPlayer=function(){return this._player},t.prototype.overrideTotalTime=function(t){this.totalTime=t},t.prototype.syncPlayerEvents=function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart(function(){return n.triggerCallback("start")}),t.onDone(function(){return e.finish()}),t.onDestroy(function(){return e.destroy()})},t.prototype._queueEvent=function(t,e){Nc(this._queuedCallbacks,t,[]).push(e)},t.prototype.onDone=function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)},t.prototype.onStart=function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)},t.prototype.onDestroy=function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)},t.prototype.init=function(){this._player.init()},t.prototype.hasStarted=function(){return!this.queued&&this._player.hasStarted()},t.prototype.play=function(){!this.queued&&this._player.play()},t.prototype.pause=function(){!this.queued&&this._player.pause()},t.prototype.restart=function(){!this.queued&&this._player.restart()},t.prototype.finish=function(){this._player.finish()},t.prototype.destroy=function(){this.destroyed=!0,this._player.destroy()},t.prototype.reset=function(){!this.queued&&this._player.reset()},t.prototype.setPosition=function(t){this.queued||this._player.setPosition(t)},t.prototype.getPosition=function(){return this.queued?0:this._player.getPosition()},t.prototype.triggerCallback=function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)},t}();function sf(t){return t&&1===t.nodeType}function uf(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function cf(t,e,n,r,i){var o=[];n.forEach(function(t){return o.push(uf(t))});var a=[];r.forEach(function(n,r){var o={};n.forEach(function(t){var n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r[tf]=Jd,a.push(r))}),t.set(r,o)});var l=0;return n.forEach(function(t){return uf(t,o[l++])}),a}function df(t,e){var n=new Map;if(t.forEach(function(t){return n.set(t,[])}),0==e.length)return n;var r=new Set(e),i=new Map;return e.forEach(function(t){var e=function t(e){if(!e)return 1;var o=i.get(e);if(o)return o;var a=e.parentNode;return o=n.has(a)?a:r.has(a)?1:t(a),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)}),n}var ff="$$classes";function hf(t,e){if(t.classList)t.classList.add(e);else{var n=t[ff];n||(n=t[ff]={}),n[e]=!0}}function pf(t,e){if(t.classList)t.classList.remove(e);else{var n=t[ff];n&&delete n[e]}}function gf(t,e,n){Pc(n).onDone(function(){return t.processLeaveNode(e)})}function mf(t,e,n){var r=n.get(t);if(!r)return!1;var i=e.get(t);return i?r.forEach(function(t){return i.add(t)}):e.set(t,r),n.delete(t),!0}var yf=function(){function t(t,e){var n=this;this._driver=t,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new af(t,e),this._timelineEngine=new Qd(t,e),this._transitionEngine.onRemovalComplete=function(t,e){return n.onRemovalComplete(t,e)}}return t.prototype.registerTrigger=function(t,e,n,r,i){var o=t+"-"+r,a=this._triggerCache[o];if(!a){var l=[],s=kd(this._driver,i,l);if(l.length)throw new Error('The animation trigger "'+r+'" has failed to build due to the following errors:\n - '+l.join("\n - "));a=function(t,e){return new Yd(t,e)}(r,s),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)},t.prototype.register=function(t,e){this._transitionEngine.register(t,e)},t.prototype.destroy=function(t,e){this._transitionEngine.destroy(t,e)},t.prototype.onInsert=function(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)},t.prototype.onRemove=function(t,e,n){this._transitionEngine.removeNode(t,e,n)},t.prototype.disableAnimations=function(t,e){this._transitionEngine.markElementAsDisabled(t,e)},t.prototype.process=function(t,e,n,r){if("@"==n.charAt(0)){var i=l(Fc(n),2);this._timelineEngine.command(i[0],e,i[1],r)}else this._transitionEngine.trigger(t,e,n,r)},t.prototype.listen=function(t,e,n,r,i){if("@"==n.charAt(0)){var o=l(Fc(n),2);return this._timelineEngine.listen(o[0],e,o[1],i)}return this._transitionEngine.listen(t,e,n,r,i)},t.prototype.flush=function(t){void 0===t&&(t=-1),this._transitionEngine.flush(t)},Object.defineProperty(t.prototype,"players",{get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)},enumerable:!0,configurable:!0}),t.prototype.whenRenderingDone=function(){return this._transitionEngine.whenRenderingDone()},t}(),vf="animation",bf="animationend",_f=function(){function t(t,e,n,r,i,o,a){var l=this;this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return l._handleCallback(t)}}return t.prototype.apply=function(){var t,e,n;e=this._duration+"ms "+this._easing+" "+this._delay+"ms 1 normal "+this._fillMode+" "+this._name,(n=Af(t=this._element,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)","===t.charAt(n)&&0}(n),e=n+", "+e),Cf(t,"",e),Tf(this._element,this._eventFn,!1),this._startTime=Date.now()},t.prototype.pause=function(){xf(this._element,this._name,"paused")},t.prototype.resume=function(){xf(this._element,this._name,"running")},t.prototype.setPosition=function(t){var e=wf(this._element,this._name);this._position=t*this._duration,Cf(this._element,"Delay","-"+this._position+"ms",e)},t.prototype.getPosition=function(){return this._position},t.prototype._handleCallback=function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()},t.prototype.finish=function(){this._finished||(this._finished=!0,this._onDoneFn(),Tf(this._element,this._eventFn,!0))},t.prototype.destroy=function(){var t,e,n,r;this._destroyed||(this._destroyed=!0,this.finish(),e=this._name,(r=kf(n=Af(t=this._element,"").split(","),e))>=0&&(n.splice(r,1),Cf(t,"",n.join(","))))},t}();function xf(t,e,n){Cf(t,"PlayState",n,wf(t,e))}function wf(t,e){var n=Af(t,"");return n.indexOf(",")>0?kf(n.split(","),e):kf([n],e)}function kf(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Tf(t,e,n){n?t.removeEventListener(bf,e):t.addEventListener(bf,e)}function Cf(t,e,n,r){var i=vf+e;if(null!=r){var o=t.style[i];if(o.length){var a=o.split(",");a[r]=n,n=a.join(",")}}t.style[i]=n}function Af(t,e){return t.style[vf+e]}var Mf="linear",Sf=function(t){return t[t.INITIALIZED=1]="INITIALIZED",t[t.STARTED=2]="STARTED",t[t.FINISHED=3]="FINISHED",t[t.DESTROYED=4]="DESTROYED",t}({}),Ef=function(){function t(t,e,n,r,i,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this.state=0,this.easing=o||Mf,this.totalTime=r+i,this._buildStyler()}return t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.destroy=function(){this.init(),this.state>=Sf.DESTROYED||(this.state=Sf.DESTROYED,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype._flushDoneFns=function(){this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[]},t.prototype._flushStartFns=function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]},t.prototype.finish=function(){this.init(),this.state>=Sf.FINISHED||(this.state=Sf.FINISHED,this._styler.finish(),this._flushStartFns(),this._flushDoneFns())},t.prototype.setPosition=function(t){this._styler.setPosition(t)},t.prototype.getPosition=function(){return this._styler.getPosition()},t.prototype.hasStarted=function(){return this.state>=Sf.STARTED},t.prototype.init=function(){this.state>=Sf.INITIALIZED||(this.state=Sf.INITIALIZED,this._styler.apply(),this._delay&&this._styler.pause())},t.prototype.play=function(){this.init(),this.hasStarted()||(this._flushStartFns(),this.state=Sf.STARTED),this._styler.resume()},t.prototype.pause=function(){this.init(),this._styler.pause()},t.prototype.restart=function(){this.reset(),this.play()},t.prototype.reset=function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()},t.prototype._buildStyler=function(){var t=this;this._styler=new _f(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return t.finish()})},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0},t.prototype.beforeDestroy=function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this.state>=Sf.FINISHED;Object.keys(this._finalStyles).forEach(function(r){"offset"!=r&&(e[r]=n?t._finalStyles[r]:yd(t.element,r))})}this.currentSnapshot=e},t}(),Of=function(t){function e(e,n){var r=t.call(this)||this;return r.element=e,r._startingStyles={},r.__initialized=!1,r._styles=Qc(n),r}return i(e,t),e.prototype.init=function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(function(t){e._startingStyles[t]=e.element.style[t]}),t.prototype.init.call(this))},e.prototype.play=function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(function(t){return e.element.style.setProperty(t,e._styles[t])}),t.prototype.play.call(this))},e.prototype.destroy=function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach(function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)}),this._startingStyles=null,t.prototype.destroy.call(this))},e}(tc),Pf=function(){function t(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return t.prototype.validateStyleProperty=function(t){return Gc(t)},t.prototype.matchesElement=function(t,e){return Yc(t,e)},t.prototype.containsElement=function(t,e){return Zc(t,e)},t.prototype.query=function(t,e,n){return Xc(t,e,n)},t.prototype.computeStyle=function(t,e,n){return window.getComputedStyle(t)[e]},t.prototype.buildKeyframeElement=function(t,e,n){var r="@keyframes "+e+" {\n",i="";(n=n.map(function(t){return Qc(t)})).forEach(function(t){i=" ";var e=parseFloat(t.offset);r+=""+i+100*e+"% {\n",i+=" ",Object.keys(t).forEach(function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=i+"animation-timing-function: "+n+";\n"));default:return void(r+=""+i+e+": "+n+";\n")}}),r+=i+"}\n"}),r+="}\n";var o=document.createElement("style");return o.innerHTML=r,o},t.prototype.animate=function(t,e,n,r,i,o,a){void 0===o&&(o=[]),a&&this._notifyFaultyScrubber();var l=o.filter(function(t){return t instanceof Ef}),s={};pd(n,r)&&l.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return s[t]=e[t]})});var u=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach(function(t){Object.keys(t).forEach(function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=gd(t,e,s));if(0==n)return new Of(t,u);var c="gen_css_kf_"+this._count++,d=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(d);var f=new Ef(t,e,c,n,r,i,u);return f.onDestroy(function(){var t;(t=d).parentNode.removeChild(t)}),f},t.prototype._notifyFaultyScrubber=function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)},t}(),If=function(){function t(t,e,n){this.element=t,this.keyframes=e,this.options=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.init=function(){this._buildPlayer(),this._preparePlayerBeforeStart()},t.prototype._buildPlayer=function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",function(){return t._onFinish()})}},t.prototype._preparePlayerBeforeStart=function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()},t.prototype._triggerWebAnimation=function(t,e,n){return t.animate(e,n)},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.play=function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[],this._started=!0),this.domPlayer.play()},t.prototype.pause=function(){this.init(),this.domPlayer.pause()},t.prototype.finish=function(){this.init(),this._onFinish(),this.domPlayer.finish()},t.prototype.reset=function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1},t.prototype._resetDomPlayerState=function(){this.domPlayer&&this.domPlayer.cancel()},t.prototype.restart=function(){this.reset(),this.play()},t.prototype.hasStarted=function(){return this._started},t.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype.setPosition=function(t){this.domPlayer.currentTime=t*this.time},t.prototype.getPosition=function(){return this.domPlayer.currentTime/this.time},Object.defineProperty(t.prototype,"totalTime",{get:function(){return this._delay+this._duration},enumerable:!0,configurable:!0}),t.prototype.beforeDestroy=function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:yd(t.element,n))}),this.currentSnapshot=e},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0},t}(),Df=function(){function t(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Lf().toString()),this._cssKeyframesDriver=new Pf}return t.prototype.validateStyleProperty=function(t){return Gc(t)},t.prototype.matchesElement=function(t,e){return Yc(t,e)},t.prototype.containsElement=function(t,e){return Zc(t,e)},t.prototype.query=function(t,e,n){return Xc(t,e,n)},t.prototype.computeStyle=function(t,e,n){return window.getComputedStyle(t)[e]},t.prototype.overrideWebAnimationsSupport=function(t){this._isNativeImpl=t},t.prototype.animate=function(t,e,n,r,i,o,a){if(void 0===o&&(o=[]),!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);var l={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(l.easing=i);var s={},u=o.filter(function(t){return t instanceof If});return pd(n,r)&&u.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return s[t]=e[t]})}),e=gd(t,e=e.map(function(t){return id(t,!1)}),s),new If(t,e,l)},t}();function Lf(){return"undefined"!=typeof Element&&Element.prototype.animate||{}}var Rf=function(t){function e(e,n){var r=t.call(this)||this;return r._nextAnimationId=0,r._renderer=e.createRenderer(n.body,{id:"0",encapsulation:$t.None,styles:[],data:{animation:[]}}),r}return i(e,t),e.prototype.build=function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?Ku(t):t;return zf(this._renderer,null,e,"register",[n]),new Nf(e,this._renderer)},e}(Xu),Nf=function(t){function e(e,n){var r=t.call(this)||this;return r._id=e,r._renderer=n,r}return i(e,t),e.prototype.create=function(t,e){return new Ff(this._id,t,e||{},this._renderer)},e}(function(){}),Ff=function(){function t(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}return t.prototype._listen=function(t,e){return this._renderer.listen(this.element,"@@"+this.id+":"+t,e)},t.prototype._command=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return zf(this._renderer,this.element,this.id,t,e)},t.prototype.onDone=function(t){this._listen("done",t)},t.prototype.onStart=function(t){this._listen("start",t)},t.prototype.onDestroy=function(t){this._listen("destroy",t)},t.prototype.init=function(){this._command("init")},t.prototype.hasStarted=function(){return this._started},t.prototype.play=function(){this._command("play"),this._started=!0},t.prototype.pause=function(){this._command("pause")},t.prototype.restart=function(){this._command("restart")},t.prototype.finish=function(){this._command("finish")},t.prototype.destroy=function(){this._command("destroy")},t.prototype.reset=function(){this._command("reset")},t.prototype.setPosition=function(t){this._command("setPosition",t)},t.prototype.getPosition=function(){return 0},t}();function zf(t,e,n,r,i){return t.setProperty(e,"@@"+n+":"+r,i)}var jf=function(){function t(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return t.prototype.createRenderer=function(t,e){var n=this,r=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var i=this._rendererCache.get(r);return i||(i=new Vf("",r,this.engine),this._rendererCache.set(r,i)),i}var o=e.id,a=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,t),e.data.animation.forEach(function(e){return n.engine.registerTrigger(o,a,t,e.name,e)}),new Bf(this,a,r,this.engine)},t.prototype.begin=function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()},t.prototype._scheduleCountTask=function(){var t=this;this.promise.then(function(){t._microtaskId++})},t.prototype.scheduleListenerCallback=function(t,e,n){var r=this;t>=0&&t<this._microtaskId?this._zone.run(function(){return e(n)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){r._zone.run(function(){r._animationCallbacksBuffer.forEach(function(t){var e=l(t,2);(0,e[0])(e[1])}),r._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))},t.prototype.end=function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)}),this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.engine.whenRenderingDone()},t}(),Vf=function(){function t(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?function(t){return e.destroyNode(t)}:null}return Object.defineProperty(t.prototype,"data",{get:function(){return this.delegate.data},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()},t.prototype.createElement=function(t,e){return this.delegate.createElement(t,e)},t.prototype.createComment=function(t){return this.delegate.createComment(t)},t.prototype.createText=function(t){return this.delegate.createText(t)},t.prototype.appendChild=function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)},t.prototype.insertBefore=function(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)},t.prototype.removeChild=function(t,e){this.engine.onRemove(this.namespaceId,e,this.delegate)},t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setAttribute=function(t,e,n,r){this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)},t.prototype.setValue=function(t,e){this.delegate.setValue(t,e)},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.disableAnimations=function(t,e){this.engine.disableAnimations(t,e)},t}(),Bf=function(t){function e(e,n,r,i){var o=t.call(this,n,r,i)||this;return o.factory=e,o.namespaceId=n,o}return i(e,t),e.prototype.setProperty=function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)},e.prototype.listen=function(t,e,n){var r,i,o,a=this;if("@"==e.charAt(0)){var s=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),u=e.substr(1),c="";return"@"!=u.charAt(0)&&(u=(r=l((i=u,o=i.indexOf("."),[i.substring(0,o),i.substr(o+1)]),2))[0],c=r[1]),this.engine.listen(this.namespaceId,s,u,c,function(t){a.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)},e}(Vf),Hf=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e}(yf);function qf(){return"function"==typeof Lf()?new Df:new Pf}function Uf(){return new Bd}function Gf(t,e,n){return new jf(t,e,n)}var Wf=new ft("AnimationModuleType"),Yf=function(){};function Zf(t,e,n,r){return u(n)&&(r=n,n=void 0),r?Zf(t,e,n).pipe(H(function(t){return p(t)?r.apply(void 0,t):r(t)})):new S(function(r){!function t(e,n,r,i,o){var a;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var l=e;e.addEventListener(n,r,o),a=function(){return l.removeEventListener(n,r,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var s=e;e.on(n,r),a=function(){return s.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var u=e;e.addListener(n,r),a=function(){return u.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var c=0,d=e.length;c<d;c++)t(e[c],n,r,i,o)}i.add(a)}(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}Object;var Xf=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new Qf(t,this.durationSelector))},t}(),Qf=function(t){function e(e,n){var r=t.call(this,e)||this;return r.durationSelector=n,r.hasValue=!1,r}return i(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=b(this.durationSelector)(t);if(e===y)this.destination.error(y.e);else{var n=V(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},e.prototype.clearThrottle=function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))},e.prototype.notifyNext=function(t,e,n,r){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(B);function Kf(t){return!p(t)&&t-parseFloat(t)+1>=0}function $f(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Jf(t,e){return void 0===e&&(e=bc),n=function(){return function(t,e,n){void 0===t&&(t=0);var r=-1;return Kf(e)?r=Number(e)<1?1:Number(e):O(e)&&(n=e),O(n)||(n=bc),new S(function(e){var i=Kf(t)?t:+t-n.now();return n.schedule($f,i,{index:0,period:r,subscriber:e})})}(t,e)},function(t){return t.lift(new Xf(n))};var n}function th(t,e){return function(n){return n.lift(new eh(t,e))}}var eh=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new nh(t,this.predicate,this.thisArg))},t}(),nh=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return i(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(T),rh=function(){function t(t,e){this._ngZone=t,this._platform=e,this._scrolled=new nt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}return t.prototype.register=function(t){var e=this,n=t.elementScrolled().subscribe(function(){return e._scrolled.next(t)});this.scrollContainers.set(t,n)},t.prototype.deregister=function(t){var e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))},t.prototype.scrolled=function(t){var e=this;return void 0===t&&(t=20),this._platform.isBrowser?S.create(function(n){e._globalSubscription||e._addGlobalListener();var r=t>0?e._scrolled.pipe(Jf(t)).subscribe(n):e._scrolled.subscribe(n);return e._scrolledCount++,function(){r.unsubscribe(),e._scrolledCount--,e._scrolledCount||e._removeGlobalListener()}}):Zu()},t.prototype.ngOnDestroy=function(){var t=this;this._removeGlobalListener(),this.scrollContainers.forEach(function(e,n){return t.deregister(n)}),this._scrolled.complete()},t.prototype.ancestorScrolled=function(t,e){var n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(th(function(t){return!t||n.indexOf(t)>-1}))},t.prototype.getAncestorScrollContainers=function(t){var e=this,n=[];return this.scrollContainers.forEach(function(r,i){e._scrollableContainsElement(i,t)&&n.push(i)}),n},t.prototype._scrollableContainsElement=function(t,e){var n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1},t.prototype._addGlobalListener=function(){var t=this;this._globalSubscription=this._ngZone.runOutsideAngular(function(){return Zf(window.document,"scroll").subscribe(function(){return t._scrolled.next()})})},t.prototype._removeGlobalListener=function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)},t.ngInjectableDef=dt({factory:function(){return new t(Kt(Ne),Kt(es))},token:t,providedIn:"root"}),t}(),ih=function(){function t(t,e){var n=this;this._platform=t,this._change=t.isBrowser?e.runOutsideAngular(function(){return $(Zf(window,"resize"),Zf(window,"orientationchange"))}):Zu(),this._invalidateCache=this.change().subscribe(function(){return n._updateViewportSize()})}return t.prototype.ngOnDestroy=function(){this._invalidateCache.unsubscribe()},t.prototype.getViewportSize=function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t},t.prototype.getViewportRect=function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),n=e.width,r=e.height;return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+n,height:r,width:n}},t.prototype.getViewportScrollPosition=function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=document.documentElement.getBoundingClientRect();return{top:-t.top||document.body.scrollTop||window.scrollY||document.documentElement.scrollTop||0,left:-t.left||document.body.scrollLeft||window.scrollX||document.documentElement.scrollLeft||0}},t.prototype.change=function(t){return void 0===t&&(t=20),t>0?this._change.pipe(Jf(t)):this._change},t.prototype._updateViewportSize=function(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}},t.ngInjectableDef=dt({factory:function(){return new t(Kt(es),Kt(Ne))},token:t,providedIn:"root"}),t}(),oh=function(){},ah=Or({encapsulation:2,styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:0}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}@media (max-width:599px){.mat-tab-label{padding:0 12px}}@media (max-width:959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs] .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height .5s cubic-bezier(.35,0,.25,1)}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}"],data:{}});function lh(t){return vo(0,[(t()(),ri(0,null,null,0))],null,null)}function sh(t){return vo(0,[(t()(),ri(16777216,null,null,1,null,lh)),Gi(1,212992,null,0,kl,[Me,dn],{portal:[0,"portal"]},null),(t()(),ri(0,null,null,0))],function(t,e){t(e,1,0,e.parent.context.$implicit.templateLabel)},null)}function uh(t){return vo(0,[(t()(),go(0,null,["",""]))],null,function(t,e){t(e,0,0,e.parent.context.$implicit.textLabel)})}function ch(t){return vo(0,[(t()(),ii(0,0,null,null,7,"div",[["class","mat-tab-label mat-ripple"],["mat-ripple",""],["matTabLabelWrapper",""],["role","tab"]],[[8,"id",0],[1,"tabIndex",0],[1,"aria-controls",0],[1,"aria-selected",0],[2,"mat-tab-label-active",null],[2,"mat-ripple-unbounded",null],[2,"mat-tab-disabled",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component._handleClick(t.context.$implicit,Ii(t.parent,3),t.context.index)&&r),r},null,null)),Gi(1,212992,null,0,Du,[sn,Ne,es,[2,Iu],[2,Wf]],{disabled:[0,"disabled"]},null),Gi(2,16384,[[3,4]],0,fc,[sn],{disabled:[0,"disabled"]},null),(t()(),ii(3,0,null,null,4,"div",[["class","mat-tab-label-content"]],null,null,null,null,null)),(t()(),ri(16777216,null,null,1,null,sh)),Gi(5,16384,null,0,Bl,[dn,cn],{ngIf:[0,"ngIf"]},null),(t()(),ri(16777216,null,null,1,null,uh)),Gi(7,16384,null,0,Bl,[dn,cn],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,1,0,e.context.$implicit.disabled||e.component.disableRipple),t(e,2,0,e.context.$implicit.disabled),t(e,5,0,e.context.$implicit.templateLabel),t(e,7,0,!e.context.$implicit.templateLabel)},function(t,e){var n=e.component;t(e,0,0,n._getTabLabelId(e.context.index),n._getTabIndex(e.context.$implicit,e.context.index),n._getTabContentId(e.context.index),n.selectedIndex==e.context.index,n.selectedIndex==e.context.index,Ii(e,1).unbounded,Ii(e,2).disabled)})}function dh(t){return vo(0,[(t()(),ii(0,0,null,null,1,"mat-tab-body",[["class","mat-tab-body"],["role","tabpanel"]],[[8,"id",0],[1,"aria-labelledby",0],[2,"mat-tab-body-active",null]],[[null,"_onCentered"],[null,"_onCentering"]],function(t,e,n){var r=!0,i=t.component;return"_onCentered"===e&&(r=!1!==i._removeTabBodyWrapperHeight()&&r),"_onCentering"===e&&(r=!1!==i._setTabBodyWrapperHeight(n)&&r),r},gh,hh)),Gi(1,114688,null,0,dc,[sn,[2,Ec]],{_content:[0,"_content"],position:[1,"position"],origin:[2,"origin"]},{_onCentering:"_onCentering",_onCentered:"_onCentered"})],function(t,e){t(e,1,0,e.context.$implicit.content,e.context.$implicit.position,e.context.$implicit.origin)},function(t,e){var n=e.component;t(e,0,0,n._getTabContentId(e.context.index),n._getTabLabelId(e.context.index),n.selectedIndex==e.context.index)})}function fh(t){return vo(2,[lo(402653184,1,{_tabBodyWrapper:0}),lo(402653184,2,{_tabHeader:0}),(t()(),ii(2,0,null,null,4,"mat-tab-header",[["class","mat-tab-header"]],[[2,"mat-tab-header-pagination-controls-enabled",null],[2,"mat-tab-header-rtl",null]],[[null,"indexFocused"],[null,"selectFocusedIndex"]],function(t,e,n){var r=!0,i=t.component;return"indexFocused"===e&&(r=!1!==i._focusChanged(n)&&r),"selectFocusedIndex"===e&&(r=!1!==(i.selectedIndex=n)&&r),r},yh,mh)),Gi(3,3325952,[[2,4],["tabHeader",4]],1,hc,[sn,fn,ih,[2,Ec]],{disableRipple:[0,"disableRipple"],selectedIndex:[1,"selectedIndex"]},{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"}),lo(603979776,3,{_labelWrappers:1}),(t()(),ri(16777216,null,0,1,null,ch)),Gi(6,802816,null,0,jl,[dn,cn,Dn],{ngForOf:[0,"ngForOf"]},null),(t()(),ii(7,0,[[1,0],["tabBodyWrapper",1]],null,2,"div",[["class","mat-tab-body-wrapper"]],null,null,null,null,null)),(t()(),ri(16777216,null,null,1,null,dh)),Gi(9,802816,null,0,jl,[dn,cn,Dn],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,3,0,n.disableRipple,n.selectedIndex),t(e,6,0,n._tabs),t(e,9,0,n._tabs)},function(t,e){t(e,2,0,Ii(e,3)._showPaginationControls,"rtl"==Ii(e,3)._getLayoutDirection())})}var hh=Or({encapsulation:2,styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}"],data:{animation:[{type:7,name:"translateTab",definitions:[{type:0,name:"center, void, left-origin-center, right-origin-center",styles:{type:6,styles:{transform:"none"},offset:null},options:void 0},{type:0,name:"left",styles:{type:6,styles:{transform:"translate3d(-100%, 0, 0)"},offset:null},options:void 0},{type:0,name:"right",styles:{type:6,styles:{transform:"translate3d(100%, 0, 0)"},offset:null},options:void 0},{type:1,expr:"* => left, * => right, left => center, right => center",animation:{type:4,styles:null,timings:"500ms cubic-bezier(0.35, 0, 0.25, 1)"},options:null},{type:1,expr:"void => left-origin-center",animation:[{type:6,styles:{transform:"translate3d(-100%, 0, 0)"},offset:null},{type:4,styles:null,timings:"500ms cubic-bezier(0.35, 0, 0.25, 1)"}],options:null},{type:1,expr:"void => right-origin-center",animation:[{type:6,styles:{transform:"translate3d(100%, 0, 0)"},offset:null},{type:4,styles:null,timings:"500ms cubic-bezier(0.35, 0, 0.25, 1)"}],options:null}],options:{}}]}});function ph(t){return vo(0,[(t()(),ri(0,null,null,0))],null,null)}function gh(t){return vo(2,[lo(402653184,1,{_portalHost:0}),(t()(),ii(1,0,[["content",1]],null,2,"div",[["class","mat-tab-body-content"]],[[24,"@translateTab",0]],[[null,"@translateTab.start"],[null,"@translateTab.done"]],function(t,e,n){var r=!0,i=t.component;return"@translateTab.start"===e&&(r=!1!==i._onTranslateTabStarted(n)&&r),"@translateTab.done"===e&&(r=!1!==i._onTranslateTabComplete(n)&&r),r},null,null)),(t()(),ri(16777216,null,null,1,null,ph)),Gi(3,212992,null,0,cc,[Me,dn,dc],null,null)],function(t,e){t(e,3,0)},function(t,e){t(e,1,0,e.component._position)})}var mh=Or({encapsulation:2,styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:0}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}@media (max-width:599px){.mat-tab-label{min-width:72px}}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:.5s cubic-bezier(.35,0,.25,1)}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}@media screen and (-ms-high-contrast:active){.mat-ink-bar{outline:solid 2px;height:0}}.mat-tab-header-pagination{position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-pagination-after,.mat-tab-header-rtl .mat-tab-header-pagination-before{padding-right:4px}.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:'';height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-list{flex-grow:1;position:relative;transition:transform .5s cubic-bezier(.35,0,.25,1)}.mat-tab-labels{display:flex}"],data:{}});function yh(t){return vo(2,[lo(402653184,1,{_inkBar:0}),lo(402653184,2,{_tabListContainer:0}),lo(402653184,3,{_tabList:0}),(t()(),ii(3,0,null,null,2,"div",[["aria-hidden","true"],["class","mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-ripple"],["mat-ripple",""]],[[2,"mat-tab-header-pagination-disabled",null],[2,"mat-ripple-unbounded",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component._scrollHeader("before")&&r),r},null,null)),Gi(4,212992,null,0,Du,[sn,Ne,es,[2,Iu],[2,Wf]],{disabled:[0,"disabled"]},null),(t()(),ii(5,0,null,null,0,"div",[["class","mat-tab-header-pagination-chevron"]],null,null,null,null,null)),(t()(),ii(6,0,[[2,0],["tabListContainer",1]],null,6,"div",[["class","mat-tab-label-container"]],null,[[null,"keydown"]],function(t,e,n){var r=!0;return"keydown"===e&&(r=!1!==t.component._handleKeydown(n)&&r),r},null,null)),(t()(),ii(7,0,[[3,0],["tabList",1]],null,5,"div",[["class","mat-tab-list"],["role","tablist"]],null,[[null,"cdkObserveContent"]],function(t,e,n){var r=!0;return"cdkObserveContent"===e&&(r=!1!==t.component._onContentChanges()&&r),r},null,null)),Gi(8,1196032,null,0,Ac,[Cc,sn,Ne],null,{event:"cdkObserveContent"}),(t()(),ii(9,0,null,null,1,"div",[["class","mat-tab-labels"]],null,null,null,null,null)),ho(null,0),(t()(),ii(11,0,null,null,1,"mat-ink-bar",[["class","mat-ink-bar"]],null,null,null,null,null)),Gi(12,16384,[[1,4]],0,sc,[sn,Ne,lc],null,null),(t()(),ii(13,0,null,null,2,"div",[["aria-hidden","true"],["class","mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4 mat-ripple"],["mat-ripple",""]],[[2,"mat-tab-header-pagination-disabled",null],[2,"mat-ripple-unbounded",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component._scrollHeader("after")&&r),r},null,null)),Gi(14,212992,null,0,Du,[sn,Ne,es,[2,Iu],[2,Wf]],{disabled:[0,"disabled"]},null),(t()(),ii(15,0,null,null,0,"div",[["class","mat-tab-header-pagination-chevron"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,4,0,n._disableScrollBefore||n.disableRipple),t(e,14,0,n._disableScrollAfter||n.disableRipple)},function(t,e){var n=e.component;t(e,3,0,n._disableScrollBefore,Ii(e,4).unbounded),t(e,13,0,n._disableScrollAfter,Ii(e,14).unbounded)})}var vh=Or({encapsulation:2,styles:[],data:{}});function bh(t){return vo(0,[ho(null,0),(t()(),ri(0,null,null,0))],null,null)}function _h(t){return vo(2,[lo(402653184,1,{_implicitContent:0}),(t()(),ri(0,[[1,2]],null,0,null,bh))],null,null)}var xh=function(){},wh=function(){},kh=function(){},Th=function(){},Ch=function(){},Ah=Or({encapsulation:2,styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:24px;border-radius:2px}.mat-card:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-card .mat-divider{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider{left:auto;right:0}.mat-card .mat-divider.mat-divider-inset{position:static;margin:0}.mat-card.mat-card-flat{box-shadow:none}@media screen and (-ms-high-contrast:active){.mat-card{outline:solid 1px}}.mat-card-actions,.mat-card-content,.mat-card-subtitle,.mat-card-title{display:block;margin-bottom:16px}.mat-card-actions{margin-left:-16px;margin-right:-16px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 48px);margin:0 -24px 16px -24px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-footer{display:block;margin:0 -24px -24px -24px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button{margin:0 4px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header-text{margin:0 8px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0}.mat-card-lg-image,.mat-card-md-image,.mat-card-sm-image{margin:-8px 0}.mat-card-title-group{display:flex;justify-content:space-between;margin:0 -8px}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}@media (max-width:599px){.mat-card{padding:24px 16px}.mat-card-actions{margin-left:-8px;margin-right:-8px}.mat-card-image{width:calc(100% + 32px);margin:16px -16px}.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}.mat-card-header{margin:-8px 0 0 0}.mat-card-footer{margin-left:-16px;margin-right:-16px}}.mat-card-content>:first-child,.mat-card>:first-child{margin-top:0}.mat-card-content>:last-child:not(.mat-card-footer),.mat-card>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-24px}.mat-card>.mat-card-actions:last-child{margin-bottom:-16px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child{margin-left:0;margin-right:0}.mat-card-subtitle:not(:first-child),.mat-card-title:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],data:{}});function Mh(t){return vo(2,[ho(null,0),ho(null,1)],null,null)}var Sh=Or({encapsulation:2,styles:[],data:{}});function Eh(t){return vo(2,[ho(null,0),(t()(),ii(1,0,null,null,1,"div",[["class","mat-card-header-text"]],null,null,null,null,null)),ho(null,1),ho(null,2)],null,null)}var Oh=function(t){function e(){var n=t.call(this,"argument out of range")||this;return n.name="ArgumentOutOfRangeError",Object.setPrototypeOf(n,e.prototype),n}return i(e,t),e}(Error);function Ph(t){return function(e){return 0===t?Wu():e.lift(new Ih(t))}}var Ih=function(){function t(t){if(this.total=t,this.total<0)throw new Oh}return t.prototype.call=function(t,e){return e.subscribe(new Dh(t,this.total))},t}(),Dh=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return i(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(T),Lh=function(){};function Rh(t){return Error("A hint was already declared for 'align=\""+t+"\"'.")}var Nh=0,Fh=bu(function(t){this._elementRef=t},"primary"),zh=new ft("MAT_FORM_FIELD_DEFAULT_OPTIONS"),jh=function(t){function e(e,n,r,i,o,a,l,s){var u=t.call(this,e)||this;return u._elementRef=e,u._changeDetectorRef=n,u._dir=i,u._defaultOptions=o,u._platform=a,u._ngZone=l,u._showAlwaysAnimate=!1,u._subscriptAnimationState="",u._hintLabel="",u._hintLabelId="mat-hint-"+Nh++,u._outlineGapWidth=0,u._outlineGapStart=0,u._initialGapCalculated=!1,u._labelOptions=r||{},u.floatLabel=u._labelOptions.float||"auto",u._animationsEnabled="NoopAnimations"!==s,u}return i(e,t),Object.defineProperty(e.prototype,"appearance",{get:function(){return this._appearance||this._defaultOptions&&this._defaultOptions.appearance||"legacy"},set:function(t){this._appearance=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hideRequiredMarker",{get:function(){return this._hideRequiredMarker},set:function(t){this._hideRequiredMarker=Cl(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_shouldAlwaysFloat",{get:function(){return"always"===this.floatLabel&&!this._showAlwaysAnimate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_canLabelFloat",{get:function(){return"never"!==this.floatLabel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hintLabel",{get:function(){return this._hintLabel},set:function(t){this._hintLabel=t,this._processHints()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"floatLabel",{get:function(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel},set:function(t){t!==this._floatLabel&&(this._floatLabel=t||this._labelOptions.float||"auto",this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),e.prototype.getConnectedOverlayOrigin=function(){return this._connectionContainerRef||this._elementRef},e.prototype.ngAfterContentInit=function(){var t=this;this._validateControlChild(),this._control.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+this._control.controlType),this._control.stateChanges.pipe(ac(null)).subscribe(function(){t._validatePlaceholders(),t._syncDescribedByIds(),t._changeDetectorRef.markForCheck()}),$(this._control.ngControl&&this._control.ngControl.valueChanges||Gu,this._prefixChildren.changes,this._suffixChildren.changes).subscribe(function(){return t._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(ac(null)).subscribe(function(){t._processHints(),t._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(ac(null)).subscribe(function(){t._syncDescribedByIds(),t._changeDetectorRef.markForCheck()})},e.prototype.ngAfterContentChecked=function(){var t=this;this._validateControlChild(),this._initialGapCalculated||(this._ngZone?this._ngZone.runOutsideAngular(function(){Promise.resolve().then(function(){return t.updateOutlineGap()})}):Promise.resolve().then(function(){return t.updateOutlineGap()}))},e.prototype.ngAfterViewInit=function(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()},e.prototype._shouldForward=function(t){var e=this._control?this._control.ngControl:null;return e&&e[t]},e.prototype._hasPlaceholder=function(){return!!(this._control&&this._control.placeholder||this._placeholderChild)},e.prototype._hasLabel=function(){return!!this._labelChild},e.prototype._shouldLabelFloat=function(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)},e.prototype._hideControlPlaceholder=function(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()},e.prototype._hasFloatingLabel=function(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()},e.prototype._getDisplayedMessages=function(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"},e.prototype._animateAndLockLabel=function(){var t=this;this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&(this._showAlwaysAnimate=!0,Zf(this._label.nativeElement,"transitionend").pipe(Ph(1)).subscribe(function(){t._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())},e.prototype._validatePlaceholders=function(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")},e.prototype._processHints=function(){this._validateHints(),this._syncDescribedByIds()},e.prototype._validateHints=function(){var t,e,n=this;this._hintChildren&&this._hintChildren.forEach(function(r){if("start"===r.align){if(t||n.hintLabel)throw Rh("start");t=r}else if("end"===r.align){if(e)throw Rh("end");e=r}})},e.prototype._syncDescribedByIds=function(){if(this._control){var t=[];if("hint"===this._getDisplayedMessages()){var e=this._hintChildren?this._hintChildren.find(function(t){return"start"===t.align}):null,n=this._hintChildren?this._hintChildren.find(function(t){return"end"===t.align}):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&(t=this._errorChildren.map(function(t){return t.id}));this._control.setDescribedByIds(t)}},e.prototype._validateControlChild=function(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")},e.prototype.updateOutlineGap=function(){if("outline"===this.appearance&&this._label&&this._label.nativeElement.children.length){if(this._platform&&!this._platform.isBrowser)return void(this._initialGapCalculated=!0);if(!document.documentElement.contains(this._elementRef.nativeElement))return;for(var t=this._getStartEnd(this._connectionContainerRef.nativeElement.getBoundingClientRect()),e=this._getStartEnd(this._label.nativeElement.children[0].getBoundingClientRect()),n=0,r=0,i=this._label.nativeElement.children;r<i.length;r++)n+=i[r].offsetWidth;this._outlineGapStart=e-t-5,this._outlineGapWidth=.75*n+10}else this._outlineGapStart=0,this._outlineGapWidth=0;this._initialGapCalculated=!0,this._changeDetectorRef.markForCheck()},e.prototype._getStartEnd=function(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left},e}(Fh),Vh=function(){},Bh=Or({encapsulation:2,styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform .4s cubic-bezier(.25,.8,.25,1),color .4s cubic-bezier(.25,.8,.25,1),width .4s cubic-bezier(.25,.8,.25,1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-empty.mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scaleY(1.0001)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(.5);opacity:0;transition:background-color .3s cubic-bezier(.55,0,.55,.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform .3s cubic-bezier(.25,.8,.25,1),opacity .1s cubic-bezier(.25,.8,.25,1),background-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-label-wrapper .mat-icon,.mat-form-field-subscript-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",".mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:'';display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}",".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-.25em}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:0;left:0;right:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-start{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start{border-width:2px;transition:border-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity .1s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline{opacity:0;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}",".mat-input-element{font:inherit;background:0 0;color:currentColor;border:none;outline:0;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element[type=date]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=month]::after,.mat-input-element[type=time]::after,.mat-input-element[type=week]::after{content:' ';white-space:pre;width:1px}.mat-input-element::placeholder{transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-moz-placeholder{transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-webkit-input-placeholder{transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element:-ms-input-placeholder{transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent!important;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent!important;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent!important;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent!important;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}"],data:{animation:[{type:7,name:"transitionMessages",definitions:[{type:0,name:"enter",styles:{type:6,styles:{opacity:1,transform:"translateY(0%)"},offset:null},options:void 0},{type:1,expr:"void => enter",animation:[{type:6,styles:{opacity:0,transform:"translateY(-100%)"},offset:null},{type:4,styles:null,timings:"300ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}]}});function Hh(t){return vo(0,[(t()(),ii(0,0,null,null,1,"div",[["class","mat-form-field-prefix"]],null,null,null,null,null)),ho(null,0)],null,null)}function qh(t){return vo(0,[(t()(),ii(0,0,null,null,2,null,null,null,null,null,null,null)),ho(null,2),(t()(),go(2,null,["",""]))],null,function(t,e){t(e,2,0,e.component._control.placeholder)})}function Uh(t){return vo(0,[ho(null,3),(t()(),ri(0,null,null,0))],null,null)}function Gh(t){return vo(0,[(t()(),ii(0,0,null,null,1,"span",[["aria-hidden","true"],["class","mat-placeholder-required mat-form-field-required-marker"]],null,null,null,null,null)),(t()(),go(-1,null,["\xa0*"]))],null,null)}function Wh(t){return vo(0,[(t()(),ii(0,0,[[4,0],["label",1]],null,7,"label",[["class","mat-form-field-label"]],[[1,"for",0],[1,"aria-owns",0],[2,"mat-empty",null],[2,"mat-form-field-empty",null],[2,"mat-accent",null],[2,"mat-warn",null]],null,null,null,null)),Gi(1,16384,null,0,Yl,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),ri(16777216,null,null,1,null,qh)),Gi(3,278528,null,0,Zl,[dn,cn,Yl],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),ri(16777216,null,null,1,null,Uh)),Gi(5,278528,null,0,Zl,[dn,cn,Yl],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),ri(16777216,null,null,1,null,Gh)),Gi(7,16384,null,0,Bl,[dn,cn],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,n._hasLabel()),t(e,3,0,!1),t(e,5,0,!0),t(e,7,0,!n.hideRequiredMarker&&n._control.required&&!n._control.disabled)},function(t,e){var n=e.component;t(e,0,0,n._control.id,n._control.id,n._control.empty&&!n._shouldAlwaysFloat,n._control.empty&&!n._shouldAlwaysFloat,"accent"==n.color,"warn"==n.color)})}function Yh(t){return vo(0,[(t()(),ii(0,0,null,null,1,"div",[["class","mat-form-field-suffix"]],null,null,null,null,null)),ho(null,4)],null,null)}function Zh(t){return vo(0,[(t()(),ii(0,0,[[1,0],["underline",1]],null,1,"div",[["class","mat-form-field-underline"]],null,null,null,null,null)),(t()(),ii(1,0,null,null,0,"span",[["class","mat-form-field-ripple"]],[[2,"mat-accent",null],[2,"mat-warn",null]],null,null,null,null))],null,function(t,e){var n=e.component;t(e,1,0,"accent"==n.color,"warn"==n.color)})}function Xh(t){return vo(0,[(t()(),ii(0,0,null,null,8,null,null,null,null,null,null,null)),(t()(),ii(1,0,null,null,3,"div",[["class","mat-form-field-outline"]],null,null,null,null,null)),(t()(),ii(2,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],[[4,"width","px"]],null,null,null,null)),(t()(),ii(3,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],[[4,"width","px"]],null,null,null,null)),(t()(),ii(4,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null)),(t()(),ii(5,0,null,null,3,"div",[["class","mat-form-field-outline mat-form-field-outline-thick"]],null,null,null,null,null)),(t()(),ii(6,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],[[4,"width","px"]],null,null,null,null)),(t()(),ii(7,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],[[4,"width","px"]],null,null,null,null)),(t()(),ii(8,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null))],null,function(t,e){var n=e.component;t(e,2,0,n._outlineGapStart),t(e,3,0,n._outlineGapWidth),t(e,6,0,n._outlineGapStart),t(e,7,0,n._outlineGapWidth)})}function Qh(t){return vo(0,[(t()(),ii(0,0,null,null,1,"div",[],[[24,"@transitionMessages",0]],null,null,null,null)),ho(null,5)],null,function(t,e){t(e,0,0,e.component._subscriptAnimationState)})}function Kh(t){return vo(0,[(t()(),ii(0,0,null,null,1,"div",[["class","mat-hint"]],[[8,"id",0]],null,null,null,null)),(t()(),go(1,null,["",""]))],null,function(t,e){var n=e.component;t(e,0,0,n._hintLabelId),t(e,1,0,n.hintLabel)})}function $h(t){return vo(0,[(t()(),ii(0,0,null,null,5,"div",[["class","mat-form-field-hint-wrapper"]],[[24,"@transitionMessages",0]],null,null,null,null)),(t()(),ri(16777216,null,null,1,null,Kh)),Gi(2,16384,null,0,Bl,[dn,cn],{ngIf:[0,"ngIf"]},null),ho(null,6),(t()(),ii(4,0,null,null,0,"div",[["class","mat-form-field-hint-spacer"]],null,null,null,null,null)),ho(null,7)],function(t,e){t(e,2,0,e.component.hintLabel)},function(t,e){t(e,0,0,e.component._subscriptAnimationState)})}function Jh(t){return vo(2,[lo(671088640,1,{underlineRef:0}),lo(402653184,2,{_connectionContainerRef:0}),lo(402653184,3,{_inputContainerRef:0}),lo(671088640,4,{_label:0}),(t()(),ii(4,0,null,null,20,"div",[["class","mat-form-field-wrapper"]],null,null,null,null,null)),(t()(),ii(5,0,[[2,0],["connectionContainer",1]],null,9,"div",[["class","mat-form-field-flex"]],null,[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==(i._control.onContainerClick&&i._control.onContainerClick(n))&&r),r},null,null)),(t()(),ri(16777216,null,null,1,null,Hh)),Gi(7,16384,null,0,Bl,[dn,cn],{ngIf:[0,"ngIf"]},null),(t()(),ii(8,0,[[3,0],["inputContainer",1]],null,4,"div",[["class","mat-form-field-infix"]],null,null,null,null,null)),ho(null,1),(t()(),ii(10,0,null,null,2,"span",[["class","mat-form-field-label-wrapper"]],null,null,null,null,null)),(t()(),ri(16777216,null,null,1,null,Wh)),Gi(12,16384,null,0,Bl,[dn,cn],{ngIf:[0,"ngIf"]},null),(t()(),ri(16777216,null,null,1,null,Yh)),Gi(14,16384,null,0,Bl,[dn,cn],{ngIf:[0,"ngIf"]},null),(t()(),ri(16777216,null,null,1,null,Zh)),Gi(16,16384,null,0,Bl,[dn,cn],{ngIf:[0,"ngIf"]},null),(t()(),ri(16777216,null,null,1,null,Xh)),Gi(18,16384,null,0,Bl,[dn,cn],{ngIf:[0,"ngIf"]},null),(t()(),ii(19,0,null,null,5,"div",[["class","mat-form-field-subscript-wrapper"]],null,null,null,null,null)),Gi(20,16384,null,0,Yl,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),ri(16777216,null,null,1,null,Qh)),Gi(22,278528,null,0,Zl,[dn,cn,Yl],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),ri(16777216,null,null,1,null,$h)),Gi(24,278528,null,0,Zl,[dn,cn,Yl],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(t,e){var n=e.component;t(e,7,0,n._prefixChildren.length),t(e,12,0,n._hasFloatingLabel()),t(e,14,0,n._suffixChildren.length),t(e,16,0,"outline"!=n.appearance),t(e,18,0,"outline"==n.appearance),t(e,20,0,n._getDisplayedMessages()),t(e,22,0,"error"),t(e,24,0,"hint")},null)}var tp=function(t){function e(e,n){var r=t.call(this,e)||this;r.sources=n,r.completed=0,r.haveValues=0;var i=n.length;r.values=new Array(i);for(var o=0;o<i;o++){var a=V(r,n[o],null,o);a&&r.add(a)}return r}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this.haveValues,r=this.values,i=r.length;t._hasValue?(this.completed++,this.completed===i&&(n===i&&e.next(r),e.complete())):e.complete()},e}(B),ep=function(){function t(){}return Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return this.control?this.control.getError(t,e):null},t}(),np=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(ep);function rp(t){return null==t||0===t.length}var ip=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,op=function(){function t(){}return t.min=function(t){return function(e){if(rp(e.value)||rp(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}},t.max=function(t){return function(e){if(rp(e.value)||rp(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}},t.required=function(t){return rp(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return rp(t.value)?null:ip.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(rp(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(rp(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(ap);return 0==e.length?null:function(t){return sp(function(t,n){return e.map(function(e){return e(t)})}(t))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(ap);return 0==e.length?null:function(t){return function t(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&p(n[0])&&(n=n[0]),0===n.length?Gu:e?t(n).pipe(H(function(t){return e.apply(void 0,t)})):new S(function(t){return new tp(t,n)})}(function(t,n){return e.map(function(e){return e(t)})}(t).map(lp)).pipe(H(sp))}},t}();function ap(t){return null!=t}function lp(t){var e,n=se(t)?W(t):t;if(!(e=n)||"function"!=typeof e.subscribe)throw new Error("Expected validator to return Promise or Observable.");return n}function sp(t){var e=t.reduce(function(t,e){return null!=e?o({},t,e):t},{});return 0===Object.keys(e).length?null:e}var up=new ft("NgValueAccessor"),cp=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),dp=new ft("CompositionEventMode"),fp=function(){function t(t,e,n){var r;this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=ls()?ls().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},t}();function hp(t){return t.validate?function(e){return t.validate(e)}:t}function pp(t){return t.validate?function(e){return t.validate(e)}:t}var gp=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}();function mp(){throw new Error("unimplemented")}var yp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return i(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return mp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return mp()},enumerable:!0,configurable:!0}),e}(ep),vp=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name},t}(),bp=function(){function t(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get(yp),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t}(),_p=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),xp='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',wp='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',kp='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',Tp=function(){function t(){}return t.controlParentException=function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+xp)},t.ngModelGroupException=function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '+wp+"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        "+kp)},t.missingFormException=function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+xp)},t.groupParentException=function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+wp)},t.arrayParentException=function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')},t.disabledAttrWarning=function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")},t.ngModelWarning=function(t){console.warn("\n    It looks like you're using ngModel on the same form field as "+t+". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/"+("formControl"===t?"FormControlDirective":"FormControlName")+"#use-with-ngmodel\n    ")},t}();function Cp(t,e){return s(e.path,[t])}function Ap(t,e){t||Op(e,"Cannot find control with"),e.valueAccessor||Op(e,"No value accessor for form control with"),t.validator=op.compose([t.validator,e.validator]),t.asyncValidator=op.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Mp(t,e)})}(t,e),function(t,e){t.registerOnChange(function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Mp(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(function(t){e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})}),e._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})})}function Mp(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Sp(t,e){null==t&&Op(e,"Cannot find control with"),t.validator=op.compose([t.validator,e.validator]),t.asyncValidator=op.composeAsync([t.asyncValidator,e.asyncValidator])}function Ep(t){return Op(t,"There is no FormControl instance attached to form control element with")}function Op(t,e){var n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}function Pp(t){return null!=t?op.compose(t.map(hp)):null}function Ip(t){return null!=t?op.composeAsync(t.map(pp)):null}var Dp=[cp,_p,gp,function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=kt}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){try{for(var e=a(Array.from(this._optionMap.keys())),n=e.next();!n.done;n=e.next()){var r=n.value;if(this._compareWith(this._optionMap.get(r),t))return r}}catch(t){i={error:t}}finally{try{n&&!n.done&&(o=e.return)&&o.call(e)}finally{if(i)throw i.error}}return null;var i,o},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t},t}(),function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=kt}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map(function(t){return n._getOptionId(t)});e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),l=e._getOptionValue(a.value);r.push(l)}else for(i=n.options,o=0;o<i.length;o++)(a=i.item(o)).selected&&(l=e._getOptionValue(a.value),r.push(l));e.value=r,t(r)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){try{for(var e=a(Array.from(this._optionMap.keys())),n=e.next();!n.done;n=e.next()){var r=n.value;if(this._compareWith(this._optionMap.get(r)._value,t))return r}}catch(t){i={error:t}}finally{try{n&&!n.done&&(o=e.return)&&o.call(e)}finally{if(i)throw i.error}}return null;var i,o},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t}(),bp];function Lp(t,e){t._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function Rp(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Np=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return Cp(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return Pp(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return Ip(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(np),Fp=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e}(function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}());function zp(t){var e=Vp(t)?t.validators:t;return Array.isArray(e)?Pp(e):e||null}function jp(t,e){var n=Vp(e)?e.asyncValidators:t;return Array.isArray(n)?Ip(n):n||null}function Vp(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var Bp=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=zp(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=jp(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){void 0===t&&(t={}),this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype.markAsPending=function(t){void 0===t&&(t={}),this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},t.prototype.disable=function(t){void 0===t&&(t={}),this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(o({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!0)})},t.prototype.enable=function(t){void 0===t&&(t={}),this.status="VALID",this._forEachChild(function(e){e.enable(o({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!1)})},t.prototype._updateAncestors=function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._updateTreeValidity=function(t){void 0===t&&(t={emitEvent:!0}),this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},t.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=lp(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return e.setErrors(n,{emitEvent:t})})}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.get=function(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce(function(t,e){return t instanceof qp?t.controls[e]||null:t instanceof Up&&t.at(e)||null},t))}(this,t)},t.prototype.getError=function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this.valueChanges=new Re,this.statusChanges=new Re},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls(function(e){return e.status===t})},t.prototype._anyControlsDirty=function(){return this._anyControls(function(t){return t.dirty})},t.prototype._anyControlsTouched=function(){return this._anyControls(function(t){return t.touched})},t.prototype._updatePristine=function(t){void 0===t&&(t={}),this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype._updateTouched=function(t){void 0===t&&(t={}),this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t.prototype._setUpdateStrategy=function(t){Vp(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)},t}(),Hp=function(t){function e(e,n,r){void 0===e&&(e=null);var i=t.call(this,zp(n),jp(r,n))||this;return i._onChange=[],i._applyFormState(e),i._setUpdateStrategy(n),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i._initObservables(),i}return i(e,t),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(function(t){return t(n.value,!1!==e.emitViewToModelChange)}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t},e}(Bp),qp=function(t){function e(e,n,r){var i=t.call(this,zp(n),jp(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return i(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){n._throwIfControlMissing(r),n.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),Object.keys(t).forEach(function(r){n.controls[r]&&n.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof Hp?e.value:e.getRawValue(),t})},e.prototype._syncPendingControls=function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})},e.prototype._updateValue=function(){this.value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild(function(r,i){n=n||e.contains(i)&&t(r)}),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n},e.prototype._allControlsDisabled=function(){try{for(var t=a(Object.keys(this.controls)),e=t.next();!e.done;e=t.next())if(this.controls[e.value].enabled)return!1}catch(t){n={error:t}}finally{try{e&&!e.done&&(r=t.return)&&r.call(t)}finally{if(n)throw n.error}}return Object.keys(this.controls).length>0||this.disabled;var n,r},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},e}(Bp),Up=function(t){function e(e,n,r){var i=t.call(this,zp(n),jp(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return i(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach(function(t,r){n._throwIfControlMissing(r),n.at(r).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),t.forEach(function(t,r){n.at(r)&&n.at(r).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this.controls.map(function(t){return t instanceof Hp?t.value:t.getRawValue()})},e.prototype._syncPendingControls=function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach(function(e,n){t(e,n)})},e.prototype._updateValue=function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})},e.prototype._anyControls=function(t){return this.controls.some(function(e){return e.enabled&&t(e)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")})},e.prototype._allControlsDisabled=function(){try{for(var t=a(this.controls),e=t.next();!e.done;e=t.next())if(e.value.enabled)return!1}catch(t){n={error:t}}finally{try{e&&!e.done&&(r=t.return)&&r.call(t)}finally{if(n)throw n.error}}return this.controls.length>0||this.disabled;var n,r},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(Bp),Gp=Promise.resolve(null),Wp=function(t){function e(e,n){var r=t.call(this)||this;return r.submitted=!1,r._directives=[],r.ngSubmit=new Re,r.form=new qp({},Pp(e),Ip(n)),r}return i(e,t),e.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;Gp.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),Ap(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e=this;Gp.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),Rp(e._directives,t)})},e.prototype.addFormGroup=function(t){var e=this;Gp.then(function(){var n=e._findContainer(t.path),r=new qp({});Sp(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})},e.prototype.removeFormGroup=function(t){var e=this;Gp.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var n=this;Gp.then(function(){n.form.get(t.path).setValue(e)})},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.onSubmit=function(t){return this.submitted=!0,Lp(this.form,this._directives),this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},e.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},e}(np),Yp=function(){function t(){}return t.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '+xp+'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')},t.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+wp+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+kp)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},t.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+wp+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+kp)},t}(),Zp=function(t){function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}return i(e,t),e.prototype._checkParentType=function(){this._parent instanceof e||this._parent instanceof Wp||Yp.modelGroupParentException()},e}(Np),Xp=Promise.resolve(null),Qp=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.control=new Hp,o._registered=!1,o.update=new Re,o._parent=e,o._rawValidators=n||[],o._rawAsyncValidators=r||[],o.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||Op(t,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return e.forEach(function(e){var o;e.constructor===fp?n=e:(o=e,Dp.some(function(t){return o.constructor===t})?(r&&Op(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Op(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(Op(t,"No valid value accessor for form control with"),null)}(o,i),o}return i(e,t),e.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!kt(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"path",{get:function(){return this._parent?Cp(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return Pp(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return Ip(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},e.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},e.prototype._setUpStandalone=function(){Ap(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof Zp)&&this._parent instanceof Np?Yp.formGroupNameException():this._parent instanceof Zp||this._parent instanceof Wp||Yp.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Yp.missingNameException()},e.prototype._updateValue=function(t){var e=this;Xp.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})},e.prototype._updateDisabled=function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;Xp.then(function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()})},e}(yp),Kp=function(t){function e(e,n){var r=t.call(this)||this;return r._validators=e,r._asyncValidators=n,r.submitted=!1,r.directives=[],r.form=null,r.ngSubmit=new Re,r}return i(e,t),e.prototype.ngOnChanges=function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this.form.get(t.path);return Ap(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){Rp(this.directives,t)},e.prototype.addFormGroup=function(t){var e=this.form.get(t.path);Sp(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormGroup=function(t){},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.addFormArray=function(t){var e=this.form.get(t.path);Sp(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormArray=function(t){},e.prototype.getFormArray=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){this.form.get(t.path).setValue(e)},e.prototype.onSubmit=function(t){return this.submitted=!0,Lp(this.form,this.directives),this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._updateDomValue=function(){var t=this;this.directives.forEach(function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){e.valueAccessor.registerOnChange(function(){return Ep(e)}),e.valueAccessor.registerOnTouched(function(){return Ep(e)}),e._rawValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(e.control,e),n&&Ap(n,e),e.control=n)}),this.form._updateTreeValidity({emitEvent:!1})},e.prototype._updateRegistrations=function(){var t=this;this.form._registerOnCollectionChange(function(){return t._updateDomValue()}),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){}),this._oldForm=this.form},e.prototype._updateValidators=function(){var t=Pp(this._validators);this.form.validator=op.compose([this.form.validator,t]);var e=Ip(this._asyncValidators);this.form.asyncValidator=op.composeAsync([this.form.asyncValidator,e])},e.prototype._checkFormPresent=function(){this.form||Tp.missingFormException()},e}(np),$p=function(){},Jp=function(){},tg=!!ns()&&{passive:!0},eg=function(){function t(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}return t.prototype.monitor=function(t){if(!this._platform.isBrowser)return Gu;var e=this._monitoredElements.get(t);if(e)return e.subject.asObservable();var n=new nt,r=function(e){"cdk-text-field-autofill-start"===e.animationName?(t.classList.add("cdk-text-field-autofilled"),n.next({target:e.target,isAutofilled:!0})):"cdk-text-field-autofill-end"===e.animationName&&(t.classList.remove("cdk-text-field-autofilled"),n.next({target:e.target,isAutofilled:!1}))};return this._ngZone.runOutsideAngular(function(){t.addEventListener("animationstart",r,tg),t.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(t,{subject:n,unlisten:function(){t.removeEventListener("animationstart",r,tg)}}),n.asObservable()},t.prototype.stopMonitoring=function(t){var e=this._monitoredElements.get(t);e&&(e.unlisten(),e.subject.complete(),t.classList.remove("cdk-text-field-autofill-monitored"),t.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(t))},t.prototype.ngOnDestroy=function(){var t=this;this._monitoredElements.forEach(function(e,n){return t.stopMonitoring(n)})},t.ngInjectableDef=dt({factory:function(){return new t(Kt(es),Kt(Ne))},token:t,providedIn:"root"}),t}(),ng=function(){},rg=["button","checkbox","file","hidden","image","radio","range","reset","submit"],ig=0,og=function(t){function e(e,n,r,i,o,a,l,s,u){var c=t.call(this,a,i,o,r)||this;return c._elementRef=e,c._platform=n,c.ngControl=r,c._autofillMonitor=s,c._uid="mat-input-"+ig++,c._isServer=!1,c.focused=!1,c.stateChanges=new nt,c.controlType="mat-input",c.autofilled=!1,c._disabled=!1,c._required=!1,c._type="text",c._readonly=!1,c._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(function(t){return is().has(t)}),c._inputValueAccessor=l||c._elementRef.nativeElement,c._previousNativeValue=c.value,c.id=c.id,n.IOS&&u.runOutsideAngular(function(){e.nativeElement.addEventListener("keyup",function(t){var e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),c._isServer=!c._platform.isBrowser,c}return i(e,t),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled},set:function(t){this._disabled=Cl(t),this.focused&&(this.focused=!1,this.stateChanges.next())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t||this._uid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return this._required},set:function(t){this._required=Cl(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t||"text",this._validateType(),!this._isTextarea()&&is().has(this._type)&&(this._elementRef.nativeElement.type=this._type)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._inputValueAccessor.value},set:function(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readonly",{get:function(){return this._readonly},set:function(t){this._readonly=Cl(t)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var t=this;this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(function(e){t.autofilled=e.isAutofilled,t.stateChanges.next()})},e.prototype.ngOnChanges=function(){this.stateChanges.next()},e.prototype.ngOnDestroy=function(){this.stateChanges.complete(),this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)},e.prototype.ngDoCheck=function(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()},e.prototype.focus=function(){this._elementRef.nativeElement.focus()},e.prototype._focusChanged=function(t){t===this.focused||this.readonly||(this.focused=t,this.stateChanges.next())},e.prototype._onInput=function(){},e.prototype._dirtyCheckNativeValue=function(){var t=this.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())},e.prototype._validateType=function(){if(rg.indexOf(this._type)>-1)throw Error('Input type "'+this._type+"\" isn't supported by matInput.")},e.prototype._isNeverEmpty=function(){return this._neverEmptyInputTypes.indexOf(this._type)>-1},e.prototype._isBadInput=function(){var t=this._elementRef.nativeElement.validity;return t&&t.badInput},e.prototype._isTextarea=function(){return"textarea"===this._elementRef.nativeElement.nodeName.toLowerCase()},Object.defineProperty(e.prototype,"empty",{get:function(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shouldLabelFloat",{get:function(){return this.focused||!this.empty},enumerable:!0,configurable:!0}),e.prototype.setDescribedByIds=function(t){this._ariaDescribedby=t.join(" ")},e.prototype.onContainerClick=function(){this.focus()},e}(wu(function(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r})),ag=function(){},lg="accent",sg="primary",ug=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],cg=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;o._platform=n,o._focusMonitor=r,o._animationMode=i,o.isRoundButton=o._hasHostAttributes("mat-fab","mat-mini-fab"),o.isIconButton=o._hasHostAttributes("mat-icon-button");for(var a=0,l=ug;a<l.length;a++){var s=l[a];o._hasHostAttributes(s)&&e.nativeElement.classList.add(s)}return o._focusMonitor.monitor(o._elementRef.nativeElement,!0),o.isRoundButton?o.color=lg:o._hasHostAttributes("mat-flat-button")&&(o.color=sg),o}return i(e,t),e.prototype.ngOnDestroy=function(){this._focusMonitor.stopMonitoring(this._elementRef.nativeElement)},e.prototype.focus=function(){this._getHostElement().focus()},e.prototype._getHostElement=function(){return this._elementRef.nativeElement},e.prototype._isRippleDisabled=function(){return this.disableRipple||this.disabled},e.prototype._hasHostAttributes=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.some(function(e){return t._getHostElement().hasAttribute(e)})},e}(bu(vu(_u(function(t){this._elementRef=t})))),dg=function(){},fg=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new hg(t,this.nextOrObserver,this.error,this.complete))},t}(),hg=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o._tapNext=M,o._tapError=M,o._tapComplete=M,o._tapError=r||M,o._tapComplete=i||M,u(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||M,o._tapError=n.error||M,o._tapComplete=n.complete||M),o}return i(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(T),pg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.setActiveItem=function(e){this.activeItem&&this.activeItem.setInactiveStyles(),t.prototype.setActiveItem.call(this,e),this.activeItem&&this.activeItem.setActiveStyles()},e}(function(){function t(t){var e=this;this._items=t,this._activeItemIndex=-1,this._wrap=!1,this._letterKeyStream=new nt,this._typeaheadSubscription=x.EMPTY,this._vertical=!0,this._skipPredicateFn=function(t){return t.disabled},this._pressedLetters=[],this.tabOut=new nt,this.change=new nt,t instanceof un&&t.changes.subscribe(function(t){if(e._activeItem){var n=t.toArray().indexOf(e._activeItem);n>-1&&n!==e._activeItemIndex&&(e._activeItemIndex=n)}})}return t.prototype.skipPredicate=function(t){return this._skipPredicateFn=t,this},t.prototype.withWrap=function(){return this._wrap=!0,this},t.prototype.withVerticalOrientation=function(t){return void 0===t&&(t=!0),this._vertical=t,this},t.prototype.withHorizontalOrientation=function(t){return this._horizontal=t,this},t.prototype.withTypeAhead=function(t){var e,n=this;if(void 0===t&&(t=200),this._items.length&&this._items.some(function(t){return"function"!=typeof t.getLabel}))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((e=function(t){return n._pressedLetters.push(t)},function(t){return t.lift(new fg(e,void 0,void 0))}),_c(t),th(function(){return n._pressedLetters.length>0}),H(function(){return n._pressedLetters.join("")})).subscribe(function(t){for(var e=n._getItemsArray(),r=1;r<e.length+1;r++){var i=(n._activeItemIndex+r)%e.length,o=e[i];if(!n._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(t)){n.setActiveItem(i);break}}n._pressedLetters=[]}),this},t.prototype.setActiveItem=function(t){var e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)},t.prototype.onKeydown=function(t){var e=t.keyCode;switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical){this.setNextItemActive();break}return;case 38:if(this._vertical){this.setPreviousItemActive();break}return;case 39:if("ltr"===this._horizontal){this.setNextItemActive();break}if("rtl"===this._horizontal){this.setPreviousItemActive();break}return;case 37:if("ltr"===this._horizontal){this.setPreviousItemActive();break}if("rtl"===this._horizontal){this.setNextItemActive();break}return;default:return void(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e)))}this._pressedLetters=[],t.preventDefault()},Object.defineProperty(t.prototype,"activeItemIndex",{get:function(){return this._activeItemIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeItem",{get:function(){return this._activeItem},enumerable:!0,configurable:!0}),t.prototype.setFirstItemActive=function(){this._setActiveItemByIndex(0,1)},t.prototype.setLastItemActive=function(){this._setActiveItemByIndex(this._items.length-1,-1)},t.prototype.setNextItemActive=function(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)},t.prototype.setPreviousItemActive=function(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)},t.prototype.updateActiveItem=function(t){var e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t);this._activeItemIndex=n,this._activeItem=e[n]},t.prototype.updateActiveItemIndex=function(t){this.updateActiveItem(t)},t.prototype._setActiveItemByDelta=function(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)},t.prototype._setActiveInWrapMode=function(t){for(var e=this._getItemsArray(),n=1;n<=e.length;n++){var r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}},t.prototype._setActiveInDefaultMode=function(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)},t.prototype._setActiveItemByIndex=function(t,e){var n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}},t.prototype._getItemsArray=function(){return this._items instanceof un?this._items.toArray():this._items},t}()),gg=function(){function t(t,e){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._unregisterGlobalListeners=function(){},this._monitoredElementCount=0}return t.prototype.monitor=function(t,e){var n=this;if(void 0===e&&(e=!1),!this._platform.isBrowser)return Zu(null);if(this._elementInfo.has(t)){var r=this._elementInfo.get(t);return r.checkChildren=e,r.subject.asObservable()}var i={unlisten:function(){},checkChildren:e,subject:new nt};this._elementInfo.set(t,i),this._incrementMonitoredElementCount();var o=function(e){return n._onFocus(e,t)},a=function(e){return n._onBlur(e,t)};return this._ngZone.runOutsideAngular(function(){t.addEventListener("focus",o,!0),t.addEventListener("blur",a,!0)}),i.unlisten=function(){t.removeEventListener("focus",o,!0),t.removeEventListener("blur",a,!0)},i.subject.asObservable()},t.prototype.stopMonitoring=function(t){var e=this._elementInfo.get(t);e&&(e.unlisten(),e.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._decrementMonitoredElementCount())},t.prototype.focusVia=function(t,e){this._setOriginForCurrentEventQueue(e),"function"==typeof t.focus&&t.focus()},t.prototype.ngOnDestroy=function(){var t=this;this._elementInfo.forEach(function(e,n){return t.stopMonitoring(n)})},t.prototype._registerGlobalListeners=function(){var t=this;if(this._platform.isBrowser){var e=function(){t._lastTouchTarget=null,t._setOriginForCurrentEventQueue("keyboard")},n=function(){t._lastTouchTarget||t._setOriginForCurrentEventQueue("mouse")},r=function(e){null!=t._touchTimeoutId&&clearTimeout(t._touchTimeoutId),t._lastTouchTarget=e.target,t._touchTimeoutId=setTimeout(function(){return t._lastTouchTarget=null},650)},i=function(){t._windowFocused=!0,t._windowFocusTimeoutId=setTimeout(function(){return t._windowFocused=!1})};this._ngZone.runOutsideAngular(function(){document.addEventListener("keydown",e,!0),document.addEventListener("mousedown",n,!0),document.addEventListener("touchstart",r,!ns()||{passive:!0,capture:!0}),window.addEventListener("focus",i)}),this._unregisterGlobalListeners=function(){document.removeEventListener("keydown",e,!0),document.removeEventListener("mousedown",n,!0),document.removeEventListener("touchstart",r,!ns()||{passive:!0,capture:!0}),window.removeEventListener("focus",i),clearTimeout(t._windowFocusTimeoutId),clearTimeout(t._touchTimeoutId),clearTimeout(t._originTimeoutId)}}},t.prototype._toggleClass=function(t,e,n){n?t.classList.add(e):t.classList.remove(e)},t.prototype._setClasses=function(t,e){this._elementInfo.get(t)&&(this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e))},t.prototype._setOriginForCurrentEventQueue=function(t){var e=this;this._ngZone.runOutsideAngular(function(){e._origin=t,e._originTimeoutId=setTimeout(function(){return e._origin=null})})},t.prototype._wasCausedByTouch=function(t){var e=t.target;return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))},t.prototype._onFocus=function(t,e){var n=this._elementInfo.get(e);if(n&&(n.checkChildren||e===t.target)){var r=this._origin;r||(r=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"),this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}},t.prototype._onBlur=function(t,e){var n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))},t.prototype._emitOrigin=function(t,e){this._ngZone.run(function(){return t.next(e)})},t.prototype._incrementMonitoredElementCount=function(){1==++this._monitoredElementCount&&this._registerGlobalListeners()},t.prototype._decrementMonitoredElementCount=function(){--this._monitoredElementCount||(this._unregisterGlobalListeners(),this._unregisterGlobalListeners=function(){})},t.ngInjectableDef=dt({factory:function(){return new t(Kt(Ne),Kt(es))},token:t,providedIn:"root"}),t}(),mg=Or({encapsulation:2,styles:[".mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;overflow:visible}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{transition:none;opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:1}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-raised-button:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-raised-button[disabled]{box-shadow:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button:not([class*=mat-elevation-z]){box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mat-flat-button:not([class*=mat-elevation-z]){box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-fab::-moz-focus-inner{border:0}.mat-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-fab[disabled]{box-shadow:none}.mat-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-mini-fab[disabled]{box-shadow:none}.mat-mini-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-mini-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-focus-overlay{background-color:rgba(0,0,0,.12);border-radius:inherit;opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}@media screen and (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:rgba(255,255,255,.5)}}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}@media screen and (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"],data:{}});function yg(t){return vo(2,[lo(402653184,1,{ripple:0}),(t()(),ii(1,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),ho(null,0),(t()(),ii(3,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),Gi(4,212992,[[1,4]],0,Du,[sn,Ne,es,[2,Iu],[2,Wf]],{centered:[0,"centered"],disabled:[1,"disabled"],trigger:[2,"trigger"]},null),(t()(),ii(5,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,4,0,n.isIconButton,n._isRippleDisabled(),n._getHostElement())},function(t,e){var n=e.component;t(e,3,0,n.isRoundButton||n.isIconButton,Ii(e,4).unbounded)})}var vg=function(){function t(t){this.http=t,this.domainUrl="http://localhost:7331/api/",this.settingUrl=this.domainUrl+"settings",this.effectsUrl=this.domainUrl+"manualEffects",this.effectUrl=this.domainUrl+"manualEffects/profile/"}return t.prototype.getSettings=function(){return this.http.get(this.settingUrl)},t.prototype.settingsSave=function(t){return console.log(this.settingUrl),this.http.post(this.settingUrl,t)},t.prototype.getProfilesList=function(){return this.http.get(this.effectsUrl)},t.prototype.getEffect=function(t){return this.http.get(this.effectUrl+"/"+t)},t.prototype.saveEffect=function(t,e){return this.http.post(this.effectUrl+t,e)},t}(),bg=function(){function t(t){this.configService=t,this.settings={plc:{ipaddress:"waiting for server...",pollPeriod:500,port:0},driver:{pollPeriod:500}}}return t.prototype.ngOnInit=function(){this.showConfig()},t.prototype.showConfig=function(){var t=this;this.configService.getSettings().subscribe(function(e){return t.settings=e})},t.prototype.onSave=function(){this.configService.settingsSave(this.settings).subscribe()},t}(),_g=Or({encapsulation:0,styles:[[".example-card[_ngcontent-%COMP%]{max-width:400px}.example-form-field[_ngcontent-%COMP%]{width:200px}"]],data:{}});function xg(t){return vo(0,[(t()(),ii(0,0,null,null,59,"mat-card",[["class","example-card mat-card"]],null,null,null,Mh,Ah)),Gi(1,49152,null,0,kh,[],null,null),(t()(),ii(2,0,null,0,4,"mat-card-header",[["class","mat-card-header"]],null,null,null,Eh,Sh)),Gi(3,49152,null,0,Th,[],null,null),(t()(),ii(4,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),Gi(5,16384,null,0,wh,[],null,null),(t()(),go(-1,null,["Plc"])),(t()(),ii(7,0,null,0,52,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),Gi(8,16384,null,0,xh,[],null,null),(t()(),ii(9,0,null,null,16,"mat-form-field",[["class","example-form-field mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Jh,Bh)),Gi(10,7389184,null,7,jh,[sn,fn,[2,Uu],[2,Ec],[2,zh],es,Ne,[2,Wf]],null,null),lo(335544320,1,{_control:0}),lo(335544320,2,{_placeholderChild:0}),lo(335544320,3,{_labelChild:0}),lo(603979776,4,{_errorChildren:1}),lo(603979776,5,{_hintChildren:1}),lo(603979776,6,{_prefixChildren:1}),lo(603979776,7,{_suffixChildren:1}),(t()(),ii(18,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["onclick","this.focus();this.select()"],["placeholder","IP address"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Ii(t,19)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ii(t,19).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ii(t,19)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ii(t,19)._compositionEnd(n.target.value)&&r),"blur"===e&&(r=!1!==Ii(t,24)._focusChanged(!1)&&r),"focus"===e&&(r=!1!==Ii(t,24)._focusChanged(!0)&&r),"input"===e&&(r=!1!==Ii(t,24)._onInput()&&r),"ngModelChange"===e&&(r=!1!==(i.settings.plc.ipaddress=n)&&r),r},null,null)),Gi(19,16384,null,0,fp,[ln,sn,[2,dp]],null,null),Wi(1024,null,up,function(t){return[t]},[fp]),Gi(21,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,up]],{model:[0,"model"]},{update:"ngModelChange"}),Wi(2048,null,yp,null,[Qp]),Gi(23,16384,null,0,Fp,[[4,yp]],null,null),Gi(24,999424,null,0,og,[sn,es,[6,yp],[2,Wp],[2,Kp],ku,[8,null],eg,Ne],{placeholder:[0,"placeholder"],type:[1,"type"]},null),Wi(2048,[[1,4]],Lh,null,[og]),(t()(),ii(26,0,null,null,16,"mat-form-field",[["class","example-form-field mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Jh,Bh)),Gi(27,7389184,null,7,jh,[sn,fn,[2,Uu],[2,Ec],[2,zh],es,Ne,[2,Wf]],null,null),lo(335544320,8,{_control:0}),lo(335544320,9,{_placeholderChild:0}),lo(335544320,10,{_labelChild:0}),lo(603979776,11,{_errorChildren:1}),lo(603979776,12,{_hintChildren:1}),lo(603979776,13,{_prefixChildren:1}),lo(603979776,14,{_suffixChildren:1}),(t()(),ii(35,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["onclick","this.focus();this.select()"],["placeholder","Port"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Ii(t,36)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ii(t,36).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ii(t,36)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ii(t,36)._compositionEnd(n.target.value)&&r),"blur"===e&&(r=!1!==Ii(t,41)._focusChanged(!1)&&r),"focus"===e&&(r=!1!==Ii(t,41)._focusChanged(!0)&&r),"input"===e&&(r=!1!==Ii(t,41)._onInput()&&r),"ngModelChange"===e&&(r=!1!==(i.settings.plc.port=n)&&r),r},null,null)),Gi(36,16384,null,0,fp,[ln,sn,[2,dp]],null,null),Wi(1024,null,up,function(t){return[t]},[fp]),Gi(38,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,up]],{model:[0,"model"]},{update:"ngModelChange"}),Wi(2048,null,yp,null,[Qp]),Gi(40,16384,null,0,Fp,[[4,yp]],null,null),Gi(41,999424,null,0,og,[sn,es,[6,yp],[2,Wp],[2,Kp],ku,[8,null],eg,Ne],{placeholder:[0,"placeholder"],type:[1,"type"]},null),Wi(2048,[[8,4]],Lh,null,[og]),(t()(),ii(43,0,null,null,16,"mat-form-field",[["class","example-form-field mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Jh,Bh)),Gi(44,7389184,null,7,jh,[sn,fn,[2,Uu],[2,Ec],[2,zh],es,Ne,[2,Wf]],null,null),lo(335544320,15,{_control:0}),lo(335544320,16,{_placeholderChild:0}),lo(335544320,17,{_labelChild:0}),lo(603979776,18,{_errorChildren:1}),lo(603979776,19,{_hintChildren:1}),lo(603979776,20,{_prefixChildren:1}),lo(603979776,21,{_suffixChildren:1}),(t()(),ii(52,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["onclick","this.focus();this.select()"],["placeholder","Poll period"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Ii(t,53)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ii(t,53).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ii(t,53)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ii(t,53)._compositionEnd(n.target.value)&&r),"blur"===e&&(r=!1!==Ii(t,58)._focusChanged(!1)&&r),"focus"===e&&(r=!1!==Ii(t,58)._focusChanged(!0)&&r),"input"===e&&(r=!1!==Ii(t,58)._onInput()&&r),"ngModelChange"===e&&(r=!1!==(i.settings.plc.pollPeriod=n)&&r),r},null,null)),Gi(53,16384,null,0,fp,[ln,sn,[2,dp]],null,null),Wi(1024,null,up,function(t){return[t]},[fp]),Gi(55,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,up]],{model:[0,"model"]},{update:"ngModelChange"}),Wi(2048,null,yp,null,[Qp]),Gi(57,16384,null,0,Fp,[[4,yp]],null,null),Gi(58,999424,null,0,og,[sn,es,[6,yp],[2,Wp],[2,Kp],ku,[8,null],eg,Ne],{placeholder:[0,"placeholder"],type:[1,"type"]},null),Wi(2048,[[15,4]],Lh,null,[og]),(t()(),ii(60,0,null,null,25,"mat-card",[["class","example-card mat-card"]],null,null,null,Mh,Ah)),Gi(61,49152,null,0,kh,[],null,null),(t()(),ii(62,0,null,0,4,"mat-card-header",[["class","mat-card-header"]],null,null,null,Eh,Sh)),Gi(63,49152,null,0,Th,[],null,null),(t()(),ii(64,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),Gi(65,16384,null,0,wh,[],null,null),(t()(),go(-1,null,["Driver"])),(t()(),ii(67,0,null,0,18,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),Gi(68,16384,null,0,xh,[],null,null),(t()(),ii(69,0,null,null,16,"mat-form-field",[["class","example-form-field mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Jh,Bh)),Gi(70,7389184,null,7,jh,[sn,fn,[2,Uu],[2,Ec],[2,zh],es,Ne,[2,Wf]],null,null),lo(335544320,22,{_control:0}),lo(335544320,23,{_placeholderChild:0}),lo(335544320,24,{_labelChild:0}),lo(603979776,25,{_errorChildren:1}),lo(603979776,26,{_hintChildren:1}),lo(603979776,27,{_prefixChildren:1}),lo(603979776,28,{_suffixChildren:1}),(t()(),ii(78,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["onclick","this.focus();this.select()"],["placeholder","Poll period"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Ii(t,79)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ii(t,79).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ii(t,79)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ii(t,79)._compositionEnd(n.target.value)&&r),"blur"===e&&(r=!1!==Ii(t,84)._focusChanged(!1)&&r),"focus"===e&&(r=!1!==Ii(t,84)._focusChanged(!0)&&r),"input"===e&&(r=!1!==Ii(t,84)._onInput()&&r),"ngModelChange"===e&&(r=!1!==(i.settings.driver.pollPeriod=n)&&r),r},null,null)),Gi(79,16384,null,0,fp,[ln,sn,[2,dp]],null,null),Wi(1024,null,up,function(t){return[t]},[fp]),Gi(81,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,up]],{model:[0,"model"]},{update:"ngModelChange"}),Wi(2048,null,yp,null,[Qp]),Gi(83,16384,null,0,Fp,[[4,yp]],null,null),Gi(84,999424,null,0,og,[sn,es,[6,yp],[2,Wp],[2,Kp],ku,[8,null],eg,Ne],{placeholder:[0,"placeholder"],type:[1,"type"]},null),Wi(2048,[[22,4]],Lh,null,[og]),(t()(),ii(86,0,null,null,6,"mat-card",[["class","example-card mat-card"]],null,null,null,Mh,Ah)),Gi(87,49152,null,0,kh,[],null,null),(t()(),ii(88,0,null,0,4,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),Gi(89,16384,null,0,xh,[],null,null),(t()(),ii(90,0,null,null,2,"button",[["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onSave()&&r),r},yg,mg)),Gi(91,180224,null,0,cg,[sn,es,gg,[2,Wf]],null,null),(t()(),go(-1,0,["Save"]))],function(t,e){var n=e.component;t(e,21,0,n.settings.plc.ipaddress),t(e,24,0,"IP address","text"),t(e,38,0,n.settings.plc.port),t(e,41,0,"Port","text"),t(e,55,0,n.settings.plc.pollPeriod),t(e,58,0,"Poll period","text"),t(e,81,0,n.settings.driver.pollPeriod),t(e,84,0,"Poll period","text")},function(t,e){t(e,9,1,["standard"==Ii(e,10).appearance,"fill"==Ii(e,10).appearance,"outline"==Ii(e,10).appearance,"legacy"==Ii(e,10).appearance,Ii(e,10)._control.errorState,Ii(e,10)._canLabelFloat,Ii(e,10)._shouldLabelFloat(),Ii(e,10)._hideControlPlaceholder(),Ii(e,10)._control.disabled,Ii(e,10)._control.autofilled,Ii(e,10)._control.focused,"accent"==Ii(e,10).color,"warn"==Ii(e,10).color,Ii(e,10)._shouldForward("untouched"),Ii(e,10)._shouldForward("touched"),Ii(e,10)._shouldForward("pristine"),Ii(e,10)._shouldForward("dirty"),Ii(e,10)._shouldForward("valid"),Ii(e,10)._shouldForward("invalid"),Ii(e,10)._shouldForward("pending"),!Ii(e,10)._animationsEnabled]),t(e,18,1,[Ii(e,23).ngClassUntouched,Ii(e,23).ngClassTouched,Ii(e,23).ngClassPristine,Ii(e,23).ngClassDirty,Ii(e,23).ngClassValid,Ii(e,23).ngClassInvalid,Ii(e,23).ngClassPending,Ii(e,24)._isServer,Ii(e,24).id,Ii(e,24).placeholder,Ii(e,24).disabled,Ii(e,24).required,Ii(e,24).readonly,Ii(e,24)._ariaDescribedby||null,Ii(e,24).errorState,Ii(e,24).required.toString()]),t(e,26,1,["standard"==Ii(e,27).appearance,"fill"==Ii(e,27).appearance,"outline"==Ii(e,27).appearance,"legacy"==Ii(e,27).appearance,Ii(e,27)._control.errorState,Ii(e,27)._canLabelFloat,Ii(e,27)._shouldLabelFloat(),Ii(e,27)._hideControlPlaceholder(),Ii(e,27)._control.disabled,Ii(e,27)._control.autofilled,Ii(e,27)._control.focused,"accent"==Ii(e,27).color,"warn"==Ii(e,27).color,Ii(e,27)._shouldForward("untouched"),Ii(e,27)._shouldForward("touched"),Ii(e,27)._shouldForward("pristine"),Ii(e,27)._shouldForward("dirty"),Ii(e,27)._shouldForward("valid"),Ii(e,27)._shouldForward("invalid"),Ii(e,27)._shouldForward("pending"),!Ii(e,27)._animationsEnabled]),t(e,35,1,[Ii(e,40).ngClassUntouched,Ii(e,40).ngClassTouched,Ii(e,40).ngClassPristine,Ii(e,40).ngClassDirty,Ii(e,40).ngClassValid,Ii(e,40).ngClassInvalid,Ii(e,40).ngClassPending,Ii(e,41)._isServer,Ii(e,41).id,Ii(e,41).placeholder,Ii(e,41).disabled,Ii(e,41).required,Ii(e,41).readonly,Ii(e,41)._ariaDescribedby||null,Ii(e,41).errorState,Ii(e,41).required.toString()]),t(e,43,1,["standard"==Ii(e,44).appearance,"fill"==Ii(e,44).appearance,"outline"==Ii(e,44).appearance,"legacy"==Ii(e,44).appearance,Ii(e,44)._control.errorState,Ii(e,44)._canLabelFloat,Ii(e,44)._shouldLabelFloat(),Ii(e,44)._hideControlPlaceholder(),Ii(e,44)._control.disabled,Ii(e,44)._control.autofilled,Ii(e,44)._control.focused,"accent"==Ii(e,44).color,"warn"==Ii(e,44).color,Ii(e,44)._shouldForward("untouched"),Ii(e,44)._shouldForward("touched"),Ii(e,44)._shouldForward("pristine"),Ii(e,44)._shouldForward("dirty"),Ii(e,44)._shouldForward("valid"),Ii(e,44)._shouldForward("invalid"),Ii(e,44)._shouldForward("pending"),!Ii(e,44)._animationsEnabled]),t(e,52,1,[Ii(e,57).ngClassUntouched,Ii(e,57).ngClassTouched,Ii(e,57).ngClassPristine,Ii(e,57).ngClassDirty,Ii(e,57).ngClassValid,Ii(e,57).ngClassInvalid,Ii(e,57).ngClassPending,Ii(e,58)._isServer,Ii(e,58).id,Ii(e,58).placeholder,Ii(e,58).disabled,Ii(e,58).required,Ii(e,58).readonly,Ii(e,58)._ariaDescribedby||null,Ii(e,58).errorState,Ii(e,58).required.toString()]),t(e,69,1,["standard"==Ii(e,70).appearance,"fill"==Ii(e,70).appearance,"outline"==Ii(e,70).appearance,"legacy"==Ii(e,70).appearance,Ii(e,70)._control.errorState,Ii(e,70)._canLabelFloat,Ii(e,70)._shouldLabelFloat(),Ii(e,70)._hideControlPlaceholder(),Ii(e,70)._control.disabled,Ii(e,70)._control.autofilled,Ii(e,70)._control.focused,"accent"==Ii(e,70).color,"warn"==Ii(e,70).color,Ii(e,70)._shouldForward("untouched"),Ii(e,70)._shouldForward("touched"),Ii(e,70)._shouldForward("pristine"),Ii(e,70)._shouldForward("dirty"),Ii(e,70)._shouldForward("valid"),Ii(e,70)._shouldForward("invalid"),Ii(e,70)._shouldForward("pending"),!Ii(e,70)._animationsEnabled]),t(e,78,1,[Ii(e,83).ngClassUntouched,Ii(e,83).ngClassTouched,Ii(e,83).ngClassPristine,Ii(e,83).ngClassDirty,Ii(e,83).ngClassValid,Ii(e,83).ngClassInvalid,Ii(e,83).ngClassPending,Ii(e,84)._isServer,Ii(e,84).id,Ii(e,84).placeholder,Ii(e,84).disabled,Ii(e,84).required,Ii(e,84).readonly,Ii(e,84)._ariaDescribedby||null,Ii(e,84).errorState,Ii(e,84).required.toString()]),t(e,90,0,Ii(e,91).disabled||null,"NoopAnimations"===Ii(e,91)._animationMode)})}var wg=Or({encapsulation:2,styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;position:relative;cursor:pointer;outline:0;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}@media screen and (-ms-high-contrast:active){.mat-option{margin:0 1px}.mat-option.mat-active{border:solid 1px currentColor;margin:0}}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}@media screen and (-ms-high-contrast:active){.mat-option-ripple{opacity:.5}}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}"],data:{}});function kg(t){return vo(0,[(t()(),ii(0,0,null,null,1,"mat-pseudo-checkbox",[["class","mat-option-pseudo-checkbox mat-pseudo-checkbox"]],[[2,"mat-pseudo-checkbox-indeterminate",null],[2,"mat-pseudo-checkbox-checked",null],[2,"mat-pseudo-checkbox-disabled",null]],null,null,Ag,Cg)),Gi(1,49152,null,0,Ru,[],{state:[0,"state"],disabled:[1,"disabled"]},null)],function(t,e){var n=e.component;t(e,1,0,n.selected?"checked":"",n.disabled)},function(t,e){t(e,0,0,"indeterminate"===Ii(e,1).state,"checked"===Ii(e,1).state,Ii(e,1).disabled)})}function Tg(t){return vo(2,[(t()(),ri(16777216,null,null,1,null,kg)),Gi(1,16384,null,0,Bl,[dn,cn],{ngIf:[0,"ngIf"]},null),(t()(),ii(2,0,null,null,1,"span",[["class","mat-option-text"]],null,null,null,null,null)),ho(null,0),(t()(),ii(4,0,null,null,1,"div",[["class","mat-option-ripple mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),Gi(5,212992,null,0,Du,[sn,Ne,es,[2,Iu],[2,Wf]],{disabled:[0,"disabled"],trigger:[1,"trigger"]},null)],function(t,e){var n=e.component;t(e,1,0,n.multiple),t(e,5,0,n.disabled||n.disableRipple,n._getHostElement())},function(t,e){t(e,4,0,Ii(e,5).unbounded)})}var Cg=Or({encapsulation:2,styles:[".mat-pseudo-checkbox{width:20px;height:20px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0,0,.2,.1),background-color 90ms cubic-bezier(0,0,.2,.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:'';border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0,0,.2,.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:9px;left:2px;width:16px;opacity:1}.mat-pseudo-checkbox-checked::after{top:5px;left:3px;width:12px;height:5px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1}"],data:{}});function Ag(t){return vo(2,[],null,null)}var Mg=function(){function t(t,e,n){void 0===t&&(t=!1),void 0===n&&(n=!0);var r=this;this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.onChange=this._emitChanges?new nt:null,e&&e.length&&(t?e.forEach(function(t){return r._markSelected(t)}):this._markSelected(e[0]),this._selectedToEmit.length=0)}return Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected},enumerable:!0,configurable:!0}),t.prototype.select=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._verifyValueAssignment(e),e.forEach(function(e){return t._markSelected(e)}),this._emitChangeEvent()},t.prototype.deselect=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._verifyValueAssignment(e),e.forEach(function(e){return t._unmarkSelected(e)}),this._emitChangeEvent()},t.prototype.toggle=function(t){this.isSelected(t)?this.deselect(t):this.select(t)},t.prototype.clear=function(){this._unmarkAll(),this._emitChangeEvent()},t.prototype.isSelected=function(t){return this._selection.has(t)},t.prototype.isEmpty=function(){return 0===this._selection.size},t.prototype.hasValue=function(){return!this.isEmpty()},t.prototype.sort=function(t){this._multiple&&this._selected&&this._selected.sort(t)},t.prototype._emitChangeEvent=function(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.onChange&&this.onChange.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])},t.prototype._markSelected=function(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))},t.prototype._unmarkSelected=function(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))},t.prototype._unmarkAll=function(){var t=this;this.isEmpty()||this._selection.forEach(function(e){return t._unmarkSelected(e)})},t.prototype._verifyValueAssignment=function(t){if(t.length>1&&!this._multiple)throw Error("Cannot pass multiple values into SelectionModel with single-value mode.")},t}(),Sg=function(){function t(){}return t.prototype.enable=function(){},t.prototype.disable=function(){},t.prototype.attach=function(){},t}(),Eg=function(){return function(t){var e=this;this.scrollStrategy=new Sg,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",t&&Object.keys(t).filter(function(e){return void 0!==t[e]}).forEach(function(n){return e[n]=t[n]})}}();function Og(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error("ConnectedPosition: Invalid "+t+' "'+e+'". Expected "top", "bottom" or "center".')}function Pg(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error("ConnectedPosition: Invalid "+t+' "'+e+'". Expected "start", "end" or "center".')}var Ig=function(){function t(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}return t.prototype.attach=function(){},t.prototype.enable=function(){if(this._canBeEnabled()){var t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Ml(-this._previousScrollPosition.left),t.style.top=Ml(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}},t.prototype.disable=function(){if(this._isEnabled){var t=this._document.documentElement,e=this._document.body,n=t.style.scrollBehavior||"",r=e.style.scrollBehavior||"";this._isEnabled=!1,t.style.left=this._previousHTMLStyles.left,t.style.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),t.style.scrollBehavior=e.style.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),t.style.scrollBehavior=n,e.style.scrollBehavior=r}},t.prototype._canBeEnabled=function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width},t}();function Dg(){return Error("Scroll strategy has already been attached.")}var Lg=function(){function t(t,e,n,r){var i=this;this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=function(){i.disable(),i._overlayRef.hasAttached()&&i._ngZone.run(function(){return i._overlayRef.detach()})}}return t.prototype.attach=function(t){if(this._overlayRef)throw Dg();this._overlayRef=t},t.prototype.enable=function(){var t=this;if(!this._scrollSubscription){var e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(function(){var e=t._viewportRuler.getViewportScrollPosition().top;Math.abs(e-t._initialScrollPosition)>t._config.threshold?t._detach():t._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}},t.prototype.disable=function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)},t}();function Rg(t,e){return e.some(function(e){return t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right})}function Ng(t,e){return e.some(function(e){return t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right})}var Fg=function(){function t(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}return t.prototype.attach=function(t){if(this._overlayRef)throw Dg();this._overlayRef=t},t.prototype.enable=function(){var t=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(function(){if(t._overlayRef.updatePosition(),t._config&&t._config.autoClose){var e=t._overlayRef.overlayElement.getBoundingClientRect(),n=t._viewportRuler.getViewportSize(),r=n.width,i=n.height;Rg(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(t.disable(),t._ngZone.run(function(){return t._overlayRef.detach()}))}}))},t.prototype.disable=function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)},t}(),zg=function(){function t(t,e,n,r){var i=this;this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=function(){return new Sg},this.close=function(t){return new Lg(i._scrollDispatcher,i._ngZone,i._viewportRuler,t)},this.block=function(){return new Ig(i._viewportRuler,i._document)},this.reposition=function(t){return new Fg(i._scrollDispatcher,i._viewportRuler,i._ngZone,t)},this._document=r}return t.ngInjectableDef=dt({factory:function(){return new t(Kt(rh),Kt(ih),Kt(Ne),Kt($l))},token:t,providedIn:"root"}),t}(),jg=function(){function t(t){var e=this;this._attachedOverlays=[],this._keydownListener=function(t){e._attachedOverlays.length&&e._attachedOverlays[e._attachedOverlays.length-1]._keydownEvents.next(t)},this._document=t}return t.prototype.ngOnDestroy=function(){this._detach()},t.prototype.add=function(t){this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener,!0),this._isAttached=!0),this._attachedOverlays.push(t)},t.prototype.remove=function(t){var e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()},t.prototype._detach=function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener,!0),this._isAttached=!1)},t.ngInjectableDef=dt({factory:function(){return new t(Kt($l))},token:t,providedIn:"root"}),t}(),Vg=function(){function t(t){this._document=t}return t.prototype.ngOnDestroy=function(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)},t.prototype.getContainerElement=function(){return this._containerElement||this._createContainer(),this._containerElement},t.prototype._createContainer=function(){var t=this._document.createElement("div");t.classList.add("cdk-overlay-container"),this._document.body.appendChild(t),this._containerElement=t},t.ngInjectableDef=dt({factory:function(){return new t(Kt($l))},token:t,providedIn:"root"}),t}(),Bg=function(){function t(t,e,n,r,i,o,a){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=o,this._document=a,this._backdropElement=null,this._backdropClick=new nt,this._attachments=new nt,this._detachments=new nt,this._keydownEvents=new nt,r.scrollStrategy&&r.scrollStrategy.attach(this)}return Object.defineProperty(t.prototype,"overlayElement",{get:function(){return this._pane},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backdropElement",{get:function(){return this._backdropElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hostElement",{get:function(){return this._host},enumerable:!0,configurable:!0}),t.prototype.attach=function(t){var e=this,n=this._portalOutlet.attach(t);return this._config.positionStrategy&&this._config.positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._config.scrollStrategy&&this._config.scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Ph(1)).subscribe(function(){e.hasAttached()&&e.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),n},t.prototype.detach=function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._config.positionStrategy&&this._config.positionStrategy.detach&&this._config.positionStrategy.detach(),this._config.scrollStrategy&&this._config.scrollStrategy.disable();var t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),t}},t.prototype.dispose=function(){var t=this.hasAttached();this._config.positionStrategy&&this._config.positionStrategy.dispose(),this._config.scrollStrategy&&this._config.scrollStrategy.disable(),this.detachBackdrop(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._pane=null,t&&this._detachments.next(),this._detachments.complete()},t.prototype.hasAttached=function(){return this._portalOutlet.hasAttached()},t.prototype.backdropClick=function(){return this._backdropClick.asObservable()},t.prototype.attachments=function(){return this._attachments.asObservable()},t.prototype.detachments=function(){return this._detachments.asObservable()},t.prototype.keydownEvents=function(){return this._keydownEvents.asObservable()},t.prototype.getConfig=function(){return this._config},t.prototype.updatePosition=function(){this._config.positionStrategy&&this._config.positionStrategy.apply()},t.prototype.updateSize=function(t){this._config=o({},this._config,t),this._updateElementSize()},t.prototype.setDirection=function(t){this._config=o({},this._config,{direction:t}),this._updateElementDirection()},t.prototype.getDirection=function(){var t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"},t.prototype._updateElementDirection=function(){this._host.setAttribute("dir",this.getDirection())},t.prototype._updateElementSize=function(){(this._config.width||0===this._config.width)&&(this._pane.style.width=Ml(this._config.width)),(this._config.height||0===this._config.height)&&(this._pane.style.height=Ml(this._config.height)),(this._config.minWidth||0===this._config.minWidth)&&(this._pane.style.minWidth=Ml(this._config.minWidth)),(this._config.minHeight||0===this._config.minHeight)&&(this._pane.style.minHeight=Ml(this._config.minHeight)),(this._config.maxWidth||0===this._config.maxWidth)&&(this._pane.style.maxWidth=Ml(this._config.maxWidth)),(this._config.maxHeight||0===this._config.maxHeight)&&(this._pane.style.maxHeight=Ml(this._config.maxHeight))},t.prototype._togglePointerEvents=function(t){this._pane.style.pointerEvents=t?"auto":"none"},t.prototype._attachBackdrop=function(){var t=this;this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",function(e){return t._backdropClick.next(e)}),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(function(){requestAnimationFrame(function(){t._backdropElement&&t._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")},t.prototype._updateStackingOrder=function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)},t.prototype.detachBackdrop=function(){var t=this,e=this._backdropElement;if(e){var n=function(){e&&e.parentNode&&e.parentNode.removeChild(e),t._backdropElement==e&&(t._backdropElement=null)};e.classList.remove("cdk-overlay-backdrop-showing"),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),e.addEventListener("transitionend",n),e.style.pointerEvents="none",this._ngZone.runOutsideAngular(function(){return setTimeout(n,500)})}},t.prototype._toggleClasses=function(t,e,n){var r,i=t.classList;(r=e,Array.isArray(r)?r:[r]).forEach(function(t){n?i.add(t):i.remove(t)})},t}(),Hg=function(){function t(t,e,n,r){var i=this;this._viewportRuler=e,this._document=n,this._platform=r,this._isInitialRender=!0,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this.scrollables=[],this._preferredPositions=[],this._positionChanges=new nt,this._resizeSubscription=x.EMPTY,this._offsetX=0,this._offsetY=0,this._positionChangeSubscriptions=0,this.positionChanges=S.create(function(t){var e=i._positionChanges.subscribe(t);return i._positionChangeSubscriptions++,function(){e.unsubscribe(),i._positionChangeSubscriptions--}}),this.setOrigin(t)}return Object.defineProperty(t.prototype,"positions",{get:function(){return this._preferredPositions},enumerable:!0,configurable:!0}),t.prototype.attach=function(t){var e=this;if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(function(){return e.apply()})},t.prototype.apply=function(){if(!(this._isDisposed||this._platform&&!this._platform.isBrowser))if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._origin.getBoundingClientRect(),this._overlayRect=this._pane.getBoundingClientRect();for(var t,e=this._originRect,n=this._overlayRect,r=this._viewportRect,i=[],o=0,a=this._preferredPositions;o<a.length;o++){var l=a[o],s=this._getOriginPoint(e,l),u=this._getOverlayPoint(s,n,l),c=this._getOverlayFit(u,n,r,l);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(l,s);this._canFitWithFlexibleDimensions(c,u,r)?i.push({position:l,origin:s,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(s,l)}):(!t||t.overlayFit.visibleArea<c.visibleArea)&&(t={overlayFit:c,overlayPoint:u,originPoint:s,position:l,overlayRect:n})}if(i.length){for(var d=null,f=-1,h=0,p=i;h<p.length;h++){var g=p[h],m=g.boundingBoxRect.width*g.boundingBoxRect.height*(g.position.weight||1);m>f&&(f=m,d=g)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(t.position,t.originPoint);this._applyPosition(t.position,t.originPoint)}},t.prototype.detach=function(){this._resizeSubscription.unsubscribe()},t.prototype.dispose=function(){this._isDisposed||(this.detach(),this._boundingBox=null,this._positionChanges.complete(),this._isDisposed=!0)},t.prototype.reapplyLastPosition=function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._origin.getBoundingClientRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}},t.prototype.withScrollableContainers=function(t){this.scrollables=t},t.prototype.withPositions=function(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this},t.prototype.withViewportMargin=function(t){return this._viewportMargin=t,this},t.prototype.withFlexibleDimensions=function(t){return void 0===t&&(t=!0),this._hasFlexibleDimensions=t,this},t.prototype.withGrowAfterOpen=function(t){return void 0===t&&(t=!0),this._growAfterOpen=t,this},t.prototype.withPush=function(t){return void 0===t&&(t=!0),this._canPush=t,this},t.prototype.withLockedPosition=function(t){return void 0===t&&(t=!0),this._positionLocked=t,this},t.prototype.setOrigin=function(t){return this._origin=t instanceof sn?t.nativeElement:t,this},t.prototype.withDefaultOffsetX=function(t){return this._offsetX=t,this},t.prototype.withDefaultOffsetY=function(t){return this._offsetY=t,this},t.prototype.withTransformOriginOn=function(t){return this._transformOriginSelector=t,this},t.prototype._getOriginPoint=function(t,e){var n;if("center"==e.originX)n=t.left+t.width/2;else{var r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return{x:n,y:"center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}},t.prototype._getOverlayPoint=function(t,e,n){var r;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,{x:t.x+r,y:t.y+("center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height)}},t.prototype._getOverlayFit=function(t,e,n,r){var i=t.x,o=t.y,a=this._getOffset(r,"x"),l=this._getOffset(r,"y");a&&(i+=a),l&&(o+=l);var s=0-o,u=o+e.height-n.height,c=this._subtractOverflows(e.width,0-i,i+e.width-n.width),d=this._subtractOverflows(e.height,s,u),f=c*d;return{visibleArea:f,isCompletelyWithinViewport:e.width*e.height===f,fitsInViewportVertically:d===e.height,fitsInViewportHorizontally:c==e.width}},t.prototype._canFitWithFlexibleDimensions=function(t,e,n){if(this._hasFlexibleDimensions){var r=n.bottom-e.y,i=n.right-e.x,o=this._overlayRef.getConfig().minHeight,a=this._overlayRef.getConfig().minWidth;return(t.fitsInViewportVertically||null!=o&&o<=r)&&(t.fitsInViewportHorizontally||null!=a&&a<=i)}},t.prototype._pushOverlayOnScreen=function(t,e){var n=this._viewportRect,r=Math.max(t.x+e.width-n.right,0),i=Math.max(t.y+e.height-n.bottom,0),o=Math.max(n.top-t.y,0),a=Math.max(n.left-t.x,0);return{x:t.x+(e.width<=n.width?a||-r:n.left-t.x),y:t.y+(e.height<=n.height?o||-i:n.top-t.y)}},t.prototype._applyPosition=function(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),this._lastPosition=t,this._positionChangeSubscriptions>0){var n=new function(t,e){this.connectionPair=t,this.scrollableViewProperties=e}(t,this._getScrollVisibility());this._positionChanges.next(n)}this._isInitialRender=!1},t.prototype._setTransformOrigin=function(t){if(this._transformOriginSelector){var e,n=this._boundingBox.querySelectorAll(this._transformOriginSelector),r=t.overlayY;e="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(var i=0;i<n.length;i++)n[i].style.transformOrigin=e+" "+r}},t.prototype._calculateBoundingBoxRect=function(t,e){var n,r,i,o,a,l,s=this._viewportRect,u=this._isRtl();if("top"===e.overlayY)r=t.y,n=s.bottom-t.y;else if("bottom"===e.overlayY)n=s.height-(i=s.height-t.y+2*this._viewportMargin)+this._viewportMargin;else{var c=Math.min(s.bottom-t.y,t.y-s.left),d=this._lastBoundingBoxSize.height;r=t.y-c,(n=2*c)>d&&!this._isInitialRender&&!this._growAfterOpen&&(r=t.y-d/2)}if("end"===e.overlayX&&!u||"start"===e.overlayX&&u)l=s.right-t.x+this._viewportMargin,o=t.x-s.left;else if("start"===e.overlayX&&!u||"end"===e.overlayX&&u)a=t.x,o=s.right-t.x;else{c=Math.min(s.right-t.x,t.x-s.top);var f=this._lastBoundingBoxSize.width;a=t.x-c,(o=2*c)>f&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.x-f/2)}return{top:r,left:a,bottom:i,right:l,width:o,height:n}},t.prototype._setBoundingBoxStyles=function(t,e){var n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));var r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right="",r.width=r.height="100%";else{var i=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=Ml(n.height),r.top=Ml(n.top),r.bottom=Ml(n.bottom),r.width=Ml(n.width),r.left=Ml(n.left),r.right=Ml(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",i&&(r.maxHeight=Ml(i)),o&&(r.maxWidth=Ml(o))}this._lastBoundingBoxSize=n,qg(this._boundingBox.style,r)},t.prototype._resetBoundingBoxStyles=function(){qg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})},t.prototype._resetOverlayElementStyles=function(){qg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:""})},t.prototype._setOverlayElementStyles=function(t,e){var n={};this._hasExactPosition()?(qg(n,this._getExactOverlayY(e,t)),qg(n,this._getExactOverlayX(e,t))):n.position="static";var r="",i=this._getOffset(e,"x"),o=this._getOffset(e,"y");i&&(r+="translateX("+i+"px) "),o&&(r+="translateY("+o+"px)"),n.transform=r.trim(),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxHeight&&(n.maxHeight=""),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxWidth&&(n.maxWidth=""),qg(this._pane.style,n)},t.prototype._getExactOverlayY=function(t,e){var n={top:null,bottom:null},r=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect)),"bottom"===t.overlayY?n.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":n.top=Ml(r.y),n},t.prototype._getExactOverlayX=function(t,e){var n={left:null,right:null},r=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect)),"right"==(this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")?n.right=this._document.documentElement.clientWidth-(r.x+this._overlayRect.width)+"px":n.left=Ml(r.x),n},t.prototype._getScrollVisibility=function(){var t=this._origin.getBoundingClientRect(),e=this._pane.getBoundingClientRect(),n=this.scrollables.map(function(t){return t.getElementRef().nativeElement.getBoundingClientRect()});return{isOriginClipped:Ng(t,n),isOriginOutsideView:Rg(t,n),isOverlayClipped:Ng(e,n),isOverlayOutsideView:Rg(e,n)}},t.prototype._subtractOverflows=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(t,e){return t-Math.max(e,0)},t)},t.prototype._getNarrowedViewportRect=function(){var t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}},t.prototype._isRtl=function(){return"rtl"===this._overlayRef.getDirection()},t.prototype._hasExactPosition=function(){return!this._hasFlexibleDimensions||this._isPushed},t.prototype._getOffset=function(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY},t.prototype._validatePositions=function(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(function(t){Pg("originX",t.originX),Og("originY",t.originY),Pg("overlayX",t.overlayX),Og("overlayY",t.overlayY)})},t}();function qg(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var Ug=function(){function t(t,e,n,r,i,o){this._preferredPositions=[],this._positionStrategy=new Hg(n,r,i,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}return Object.defineProperty(t.prototype,"_isRtl",{get:function(){return"rtl"===this._overlayRef.getDirection()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onPositionChange",{get:function(){return this._positionStrategy.positionChanges},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"positions",{get:function(){return this._preferredPositions},enumerable:!0,configurable:!0}),t.prototype.attach=function(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)},t.prototype.dispose=function(){this._positionStrategy.dispose()},t.prototype.detach=function(){this._positionStrategy.detach()},t.prototype.apply=function(){this._positionStrategy.apply()},t.prototype.recalculateLastPosition=function(){this._positionStrategy.reapplyLastPosition()},t.prototype.withScrollableContainers=function(t){this._positionStrategy.withScrollableContainers(t)},t.prototype.withFallbackPosition=function(t,e,n,r){var i=new function(t,e,n,r){this.offsetX=n,this.offsetY=r,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this},t.prototype.withDirection=function(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this},t.prototype.withOffsetX=function(t){return this._positionStrategy.withDefaultOffsetX(t),this},t.prototype.withOffsetY=function(t){return this._positionStrategy.withDefaultOffsetY(t),this},t.prototype.withLockedPosition=function(t){return this._positionStrategy.withLockedPosition(t),this},t.prototype.withPositions=function(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this},t.prototype.setOrigin=function(t){return this._positionStrategy.setOrigin(t),this},t}(),Gg=function(){function t(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return t.prototype.attach=function(t){var e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper")},t.prototype.top=function(t){return void 0===t&&(t=""),this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this},t.prototype.left=function(t){return void 0===t&&(t=""),this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this},t.prototype.bottom=function(t){return void 0===t&&(t=""),this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this},t.prototype.right=function(t){return void 0===t&&(t=""),this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this},t.prototype.width=function(t){return void 0===t&&(t=""),this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this},t.prototype.height=function(t){return void 0===t&&(t=""),this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this},t.prototype.centerHorizontally=function(t){return void 0===t&&(t=""),this.left(t),this._justifyContent="center",this},t.prototype.centerVertically=function(t){return void 0===t&&(t=""),this.top(t),this._alignItems="center",this},t.prototype.apply=function(){if(this._overlayRef.hasAttached()){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig();t.position=this._cssPosition,t.marginLeft="100%"===n.width?"0":this._leftOffset,t.marginTop="100%"===n.height?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,e.justifyContent="100%"===n.width?"flex-start":this._justifyContent,e.alignItems="100%"===n.height?"flex-start":this._alignItems}},t.prototype.dispose=function(){},t}(),Wg=function(){function t(t,e,n){this._viewportRuler=t,this._document=e,this._platform=n}return t.prototype.global=function(){return new Gg},t.prototype.connectedTo=function(t,e,n){return new Ug(e,n,t,this._viewportRuler,this._document)},t.prototype.flexibleConnectedTo=function(t){return new Hg(t,this._viewportRuler,this._document,this._platform)},t.ngInjectableDef=dt({factory:function(){return new t(Kt(ih),Kt($l),Kt(es,8))},token:t,providedIn:"root"}),t}(),Yg=0,Zg=function(){function t(t,e,n,r,i,o,a,l,s){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=o,this._ngZone=a,this._document=l,this._directionality=s}return t.prototype.create=function(t){var e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new Eg(t);return i.direction=i.direction||this._directionality.value,new Bg(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document)},t.prototype.position=function(){return this._positionBuilder},t.prototype._createPaneElement=function(t){var e=this._document.createElement("div");return e.id="cdk-overlay-"+Yg++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e},t.prototype._createHostElement=function(){var t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t},t.prototype._createPortalOutlet=function(t){return this._appRef||(this._appRef=this._injector.get(nn)),new wl(t,this._componentFactoryResolver,this._appRef,this._injector)},t}(),Xg=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Qg=new ft("cdk-connected-overlay-scroll-strategy"),Kg=function(t){this.elementRef=t},$g=function(){function t(t,e,n,r,i){this._overlay=t,this._scrollStrategy=r,this._dir=i,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=x.EMPTY,this.viewportMargin=0,this.scrollStrategy=this._scrollStrategy(),this.open=!1,this.backdropClick=new Re,this.positionChange=new Re,this.attach=new Re,this.detach=new Re,this._templatePortal=new _l(e,n)}return Object.defineProperty(t.prototype,"offsetX",{get:function(){return this._offsetX},set:function(t){this._offsetX=t,this._position&&this._setPositions(this._position)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offsetY",{get:function(){return this._offsetY},set:function(t){this._offsetY=t,this._position&&this._setPositions(this._position)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasBackdrop",{get:function(){return this._hasBackdrop},set:function(t){this._hasBackdrop=Cl(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lockPosition",{get:function(){return this._lockPosition},set:function(t){this._lockPosition=Cl(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"flexibleDiemsions",{get:function(){return this._flexibleDimensions},set:function(t){this._flexibleDimensions=Cl(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"growAfterOpen",{get:function(){return this._growAfterOpen},set:function(t){this._growAfterOpen=Cl(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"push",{get:function(){return this._push},set:function(t){this._push=Cl(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overlayRef",{get:function(){return this._overlayRef},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dir",{get:function(){return this._dir?this._dir.value:"ltr"},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this._destroyOverlay()},t.prototype.ngOnChanges=function(t){this._position&&((t.positions||t._deprecatedPositions)&&this._position.withPositions(this.positions),t.lockPosition&&this._position.withLockedPosition(this.lockPosition),(t.origin||t._deprecatedOrigin)&&(this._position.setOrigin(this.origin.elementRef),this.open&&this._position.apply())),(t.open||t._deprecatedOpen)&&(this.open?this._attachOverlay():this._detachOverlay())},t.prototype._createOverlay=function(){this.positions&&this.positions.length||(this.positions=Xg),this._overlayRef=this._overlay.create(this._buildConfig())},t.prototype._buildConfig=function(){var t=this._position=this._createPositionStrategy(),e=new Eg({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),e},t.prototype._createPositionStrategy=function(){var t=this,e=this._overlay.position().flexibleConnectedTo(this.origin.elementRef).withFlexibleDimensions(this.flexibleDiemsions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition);return this._setPositions(e),e.positionChanges.subscribe(function(e){return t.positionChange.emit(e)}),e},t.prototype._setPositions=function(t){var e=this,n=this.positions.map(function(t){return{originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||e.offsetX,offsetY:t.offsetY||e.offsetY}});t.withPositions(n)},t.prototype._attachOverlay=function(){var t=this;this._overlayRef?this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}):(this._createOverlay(),this._overlayRef.keydownEvents().subscribe(function(e){27===e.keyCode&&t._detachOverlay()})),this._overlayRef.hasAttached()||(this._overlayRef.attach(this._templatePortal),this.attach.emit()),this.hasBackdrop&&(this._backdropSubscription=this._overlayRef.backdropClick().subscribe(function(e){t.backdropClick.emit(e)}))},t.prototype._detachOverlay=function(){this._overlayRef&&(this._overlayRef.detach(),this.detach.emit()),this._backdropSubscription.unsubscribe()},t.prototype._destroyOverlay=function(){this._overlayRef&&this._overlayRef.dispose(),this._backdropSubscription.unsubscribe()},t}();function Jg(t){return function(){return t.scrollStrategies.reposition()}}var tm=function(){},em=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new nm(t,this.project))},t}(),nm=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return i(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe(),this.add(this.innerSubscription=V(this,t,e,n))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e}(B),rm=0,im=new ft("mat-select-scroll-strategy");function om(t){return function(){return t.scrollStrategies.reposition()}}var am=function(t){function e(e,n,r,i,o,a,l,s,u,c,d,f){var h,p=t.call(this,o,i,l,s,c)||this;return p._viewportRuler=e,p._changeDetectorRef=n,p._ngZone=r,p._dir=a,p._parentFormField=u,p.ngControl=c,p._scrollStrategyFactory=f,p._panelOpen=!1,p._required=!1,p._scrollTop=0,p._multiple=!1,p._compareWith=function(t,e){return t===e},p._uid="mat-select-"+rm++,p._destroy=new nt,p._triggerFontSize=0,p._onChange=function(){},p._onTouched=function(){},p._optionIds="",p._transformOrigin="top",p._panelDoneAnimating=!1,p._scrollStrategy=p._scrollStrategyFactory(),p._offsetY=0,p._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],p._disableOptionCentering=!1,p.focused=!1,p.controlType="mat-select",p.ariaLabel="",p.optionSelectionChanges=(h=function(){return p.options?$.apply(void 0,p.options.map(function(t){return t.onSelectionChange})):p._ngZone.onStable.asObservable().pipe(Ph(1),function t(e,n){return"function"==typeof n?function(r){return r.pipe(t(function(t,r){return W(e(t,r)).pipe(H(function(e,i){return n(t,e,r,i)}))}))}:function(t){return t.lift(new em(e))}}(function(){return p.optionSelectionChanges}))},new S(function(t){var e;try{e=h()}catch(e){return void t.error(e)}return(e?W(e):Wu()).subscribe(t)})),p.openedChange=new Re,p._openedStream=p.openedChange.pipe(th(function(t){return t}),H(function(){})),p._closedStream=p.openedChange.pipe(th(function(t){return!t}),H(function(){})),p.selectionChange=new Re,p.valueChange=new Re,p.ngControl&&(p.ngControl.valueAccessor=p),p.tabIndex=parseInt(d)||0,p.id=p.id,p}return i(e,t),Object.defineProperty(e.prototype,"placeholder",{get:function(){return this._placeholder},set:function(t){this._placeholder=t,this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return this._required},set:function(t){this._required=Cl(t),this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiple",{get:function(){return this._multiple},set:function(t){if(this._selectionModel)throw Error("Cannot change `multiple` mode of select after initialization.");this._multiple=Cl(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disableOptionCentering",{get:function(){return this._disableOptionCentering},set:function(t){this._disableOptionCentering=Cl(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"compareWith",{get:function(){return this._compareWith},set:function(t){if("function"!=typeof t)throw Error("`compareWith` must be a function.");this._compareWith=t,this._selectionModel&&this._initializeSelection()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){t!==this._value&&(this.writeValue(t),this._value=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t||this._uid,this.stateChanges.next()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this._selectionModel=new Mg(this.multiple,void 0,!1),this.stateChanges.next()},e.prototype.ngAfterContentInit=function(){var t=this;this._initKeyManager(),this.options.changes.pipe(ac(null),rc(this._destroy)).subscribe(function(){t._resetOptions(),t._initializeSelection()})},e.prototype.ngDoCheck=function(){this.ngControl&&this.updateErrorState()},e.prototype.ngOnChanges=function(t){t.disabled&&this.stateChanges.next()},e.prototype.ngOnDestroy=function(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()},e.prototype.toggle=function(){this.panelOpen?this.close():this.open()},e.prototype.open=function(){var t=this;!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement)["font-size"]),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.asObservable().pipe(Ph(1)).subscribe(function(){t._triggerFontSize&&t.overlayDir.overlayRef&&t.overlayDir.overlayRef.overlayElement&&(t.overlayDir.overlayRef.overlayElement.style.fontSize=t._triggerFontSize+"px")}))},e.prototype.close=function(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())},e.prototype.writeValue=function(t){this.options&&this._setSelectionByValue(t)},e.prototype.registerOnChange=function(t){this._onChange=t},e.prototype.registerOnTouched=function(t){this._onTouched=t},e.prototype.setDisabledState=function(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()},Object.defineProperty(e.prototype,"panelOpen",{get:function(){return this._panelOpen},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"triggerValue",{get:function(){if(this.empty)return"";if(this._multiple){var t=this._selectionModel.selected.map(function(t){return t.viewValue});return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue},enumerable:!0,configurable:!0}),e.prototype._isRtl=function(){return!!this._dir&&"rtl"===this._dir.value},e.prototype._handleKeydown=function(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))},e.prototype._handleClosedKeydown=function(t){var e=t.keyCode;13===e||32===e||(this.multiple||t.altKey)&&(40===e||38===e||37===e||39===e)?(t.preventDefault(),this.open()):this.multiple||this._keyManager.onKeydown(t)},e.prototype._handleOpenKeydown=function(t){var e=t.keyCode,n=40===e||38===e,r=this._keyManager;if(36===e||35===e)t.preventDefault(),36===e?r.setFirstItemActive():r.setLastItemActive();else if(n&&t.altKey)t.preventDefault(),this.close();else if(13!==e&&32!==e||!r.activeItem){var i=r.activeItemIndex;r.onKeydown(t),this._multiple&&n&&t.shiftKey&&r.activeItem&&r.activeItemIndex!==i&&r.activeItem._selectViaInteraction()}else t.preventDefault(),r.activeItem._selectViaInteraction()},e.prototype._onPanelDone=function(){this.panelOpen?(this._scrollTop=0,this.openedChange.emit(!0)):(this.openedChange.emit(!1),this._panelDoneAnimating=!1,this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck())},e.prototype._onFadeInDone=function(){this._panelDoneAnimating=this.panelOpen,this._changeDetectorRef.markForCheck()},e.prototype._onFocus=function(){this.disabled||(this.focused=!0,this.stateChanges.next())},e.prototype._onBlur=function(){this.focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())},e.prototype._onAttached=function(){var t=this;this.overlayDir.positionChange.pipe(Ph(1)).subscribe(function(){t._changeDetectorRef.detectChanges(),t._calculateOverlayOffsetX(),t.panel.nativeElement.scrollTop=t._scrollTop})},e.prototype._getPanelTheme=function(){return this._parentFormField?"mat-"+this._parentFormField.color:""},Object.defineProperty(e.prototype,"empty",{get:function(){return!this._selectionModel||this._selectionModel.isEmpty()},enumerable:!0,configurable:!0}),e.prototype._initializeSelection=function(){var t=this;Promise.resolve().then(function(){t._setSelectionByValue(t.ngControl?t.ngControl.value:t._value)})},e.prototype._setSelectionByValue=function(t,e){var n=this;if(void 0===e&&(e=!1),this.multiple&&t){if(!Array.isArray(t))throw Error("Value must be an array in multiple-selection mode.");this._clearSelection(),t.forEach(function(t){return n._selectValue(t,e)}),this._sortValues()}else{this._clearSelection();var r=this._selectValue(t,e);r&&this._keyManager.setActiveItem(r)}this._changeDetectorRef.markForCheck()},e.prototype._selectValue=function(t,e){var n=this;void 0===e&&(e=!1);var r=this.options.find(function(e){try{return null!=e.value&&n._compareWith(e.value,t)}catch(t){return Qe()&&console.warn(t),!1}});return r&&(e?r._selectViaInteraction():r.select(),this._selectionModel.select(r),this.stateChanges.next()),r},e.prototype._clearSelection=function(t){this._selectionModel.clear(),this.options.forEach(function(e){e!==t&&e.deselect()}),this.stateChanges.next()},e.prototype._initKeyManager=function(){var t=this;this._keyManager=new pg(this.options).withTypeAhead().withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._keyManager.tabOut.pipe(rc(this._destroy)).subscribe(function(){t.focus(),t.close()}),this._keyManager.change.pipe(rc(this._destroy)).subscribe(function(){t._panelOpen&&t.panel?t._scrollActiveOptionIntoView():t._panelOpen||t.multiple||!t._keyManager.activeItem||t._keyManager.activeItem._selectViaInteraction()})},e.prototype._resetOptions=function(){var t=this,e=$(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(rc(e),th(function(t){return t.isUserInput})).subscribe(function(e){t._onSelect(e.source),!t.multiple&&t._panelOpen&&(t.close(),t.focus())}),$.apply(void 0,this.options.map(function(t){return t._stateChanges})).pipe(rc(e)).subscribe(function(){t._changeDetectorRef.markForCheck(),t.stateChanges.next()}),this._setOptionIds()},e.prototype._onSelect=function(t){var e=this._selectionModel.isSelected(t);this.multiple?(this._selectionModel.toggle(t),this.stateChanges.next(),e?t.deselect():t.select(),this._keyManager.setActiveItem(t),this._sortValues(),this.focus()):(this._clearSelection(null==t.value?void 0:t),null==t.value?this._propagateChanges(t.value):(this._selectionModel.select(t),this.stateChanges.next())),e!==this._selectionModel.isSelected(t)&&this._propagateChanges()},e.prototype._sortValues=function(){var t=this;this._multiple&&(this._selectionModel.clear(),this.options.forEach(function(e){e.selected&&t._selectionModel.select(e)}),this.stateChanges.next())},e.prototype._propagateChanges=function(t){var e;e=this.multiple?this.selected.map(function(t){return t.value}):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(new function(t,e){this.source=t,this.value=e}(this,e)),this._changeDetectorRef.markForCheck()},e.prototype._setOptionIds=function(){this._optionIds=this.options.map(function(t){return t.id}).join(" ")},e.prototype._highlightCorrectOption=function(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))},e.prototype._scrollActiveOptionIntoView=function(){var t,e,n,r=this._keyManager.activeItemIndex||0,i=Hu(r,this.options,this.optionGroups);this.panel.nativeElement.scrollTop=(n=(r+i)*(t=this._getItemHeight()))<(e=this.panel.nativeElement.scrollTop)?n:n+t>e+256?Math.max(0,n-256+t):e},e.prototype.focus=function(){this._elementRef.nativeElement.focus()},e.prototype._getOptionIndex=function(t){return this.options.reduce(function(e,n,r){return void 0===e?t===n?r:void 0:e},void 0)},e.prototype._calculateOverlayPosition=function(){var t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,256),r=e*t-n,i=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);i+=Hu(i,this.options,this.optionGroups);var o=n/2;this._scrollTop=this._calculateOverlayScroll(i,o,r),this._offsetY=this._calculateOverlayOffsetY(i,o,r),this._checkOverlayWithinViewport(r)},e.prototype._calculateOverlayScroll=function(t,e,n){var r=this._getItemHeight();return Math.min(Math.max(0,r*t-e+r/2),n)},Object.defineProperty(e.prototype,"_ariaLabel",{get:function(){return this.ariaLabelledby?null:this.ariaLabel||this.placeholder},enumerable:!0,configurable:!0}),e.prototype._getAriaActiveDescendant=function(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null},e.prototype._calculateOverlayOffsetX=function(){var t,e=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),n=this._viewportRuler.getViewportSize(),r=this._isRtl(),i=this.multiple?60:32;if(this.multiple)t=44;else{var o=this._selectionModel.selected[0]||this.options.first;t=o&&o.group?32:16}r||(t*=-1);var a=0-(e.left+t-(r?i:0)),l=e.right+t-n.width+(r?0:i);a>0?t+=a+8:l>0&&(t-=l+8),this.overlayDir.offsetX=Math.round(t),this.overlayDir.overlayRef.updatePosition()},e.prototype._calculateOverlayOffsetY=function(t,e,n){var r,i=this._getItemHeight(),o=(i-this._triggerRect.height)/2,a=Math.floor(256/i);return this._disableOptionCentering?0:(r=0===this._scrollTop?t*i:this._scrollTop===n?(t-(this._getItemCount()-a))*i+(i-(this._getItemCount()*i-256)%i):e-i/2,Math.round(-1*r-o))},e.prototype._checkOverlayWithinViewport=function(t){var e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),r=this._triggerRect.top-8,i=n.height-this._triggerRect.bottom-8,o=Math.abs(this._offsetY),a=Math.min(this._getItemCount()*e,256)-o-this._triggerRect.height;a>i?this._adjustPanelUp(a,i):o>r?this._adjustPanelDown(o,r,t):this._transformOrigin=this._getOriginBasedOnOption()},e.prototype._adjustPanelUp=function(t,e){var n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")},e.prototype._adjustPanelDown=function(t,e,n){var r=Math.round(t-e);if(this._scrollTop+=r,this._offsetY+=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")},e.prototype._getOriginBasedOnOption=function(){var t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return"50% "+(Math.abs(this._offsetY)-e+t/2)+"px 0px"},e.prototype._getItemCount=function(){return this.options.length+this.optionGroups.length},e.prototype._getItemHeight=function(){return 3*this._triggerFontSize},e.prototype.setDescribedByIds=function(t){this._ariaDescribedby=t.join(" ")},e.prototype.onContainerClick=function(){this.focus(),this.open()},Object.defineProperty(e.prototype,"shouldLabelFloat",{get:function(){return this._panelOpen||!this.empty},enumerable:!0,configurable:!0}),e}(_u(xu(vu(wu(function(t,e,n,r,i){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=r,this.ngControl=i}))))),lm=function(){},sm=Or({encapsulation:2,styles:[".mat-select{display:inline-block;width:100%;outline:0}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper,.mat-form-field-appearance-standard .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%}.mat-select-panel:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}@media screen and (-ms-high-contrast:active){.mat-select-panel{outline:solid 1px}}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;transition:none;display:block}"],data:{animation:[{type:7,name:"transformPanel",definitions:[{type:0,name:"void",styles:{type:6,styles:{transform:"scaleY(0)",minWidth:"100%",opacity:0},offset:null},options:void 0},{type:0,name:"showing",styles:{type:6,styles:{opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"},offset:null},options:void 0},{type:0,name:"showing-multiple",styles:{type:6,styles:{opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"},offset:null},options:void 0},{type:1,expr:"void => *",animation:{type:3,steps:[{type:11,selector:"@fadeInContent",animation:{type:9,options:null},options:null},{type:4,styles:null,timings:"150ms cubic-bezier(0.25, 0.8, 0.25, 1)"}],options:null},options:null},{type:1,expr:"* => void",animation:[{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"250ms 100ms linear"}],options:null}],options:{}},{type:7,name:"fadeInContent",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:1,expr:"void => showing",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"150ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}]}});function um(t){return vo(0,[(t()(),ii(0,0,null,null,1,"span",[["class","mat-select-placeholder"]],null,null,null,null,null)),(t()(),go(1,null,["",""]))],null,function(t,e){t(e,1,0,e.component.placeholder||"\xa0")})}function cm(t){return vo(0,[(t()(),ii(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),go(1,null,["",""]))],null,function(t,e){t(e,1,0,e.component.triggerValue)})}function dm(t){return vo(0,[ho(null,0),(t()(),ri(0,null,null,0))],null,null)}function fm(t){return vo(0,[(t()(),ii(0,0,null,null,5,"span",[["class","mat-select-value-text"]],null,null,null,null,null)),Gi(1,16384,null,0,Yl,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),ri(16777216,null,null,1,null,cm)),Gi(3,16384,null,0,Xl,[dn,cn,Yl],null,null),(t()(),ri(16777216,null,null,1,null,dm)),Gi(5,278528,null,0,Zl,[dn,cn,Yl],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(t,e){t(e,1,0,!!e.component.customTrigger),t(e,5,0,!0)},null)}function hm(t){return vo(0,[(t()(),ii(0,0,[[2,0],["panel",1]],null,3,"div",[],[[24,"@transformPanel",0],[4,"transformOrigin",null],[2,"mat-select-panel-done-animating",null],[4,"font-size","px"]],[[null,"@transformPanel.done"],[null,"keydown"]],function(t,e,n){var r=!0,i=t.component;return"@transformPanel.done"===e&&(r=!1!==i._onPanelDone()&&r),"keydown"===e&&(r=!1!==i._handleKeydown(n)&&r),r},null,null)),Gi(1,278528,null,0,Fl,[Dn,Ln,sn,ln],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),ii(2,0,null,null,1,"div",[["class","mat-select-content"]],[[24,"@fadeInContent",0]],[[null,"@fadeInContent.done"]],function(t,e,n){var r=!0;return"@fadeInContent.done"===e&&(r=!1!==t.component._onFadeInDone()&&r),r},null,null)),ho(null,1)],function(t,e){var n,r,i,o=e.component;t(e,1,0,(n="mat-select-panel ",r=o._getPanelTheme(),n+(null!=(i=r)?i.toString():"")+""),o.panelClass)},function(t,e){var n=e.component;t(e,0,0,n.multiple?"showing-multiple":"showing",n._transformOrigin,n._panelDoneAnimating,n._triggerFontSize),t(e,2,0,"showing")})}function pm(t){return vo(2,[lo(402653184,1,{trigger:0}),lo(671088640,2,{panel:0}),lo(402653184,3,{overlayDir:0}),(t()(),ii(3,0,[[1,0],["trigger",1]],null,9,"div",[["aria-hidden","true"],["cdk-overlay-origin",""],["class","mat-select-trigger"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.toggle()&&r),r},null,null)),Gi(4,16384,[["origin",4]],0,Kg,[sn],null,null),(t()(),ii(5,0,null,null,5,"div",[["class","mat-select-value"]],null,null,null,null,null)),Gi(6,16384,null,0,Yl,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),ri(16777216,null,null,1,null,um)),Gi(8,278528,null,0,Zl,[dn,cn,Yl],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),ri(16777216,null,null,1,null,fm)),Gi(10,278528,null,0,Zl,[dn,cn,Yl],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),ii(11,0,null,null,1,"div",[["class","mat-select-arrow-wrapper"]],null,null,null,null,null)),(t()(),ii(12,0,null,null,0,"div",[["class","mat-select-arrow"]],null,null,null,null,null)),(t()(),ri(16777216,null,null,1,function(t,e,n){var r=!0,i=t.component;return"backdropClick"===e&&(r=!1!==i.close()&&r),"attach"===e&&(r=!1!==i._onAttached()&&r),"detach"===e&&(r=!1!==i.close()&&r),r},hm)),Gi(14,671744,[[3,4]],0,$g,[Zg,cn,dn,Qg,[2,Ec]],{origin:[0,"origin"],positions:[1,"positions"],offsetY:[2,"offsetY"],minWidth:[3,"minWidth"],backdropClass:[4,"backdropClass"],scrollStrategy:[5,"scrollStrategy"],open:[6,"open"],hasBackdrop:[7,"hasBackdrop"],lockPosition:[8,"lockPosition"]},{backdropClick:"backdropClick",attach:"attach",detach:"detach"})],function(t,e){var n=e.component;t(e,6,0,n.empty),t(e,8,0,!0),t(e,10,0,!1),t(e,14,0,Ii(e,4),n._positions,n._offsetY,null==n._triggerRect?null:n._triggerRect.width,"cdk-overlay-transparent-backdrop",n._scrollStrategy,n.panelOpen,"","")},null)}var gm=0,mm=function(t){function e(e,n,r,i,o,a,l){var s=t.call(this,e)||this;return s._focusMonitor=r,s._changeDetectorRef=i,s._ngZone=a,s._animationMode=l,s.onChange=function(t){},s.onTouched=function(){},s._uniqueId="mat-slide-toggle-"+ ++gm,s._required=!1,s._checked=!1,s._dragging=!1,s.name=null,s.id=s._uniqueId,s.labelPosition="after",s.ariaLabel=null,s.ariaLabelledby=null,s.change=new Re,s.tabIndex=parseInt(o)||0,s}return i(e,t),Object.defineProperty(e.prototype,"required",{get:function(){return this._required},set:function(t){this._required=Cl(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checked",{get:function(){return this._checked},set:function(t){this._checked=Cl(t),this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputId",{get:function(){return(this.id||this._uniqueId)+"-input"},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){var t=this;this._focusMonitor.monitor(this._inputElement.nativeElement).subscribe(function(e){return t._onInputFocusChange(e)})},e.prototype.ngOnDestroy=function(){this._focusMonitor.stopMonitoring(this._inputElement.nativeElement)},e.prototype._onChangeEvent=function(t){t.stopPropagation(),this._dragging?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())},e.prototype._onInputClick=function(t){t.stopPropagation()},e.prototype.writeValue=function(t){this.checked=!!t},e.prototype.registerOnChange=function(t){this.onChange=t},e.prototype.registerOnTouched=function(t){this.onTouched=t},e.prototype.setDisabledState=function(t){this.disabled=t,this._changeDetectorRef.markForCheck()},e.prototype.focus=function(){this._focusMonitor.focusVia(this._inputElement.nativeElement,"keyboard")},e.prototype.toggle=function(){this.checked=!this.checked},e.prototype._onInputFocusChange=function(t){this._focusRipple||"keyboard"!==t?t||(this.onTouched(),this._focusRipple&&(this._focusRipple.fadeOut(),this._focusRipple=null)):this._focusRipple=this._ripple.launch(0,0,{persistent:!0})},e.prototype._emitChangeEvent=function(){this.onChange(this.checked),this.change.emit(new function(t,e){this.source=t,this.checked=e}(this,this.checked))},e.prototype._getDragPercentage=function(t){var e=t/this._thumbBarWidth*100;return this._previousChecked&&(e+=100),Math.max(0,Math.min(e,100))},e.prototype._onDragStart=function(){if(!this.disabled&&!this._dragging){var t=this._thumbEl.nativeElement;this._thumbBarWidth=this._thumbBarEl.nativeElement.clientWidth-t.clientWidth,t.classList.add("mat-dragging"),this._previousChecked=this.checked,this._dragging=!0}},e.prototype._onDrag=function(t){this._dragging&&(this._dragPercentage=this._getDragPercentage(t.deltaX),this._thumbEl.nativeElement.style.transform="translate3d("+this._dragPercentage/100*this._thumbBarWidth+"px, 0, 0)")},e.prototype._onDragEnd=function(){var t=this;if(this._dragging){var e=this._dragPercentage>50;e!==this.checked&&(this.checked=e,this._emitChangeEvent()),this._ngZone.runOutsideAngular(function(){return setTimeout(function(){t._dragging&&(t._dragging=!1,t._thumbEl.nativeElement.classList.remove("mat-dragging"),t._thumbEl.nativeElement.style.transform="")})})}},e.prototype._onLabelTextChange=function(){this._changeDetectorRef.markForCheck()},e}(xu(bu(_u(vu(function(t){this._elementRef=t})),"accent"))),ym=function(){},vm=Or({encapsulation:2,styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:0}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px,0,0)}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}.mat-slide-toggle-bar,[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-right:8px;margin-left:0}.mat-slide-toggle-label-before .mat-slide-toggle-bar,[dir=rtl] .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0,0,0);transition:all 80ms linear;transition-property:transform;cursor:-webkit-grab;cursor:grab}.mat-slide-toggle-thumb-container.mat-dragging,.mat-slide-toggle-thumb-container:active{cursor:-webkit-grabbing;cursor:grabbing;transition-duration:0s}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}@media screen and (-ms-high-contrast:active){.mat-slide-toggle-thumb{background:#fff;border:solid 1px #000}}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}@media screen and (-ms-high-contrast:active){.mat-slide-toggle-bar{background:#fff}}.mat-slide-toggle-input{bottom:0;left:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle-ripple{position:absolute;top:calc(50% - 23px);left:calc(50% - 23px);height:46px;width:46px;z-index:1;pointer-events:none}"],data:{}});function bm(t){return vo(2,[lo(402653184,1,{_thumbEl:0}),lo(402653184,2,{_thumbBarEl:0}),lo(402653184,3,{_inputElement:0}),lo(402653184,4,{_ripple:0}),(t()(),ii(4,0,[["label",1]],null,10,"label",[["class","mat-slide-toggle-label"]],null,null,null,null,null)),(t()(),ii(5,0,[[2,0],["toggleBar",1]],null,6,"div",[["class","mat-slide-toggle-bar"]],[[2,"mat-slide-toggle-bar-no-side-margin",null]],null,null,null,null)),(t()(),ii(6,0,[[3,0],["input",1]],null,0,"input",[["class","mat-slide-toggle-input cdk-visually-hidden"],["type","checkbox"]],[[8,"id",0],[8,"required",0],[8,"tabIndex",0],[8,"checked",0],[8,"disabled",0],[1,"name",0],[1,"aria-label",0],[1,"aria-labelledby",0]],[[null,"change"],[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"change"===e&&(r=!1!==i._onChangeEvent(n)&&r),"click"===e&&(r=!1!==i._onInputClick(n)&&r),r},null,null)),(t()(),ii(7,0,[[1,0],["thumbContainer",1]],null,4,"div",[["class","mat-slide-toggle-thumb-container"]],null,[[null,"slidestart"],[null,"slide"],[null,"slideend"]],function(t,e,n){var r=!0,i=t.component;return"slidestart"===e&&(r=!1!==i._onDragStart()&&r),"slide"===e&&(r=!1!==i._onDrag(n)&&r),"slideend"===e&&(r=!1!==i._onDragEnd()&&r),r},null,null)),(t()(),ii(8,0,null,null,0,"div",[["class","mat-slide-toggle-thumb"]],null,null,null,null,null)),(t()(),ii(9,0,null,null,2,"div",[["class","mat-slide-toggle-ripple mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),Gi(10,212992,[[4,4]],0,Du,[sn,Ne,es,[2,Iu],[2,Wf]],{centered:[0,"centered"],radius:[1,"radius"],animation:[2,"animation"],disabled:[3,"disabled"],trigger:[4,"trigger"]},null),function(t,e){for(var n=Object.keys(e),r=n.length,i=new Array(r),o=0;o<r;o++){var a=n[o];i[e[a]]=a}return function(t,e,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var o=n[i];r[i]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:11,flags:64,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:ni(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}(0,0,i)}(0,{enterDuration:0}),(t()(),ii(12,0,[["labelContent",1]],null,2,"span",[["class","mat-slide-toggle-content"]],null,[[null,"cdkObserveContent"]],function(t,e,n){var r=!0;return"cdkObserveContent"===e&&(r=!1!==t.component._onLabelTextChange()&&r),r},null,null)),Gi(13,1196032,null,0,Ac,[Cc,sn,Ne],null,{event:"cdkObserveContent"}),ho(null,0)],function(t,e){var n=e.component;t(e,10,0,!0,23,t(e,11,0,150),n.disableRipple||n.disabled,Ii(e,4))},function(t,e){var n=e.component;t(e,5,0,!Ii(e,12).textContent||!Ii(e,12).textContent.trim()),t(e,6,0,n.inputId,n.required,n.tabIndex,n.checked,n.disabled,n.name,n.ariaLabel,n.ariaLabelledby),t(e,9,0,Ii(e,10).unbounded)})}var _m=function(t){function e(e,n,r,i,o,a){var l=t.call(this,e)||this;return l._focusMonitor=n,l._changeDetectorRef=r,l._dir=i,l._animationMode=a,l._invert=!1,l._max=100,l._min=0,l._step=1,l._thumbLabel=!1,l._tickInterval=0,l._value=null,l._vertical=!1,l.change=new Re,l.input=new Re,l.onTouched=function(){},l._percent=0,l._isSliding=!1,l._isActive=!1,l._tickIntervalPercent=0,l._sliderDimensions=null,l._controlValueAccessorChangeFn=function(){},l._dirChangeSubscription=x.EMPTY,l.tabIndex=parseInt(o)||0,l}return i(e,t),Object.defineProperty(e.prototype,"invert",{get:function(){return this._invert},set:function(t){this._invert=Cl(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(t){this._max=Al(t,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(t){this._min=Al(t,this._min),null===this._value&&(this.value=this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return this._step},set:function(t){this._step=Al(t,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"thumbLabel",{get:function(){return this._thumbLabel},set:function(t){this._thumbLabel=Cl(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tickInterval",{get:function(){return this._tickInterval},set:function(t){this._tickInterval="auto"===t?"auto":"number"==typeof t||"string"==typeof t?Al(t,this._tickInterval):0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return null===this._value&&(this.value=this._min),this._value},set:function(t){t!==this._value&&(this._value=Al(t),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"vertical",{get:function(){return this._vertical},set:function(t){this._vertical=Cl(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayValue",{get:function(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0},enumerable:!0,configurable:!0}),e.prototype.focus=function(){this._focusHostElement()},e.prototype.blur=function(){this._blurHostElement()},Object.defineProperty(e.prototype,"percent",{get:function(){return this._clamp(this._percent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_invertAxis",{get:function(){return this.vertical?!this.invert:this.invert},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_isMinValue",{get:function(){return 0===this.percent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_thumbGap",{get:function(){return this.disabled?7:this._isMinValue&&!this.thumbLabel?this._isActive?10:7:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_trackBackgroundStyles",{get:function(){var t=this.vertical?"Y":"X";return{transform:"translate"+t+"("+(this._invertMouseCoords?"-":"")+this._thumbGap+"px) scale"+t+"("+(1-this.percent)+")"}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_trackFillStyles",{get:function(){var t=this.vertical?"Y":"X";return{transform:"translate"+t+"("+(this._invertMouseCoords?"":"-")+this._thumbGap+"px) scale"+t+"("+this.percent+")"}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ticksContainerStyles",{get:function(){return{transform:"translate"+(this.vertical?"Y":"X")+"("+(this.vertical||"rtl"!=this._direction?"-":"")+this._tickIntervalPercent/2*100+"%)"}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ticksStyles",{get:function(){var t=100*this._tickIntervalPercent,e={backgroundSize:this.vertical?"2px "+t+"%":t+"% 2px",transform:"translateZ(0) translate"+(this.vertical?"Y":"X")+"("+(this.vertical||"rtl"!=this._direction?"":"-")+t/2+"%)"+(this.vertical||"rtl"!=this._direction?"":" rotate(180deg)")};return this._isMinValue&&this._thumbGap&&(e["padding"+(this.vertical?this._invertAxis?"Bottom":"Top":this._invertAxis?"Right":"Left")]=this._thumbGap+"px"),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_thumbContainerStyles",{get:function(){return{transform:"translate"+(this.vertical?"Y":"X")+"(-"+100*(("rtl"!=this._direction||this.vertical?this._invertAxis:!this._invertAxis)?this.percent:1-this.percent)+"%)"}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_invertMouseCoords",{get:function(){return"rtl"!=this._direction||this.vertical?this._invertAxis:!this._invertAxis},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_direction",{get:function(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var t=this;this._focusMonitor.monitor(this._elementRef.nativeElement,!0).subscribe(function(e){t._isActive=!!e&&"keyboard"!==e,t._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(function(){t._changeDetectorRef.markForCheck()}))},e.prototype.ngOnDestroy=function(){this._focusMonitor.stopMonitoring(this._elementRef.nativeElement),this._dirChangeSubscription.unsubscribe()},e.prototype._onMouseenter=function(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())},e.prototype._onClick=function(t){if(!this.disabled){var e=this.value;this._isSliding=!1,this._focusHostElement(),this._updateValueFromPosition({x:t.clientX,y:t.clientY}),e!=this.value&&(this._emitInputEvent(),this._emitChangeEvent())}},e.prototype._onSlide=function(t){if(!this.disabled){this._isSliding||this._onSlideStart(null),t.preventDefault();var e=this.value;this._updateValueFromPosition({x:t.center.x,y:t.center.y}),e!=this.value&&this._emitInputEvent()}},e.prototype._onSlideStart=function(t){this.disabled||this._isSliding||(this._onMouseenter(),this._isSliding=!0,this._focusHostElement(),this._valueOnSlideStart=this.value,t&&(this._updateValueFromPosition({x:t.center.x,y:t.center.y}),t.preventDefault()))},e.prototype._onSlideEnd=function(){this._isSliding=!1,this._valueOnSlideStart==this.value||this.disabled||this._emitChangeEvent(),this._valueOnSlideStart=null},e.prototype._onFocus=function(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()},e.prototype._onBlur=function(){this.onTouched()},e.prototype._onKeydown=function(t){if(!this.disabled){var e=this.value;switch(t.keyCode){case 33:this._increment(10);break;case 34:this._increment(-10);break;case 35:this.value=this.max;break;case 36:this.value=this.min;break;case 37:this._increment("rtl"==this._direction?1:-1);break;case 38:this._increment(1);break;case 39:this._increment("rtl"==this._direction?-1:1);break;case 40:this._increment(-1);break;default:return}e!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding=!0,t.preventDefault()}},e.prototype._onKeyup=function(){this._isSliding=!1},e.prototype._increment=function(t){this.value=this._clamp((this.value||0)+this.step*t,this.min,this.max)},e.prototype._updateValueFromPosition=function(t){if(this._sliderDimensions){var e=this._clamp(((this.vertical?t.y:t.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._invertMouseCoords&&(e=1-e),0===e)this.value=this.min;else if(1===e)this.value=this.max;else{var n=this._calculateValue(e),r=Math.round((n-this.min)/this.step)*this.step+this.min;this._roundToDecimal&&(r=parseFloat(r.toFixed(this._roundToDecimal))),this.value=this._clamp(r,this.min,this.max)}}},e.prototype._emitChangeEvent=function(){this._controlValueAccessorChangeFn(this.value),this.change.emit(this._createChangeEvent())},e.prototype._emitInputEvent=function(){this.input.emit(this._createChangeEvent())},e.prototype._updateTickIntervalPercent=function(){if(this.tickInterval&&this._sliderDimensions)if("auto"==this.tickInterval){var t=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,e=Math.ceil(30/(t*this.step/(this.max-this.min)));this._tickIntervalPercent=e*this.step/t}else this._tickIntervalPercent=this.tickInterval*this.step/(this.max-this.min)},e.prototype._createChangeEvent=function(t){void 0===t&&(t=this.value);var e=new function(){};return e.source=this,e.value=t,e},e.prototype._calculatePercentage=function(t){return((t||0)-this.min)/(this.max-this.min)},e.prototype._calculateValue=function(t){return this.min+t*(this.max-this.min)},e.prototype._clamp=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=1),Math.max(e,Math.min(t,n))},e.prototype._getSliderDimensions=function(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null},e.prototype._focusHostElement=function(){this._elementRef.nativeElement.focus()},e.prototype._blurHostElement=function(){this._elementRef.nativeElement.blur()},e.prototype.writeValue=function(t){this.value=t},e.prototype.registerOnChange=function(t){this._controlValueAccessorChangeFn=t},e.prototype.registerOnTouched=function(t){this.onTouched=t},e.prototype.setDisabledState=function(t){this.disabled=t},e}(xu(bu(vu(function(t){this._elementRef=t}),"accent"))),xm=function(){},wm=Or({encapsulation:2,styles:[".mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:0;vertical-align:middle}.mat-slider-wrapper{position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{background-repeat:repeat;background-clip:content-box;box-sizing:border-box;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1),opacity .4s cubic-bezier(.25,.8,.25,1)}.cdk-keyboard-focused .mat-slider-focus-ring,.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled) .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled) .mat-slider-thumb-label{cursor:-webkit-grab;cursor:grab}.mat-slider-sliding:not(.mat-slider-disabled) .mat-slider-thumb,.mat-slider-sliding:not(.mat-slider-disabled) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled) .mat-slider-thumb-label:active,.mat-slider:not(.mat-slider-disabled) .mat-slider-thumb:active{cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(.7);transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1),border-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform .4s cubic-bezier(.25,.8,.25,1),border-radius .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-sliding .mat-slider-thumb-container,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-track-fill{transition-duration:0s}.mat-slider-has-ticks .mat-slider-wrapper::after{content:'';position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}@media screen and (-ms-high-contrast:active){.mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}@media screen and (-ms-high-contrast:active){.mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-track-fill{transition:none}"],data:{}});function km(t){return vo(2,[lo(402653184,1,{_sliderWrapper:0}),(t()(),ii(1,0,[[1,0],["sliderWrapper",1]],null,16,"div",[["class","mat-slider-wrapper"]],null,null,null,null,null)),(t()(),ii(2,0,null,null,4,"div",[["class","mat-slider-track-wrapper"]],null,null,null,null,null)),(t()(),ii(3,0,null,null,1,"div",[["class","mat-slider-track-background"]],null,null,null,null,null)),Gi(4,278528,null,0,Ql,[Ln,sn,ln],{ngStyle:[0,"ngStyle"]},null),(t()(),ii(5,0,null,null,1,"div",[["class","mat-slider-track-fill"]],null,null,null,null,null)),Gi(6,278528,null,0,Ql,[Ln,sn,ln],{ngStyle:[0,"ngStyle"]},null),(t()(),ii(7,0,null,null,3,"div",[["class","mat-slider-ticks-container"]],null,null,null,null,null)),Gi(8,278528,null,0,Ql,[Ln,sn,ln],{ngStyle:[0,"ngStyle"]},null),(t()(),ii(9,0,null,null,1,"div",[["class","mat-slider-ticks"]],null,null,null,null,null)),Gi(10,278528,null,0,Ql,[Ln,sn,ln],{ngStyle:[0,"ngStyle"]},null),(t()(),ii(11,0,null,null,6,"div",[["class","mat-slider-thumb-container"]],null,null,null,null,null)),Gi(12,278528,null,0,Ql,[Ln,sn,ln],{ngStyle:[0,"ngStyle"]},null),(t()(),ii(13,0,null,null,0,"div",[["class","mat-slider-focus-ring"]],null,null,null,null,null)),(t()(),ii(14,0,null,null,0,"div",[["class","mat-slider-thumb"]],null,null,null,null,null)),(t()(),ii(15,0,null,null,2,"div",[["class","mat-slider-thumb-label"]],null,null,null,null,null)),(t()(),ii(16,0,null,null,1,"span",[["class","mat-slider-thumb-label-text"]],null,null,null,null,null)),(t()(),go(17,null,["",""]))],function(t,e){var n=e.component;t(e,4,0,n._trackBackgroundStyles),t(e,6,0,n._trackFillStyles),t(e,8,0,n._ticksContainerStyles),t(e,10,0,n._ticksStyles),t(e,12,0,n._thumbContainerStyles)},function(t,e){t(e,17,0,e.component.displayValue)})}var Tm=function(){function t(t){this.http=t,this.deadbandMin=0,this.deadbandMax=15,this.coefficientMin=0,this.coefficientMax=255,this.effect={spring:{enabled:!1,coefficient:0,deadBand:0},damper:{enabled:!1,coefficient:0,deadBand:0},inertia:{enabled:!1,coefficient:0,deadBand:0},friction:{enabled:!1,coefficient:0,deadBand:0},limit:{enabled:!1,cpOfffset:0},gain:0}}return t.prototype.ngOnInit=function(){var t=this;this.http.getProfilesList().subscribe(function(e){return t.effectProfiles=e})},t.prototype.saveEffect=function(){this.http.saveEffect(this.selected,this.effect).subscribe(function(t){return console.log("success",t)},function(t){return console.log("oops",t)})},t.prototype.selectionChanged=function(t){var e=this;this.http.getEffect(t).subscribe(function(t){return e.effect=t})},t}(),Cm=Or({encapsulation:0,styles:[[""]],data:{}});function Am(t){return vo(0,[(t()(),ii(0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Ii(t,1)._selectViaInteraction()&&r),"keydown"===e&&(r=!1!==Ii(t,1)._handleKeydown(n)&&r),r},Tg,wg)),Gi(1,8568832,[[8,4]],0,Bu,[sn,fn,[2,Vu],[2,zu]],{value:[0,"value"]},null),(t()(),go(2,0,["",""]))],function(t,e){t(e,1,0,e.context.$implicit)},function(t,e){t(e,0,0,Ii(e,1)._getTabIndex(),Ii(e,1).selected,Ii(e,1).multiple,Ii(e,1).active,Ii(e,1).id,Ii(e,1).selected.toString(),Ii(e,1).disabled.toString(),Ii(e,1).disabled),t(e,2,0,e.context.$implicit)})}function Mm(t){return vo(0,[(t()(),ii(0,0,null,null,20,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Jh,Bh)),Gi(1,7389184,null,7,jh,[sn,fn,[2,Uu],[2,Ec],[2,zh],es,Ne,[2,Wf]],null,null),lo(335544320,1,{_control:0}),lo(335544320,2,{_placeholderChild:0}),lo(335544320,3,{_labelChild:0}),lo(603979776,4,{_errorChildren:1}),lo(603979776,5,{_hintChildren:1}),lo(603979776,6,{_prefixChildren:1}),lo(603979776,7,{_suffixChildren:1}),(t()(),ii(9,0,null,1,11,"mat-select",[["class","mat-select"],["role","listbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null]],[[null,"ngModelChange"],[null,"keydown"],[null,"focus"],[null,"blur"]],function(t,e,n){var r=!0,i=t.component;return"keydown"===e&&(r=!1!==Ii(t,14)._handleKeydown(n)&&r),"focus"===e&&(r=!1!==Ii(t,14)._onFocus()&&r),"blur"===e&&(r=!1!==Ii(t,14)._onBlur()&&r),"ngModelChange"===e&&(r=!1!==(i.selected=n)&&r),"ngModelChange"===e&&(r=!1!==i.selectionChanged(n)&&r),r},pm,sm)),Wi(6144,null,Vu,null,[am]),Gi(11,671744,null,0,Qp,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),Wi(2048,null,yp,null,[Qp]),Gi(13,16384,null,0,Fp,[[4,yp]],null,null),Gi(14,2080768,null,3,am,[ih,fn,Ne,ku,sn,[2,Ec],[2,Wp],[2,Kp],[2,jh],[6,yp],[8,null],im],null,null),lo(603979776,8,{options:1}),lo(603979776,9,{optionGroups:1}),lo(335544320,10,{customTrigger:0}),Wi(2048,[[1,4]],Lh,null,[am]),(t()(),ri(16777216,null,1,1,null,Am)),Gi(20,802816,null,0,jl,[dn,cn,Dn],{ngForOf:[0,"ngForOf"]},null),(t()(),ii(21,0,null,null,189,"div",[["class","example-card"],["layout","row"],["layout-align","center center"]],null,null,null,null,null)),(t()(),ii(22,0,null,null,34,"div",[],null,null,null,null,null)),(t()(),ii(23,0,null,null,33,"mat-card",[["class","example-card mat-card"],["style","width:20%"]],null,null,null,Mh,Ah)),Gi(24,49152,null,0,kh,[],null,null),(t()(),ii(25,0,null,0,31,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),Gi(26,16384,null,0,xh,[],null,null),(t()(),ii(27,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),go(-1,null,["Spring"])),(t()(),ii(29,0,null,null,6,"mat-slide-toggle",[["class","mat-slide-toggle"]],[[8,"id",0],[2,"mat-checked",null],[2,"mat-disabled",null],[2,"mat-slide-toggle-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(t,e,n){var r=!0;return"ngModelChange"===e&&(r=!1!==(t.component.effect.spring.enabled=n)&&r),r},bm,vm)),Gi(30,1228800,null,0,mm,[sn,es,gg,fn,[8,null],Ne,[2,Wf]],null,null),Wi(1024,null,up,function(t){return[t]},[mm]),Gi(32,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,up]],{model:[0,"model"]},{update:"ngModelChange"}),Wi(2048,null,yp,null,[Qp]),Gi(34,16384,null,0,Fp,[[4,yp]],null,null),(t()(),go(-1,0,["Enable"])),(t()(),ii(36,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ii(37,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),go(-1,null,[" Coefficient "])),(t()(),ii(39,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ii(40,0,null,null,6,"mat-slider",[["class","mat-slider"],["role","slider"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"focus"],[null,"blur"],[null,"click"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(t,e,n){var r=!0,i=t.component;return"focus"===e&&(r=!1!==Ii(t,41)._onFocus()&&r),"blur"===e&&(r=!1!==Ii(t,41)._onBlur()&&r),"click"===e&&(r=!1!==Ii(t,41)._onClick(n)&&r),"keydown"===e&&(r=!1!==Ii(t,41)._onKeydown(n)&&r),"keyup"===e&&(r=!1!==Ii(t,41)._onKeyup()&&r),"mouseenter"===e&&(r=!1!==Ii(t,41)._onMouseenter()&&r),"slide"===e&&(r=!1!==Ii(t,41)._onSlide(n)&&r),"slideend"===e&&(r=!1!==Ii(t,41)._onSlideEnd()&&r),"slidestart"===e&&(r=!1!==Ii(t,41)._onSlideStart(n)&&r),"ngModelChange"===e&&(r=!1!==(i.effect.spring.coefficient=n)&&r),r},km,wm)),Gi(41,245760,null,0,_m,[sn,gg,fn,[2,Ec],[8,null],[2,Wf]],{max:[0,"max"],min:[1,"min"]},null),Wi(1024,null,up,function(t){return[t]},[_m]),Gi(43,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,up]],{model:[0,"model"]},{update:"ngModelChange"}),Wi(2048,null,yp,null,[Qp]),Gi(45,16384,null,0,Fp,[[4,yp]],null,null),(t()(),go(-1,null,["Coefficient"])),(t()(),ii(47,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),go(-1,null,[" Deadband "])),(t()(),ii(49,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ii(50,0,null,null,6,"mat-slider",[["class","mat-slider"],["role","slider"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"focus"],[null,"blur"],[null,"click"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(t,e,n){var r=!0,i=t.component;return"focus"===e&&(r=!1!==Ii(t,51)._onFocus()&&r),"blur"===e&&(r=!1!==Ii(t,51)._onBlur()&&r),"click"===e&&(r=!1!==Ii(t,51)._onClick(n)&&r),"keydown"===e&&(r=!1!==Ii(t,51)._onKeydown(n)&&r),"keyup"===e&&(r=!1!==Ii(t,51)._onKeyup()&&r),"mouseenter"===e&&(r=!1!==Ii(t,51)._onMouseenter()&&r),"slide"===e&&(r=!1!==Ii(t,51)._onSlide(n)&&r),"slideend"===e&&(r=!1!==Ii(t,51)._onSlideEnd()&&r),"slidestart"===e&&(r=!1!==Ii(t,51)._onSlideStart(n)&&r),"ngModelChange"===e&&(r=!1!==(i.effect.spring.deadBand=n)&&r),r},km,wm)),Gi(51,245760,null,0,_m,[sn,gg,fn,[2,Ec],[8,null],[2,Wf]],{max:[0,"max"],min:[1,"min"]},null),Wi(1024,null,up,function(t){return[t]},[_m]),Gi(53,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,up]],{model:[0,"model"]},{update:"ngModelChange"}),Wi(2048,null,yp,null,[Qp]),Gi(55,16384,null,0,Fp,[[4,yp]],null,null),(t()(),go(-1,null,["Deadband"])),(t()(),ii(57,0,null,null,34,"div",[],null,null,null,null,null)),(t()(),ii(58,0,null,null,33,"mat-card",[["class","example-card mat-card"],["style","width:20%"]],null,null,null,Mh,Ah)),Gi(59,49152,null,0,kh,[],null,null),(t()(),ii(60,0,null,0,31,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),Gi(61,16384,null,0,xh,[],null,null),(t()(),ii(62,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),go(-1,null,["Friction"])),(t()(),ii(64,0,null,null,6,"mat-slide-toggle",[["class","mat-slide-toggle"]],[[8,"id",0],[2,"mat-checked",null],[2,"mat-disabled",null],[2,"mat-slide-toggle-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(t,e,n){var r=!0;return"ngModelChange"===e&&(r=!1!==(t.component.effect.friction.enabled=n)&&r),r},bm,vm)),Gi(65,1228800,null,0,mm,[sn,es,gg,fn,[8,null],Ne,[2,Wf]],null,null),Wi(1024,null,up,function(t){return[t]},[mm]),Gi(67,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,up]],{model:[0,"model"]},{update:"ngModelChange"}),Wi(2048,null,yp,null,[Qp]),Gi(69,16384,null,0,Fp,[[4,yp]],null,null),(t()(),go(-1,0,["Enable"])),(t()(),ii(71,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ii(72,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),go(-1,null,[" Coefficient "])),(t()(),ii(74,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ii(75,0,null,null,6,"mat-slider",[["class","mat-slider"],["role","slider"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"focus"],[null,"blur"],[null,"click"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(t,e,n){var r=!0,i=t.component;return"focus"===e&&(r=!1!==Ii(t,76)._onFocus()&&r),"blur"===e&&(r=!1!==Ii(t,76)._onBlur()&&r),"click"===e&&(r=!1!==Ii(t,76)._onClick(n)&&r),"keydown"===e&&(r=!1!==Ii(t,76)._onKeydown(n)&&r),"keyup"===e&&(r=!1!==Ii(t,76)._onKeyup()&&r),"mouseenter"===e&&(r=!1!==Ii(t,76)._onMouseenter()&&r),"slide"===e&&(r=!1!==Ii(t,76)._onSlide(n)&&r),"slideend"===e&&(r=!1!==Ii(t,76)._onSlideEnd()&&r),"slidestart"===e&&(r=!1!==Ii(t,76)._onSlideStart(n)&&r),"ngModelChange"===e&&(r=!1!==(i.effect.friction.coefficient=n)&&r),r},km,wm)),Gi(76,245760,null,0,_m,[sn,gg,fn,[2,Ec],[8,null],[2,Wf]],{max:[0,"max"],min:[1,"min"]},null),Wi(1024,null,up,function(t){return[t]},[_m]),Gi(78,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,up]],{model:[0,"model"]},{update:"ngModelChange"}),Wi(2048,null,yp,null,[Qp]),Gi(80,16384,null,0,Fp,[[4,yp]],null,null),(t()(),go(-1,null,["Coefficient"])),(t()(),ii(82,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),go(-1,null,[" Deadband "])),(t()(),ii(84,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ii(85,0,null,null,6,"mat-slider",[["class","mat-slider"],["role","slider"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"focus"],[null,"blur"],[null,"click"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(t,e,n){var r=!0,i=t.component;return"focus"===e&&(r=!1!==Ii(t,86)._onFocus()&&r),"blur"===e&&(r=!1!==Ii(t,86)._onBlur()&&r),"click"===e&&(r=!1!==Ii(t,86)._onClick(n)&&r),"keydown"===e&&(r=!1!==Ii(t,86)._onKeydown(n)&&r),"keyup"===e&&(r=!1!==Ii(t,86)._onKeyup()&&r),"mouseenter"===e&&(r=!1!==Ii(t,86)._onMouseenter()&&r),"slide"===e&&(r=!1!==Ii(t,86)._onSlide(n)&&r),"slideend"===e&&(r=!1!==Ii(t,86)._onSlideEnd()&&r),"slidestart"===e&&(r=!1!==Ii(t,86)._onSlideStart(n)&&r),"ngModelChange"===e&&(r=!1!==(i.effect.friction.deadBand=n)&&r),r},km,wm)),Gi(86,245760,null,0,_m,[sn,gg,fn,[2,Ec],[8,null],[2,Wf]],{max:[0,"max"],min:[1,"min"]},null),Wi(1024,null,up,function(t){return[t]},[_m]),Gi(88,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,up]],{model:[0,"model"]},{update:"ngModelChange"}),Wi(2048,null,yp,null,[Qp]),Gi(90,16384,null,0,Fp,[[4,yp]],null,null),(t()(),go(-1,null,["Deadband"])),(t()(),ii(92,0,null,null,34,"div",[],null,null,null,null,null)),(t()(),ii(93,0,null,null,33,"mat-card",[["class","example-card mat-card"],["style","width:20%"]],null,null,null,Mh,Ah)),Gi(94,49152,null,0,kh,[],null,null),(t()(),ii(95,0,null,0,31,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),Gi(96,16384,null,0,xh,[],null,null),(t()(),ii(97,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),go(-1,null,["Damper"])),(t()(),ii(99,0,null,null,6,"mat-slide-toggle",[["class","mat-slide-toggle"]],[[8,"id",0],[2,"mat-checked",null],[2,"mat-disabled",null],[2,"mat-slide-toggle-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(t,e,n){var r=!0;return"ngModelChange"===e&&(r=!1!==(t.component.effect.damper.enabled=n)&&r),r},bm,vm)),Gi(100,1228800,null,0,mm,[sn,es,gg,fn,[8,null],Ne,[2,Wf]],null,null),Wi(1024,null,up,function(t){return[t]},[mm]),Gi(102,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,up]],{model:[0,"model"]},{update:"ngModelChange"}),Wi(2048,null,yp,null,[Qp]),Gi(104,16384,null,0,Fp,[[4,yp]],null,null),(t()(),go(-1,0,["Enable"])),(t()(),ii(106,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ii(107,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),go(-1,null,[" Coefficient "])),(t()(),ii(109,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ii(110,0,null,null,6,"mat-slider",[["class","mat-slider"],["role","slider"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"focus"],[null,"blur"],[null,"click"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(t,e,n){var r=!0,i=t.component;return"focus"===e&&(r=!1!==Ii(t,111)._onFocus()&&r),"blur"===e&&(r=!1!==Ii(t,111)._onBlur()&&r),"click"===e&&(r=!1!==Ii(t,111)._onClick(n)&&r),"keydown"===e&&(r=!1!==Ii(t,111)._onKeydown(n)&&r),"keyup"===e&&(r=!1!==Ii(t,111)._onKeyup()&&r),"mouseenter"===e&&(r=!1!==Ii(t,111)._onMouseenter()&&r),"slide"===e&&(r=!1!==Ii(t,111)._onSlide(n)&&r),"slideend"===e&&(r=!1!==Ii(t,111)._onSlideEnd()&&r),"slidestart"===e&&(r=!1!==Ii(t,111)._onSlideStart(n)&&r),"ngModelChange"===e&&(r=!1!==(i.effect.damper.coefficient=n)&&r),r},km,wm)),Gi(111,245760,null,0,_m,[sn,gg,fn,[2,Ec],[8,null],[2,Wf]],{max:[0,"max"],min:[1,"min"]},null),Wi(1024,null,up,function(t){return[t]},[_m]),Gi(113,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,up]],{model:[0,"model"]},{update:"ngModelChange"}),Wi(2048,null,yp,null,[Qp]),Gi(115,16384,null,0,Fp,[[4,yp]],null,null),(t()(),go(-1,null,["Coefficient"])),(t()(),ii(117,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),go(-1,null,[" Deadband "])),(t()(),ii(119,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ii(120,0,null,null,6,"mat-slider",[["class","mat-slider"],["role","slider"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"focus"],[null,"blur"],[null,"click"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(t,e,n){var r=!0,i=t.component;return"focus"===e&&(r=!1!==Ii(t,121)._onFocus()&&r),"blur"===e&&(r=!1!==Ii(t,121)._onBlur()&&r),"click"===e&&(r=!1!==Ii(t,121)._onClick(n)&&r),"keydown"===e&&(r=!1!==Ii(t,121)._onKeydown(n)&&r),"keyup"===e&&(r=!1!==Ii(t,121)._onKeyup()&&r),"mouseenter"===e&&(r=!1!==Ii(t,121)._onMouseenter()&&r),"slide"===e&&(r=!1!==Ii(t,121)._onSlide(n)&&r),"slideend"===e&&(r=!1!==Ii(t,121)._onSlideEnd()&&r),"slidestart"===e&&(r=!1!==Ii(t,121)._onSlideStart(n)&&r),"ngModelChange"===e&&(r=!1!==(i.effect.damper.deadBand=n)&&r),r},km,wm)),Gi(121,245760,null,0,_m,[sn,gg,fn,[2,Ec],[8,null],[2,Wf]],{max:[0,"max"],min:[1,"min"]},null),Wi(1024,null,up,function(t){return[t]},[_m]),Gi(123,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,up]],{model:[0,"model"]},{update:"ngModelChange"}),Wi(2048,null,yp,null,[Qp]),Gi(125,16384,null,0,Fp,[[4,yp]],null,null),(t()(),go(-1,null,["Deadband"])),(t()(),ii(127,0,null,null,34,"div",[],null,null,null,null,null)),(t()(),ii(128,0,null,null,33,"mat-card",[["class","example-card mat-card"],["style","width:20%"]],null,null,null,Mh,Ah)),Gi(129,49152,null,0,kh,[],null,null),(t()(),ii(130,0,null,0,31,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),Gi(131,16384,null,0,xh,[],null,null),(t()(),ii(132,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),go(-1,null,["Inertia"])),(t()(),ii(134,0,null,null,6,"mat-slide-toggle",[["class","mat-slide-toggle"]],[[8,"id",0],[2,"mat-checked",null],[2,"mat-disabled",null],[2,"mat-slide-toggle-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(t,e,n){var r=!0;return"ngModelChange"===e&&(r=!1!==(t.component.effect.inertia.enabled=n)&&r),r},bm,vm)),Gi(135,1228800,null,0,mm,[sn,es,gg,fn,[8,null],Ne,[2,Wf]],null,null),Wi(1024,null,up,function(t){return[t]},[mm]),Gi(137,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,up]],{model:[0,"model"]},{update:"ngModelChange"}),Wi(2048,null,yp,null,[Qp]),Gi(139,16384,null,0,Fp,[[4,yp]],null,null),(t()(),go(-1,0,["Enable"])),(t()(),ii(141,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ii(142,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),go(-1,null,[" Coefficient "])),(t()(),ii(144,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ii(145,0,null,null,6,"mat-slider",[["class","mat-slider"],["role","slider"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"focus"],[null,"blur"],[null,"click"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(t,e,n){var r=!0,i=t.component;return"focus"===e&&(r=!1!==Ii(t,146)._onFocus()&&r),"blur"===e&&(r=!1!==Ii(t,146)._onBlur()&&r),"click"===e&&(r=!1!==Ii(t,146)._onClick(n)&&r),"keydown"===e&&(r=!1!==Ii(t,146)._onKeydown(n)&&r),"keyup"===e&&(r=!1!==Ii(t,146)._onKeyup()&&r),"mouseenter"===e&&(r=!1!==Ii(t,146)._onMouseenter()&&r),"slide"===e&&(r=!1!==Ii(t,146)._onSlide(n)&&r),"slideend"===e&&(r=!1!==Ii(t,146)._onSlideEnd()&&r),"slidestart"===e&&(r=!1!==Ii(t,146)._onSlideStart(n)&&r),"ngModelChange"===e&&(r=!1!==(i.effect.inertia.coefficient=n)&&r),r},km,wm)),Gi(146,245760,null,0,_m,[sn,gg,fn,[2,Ec],[8,null],[2,Wf]],{max:[0,"max"],min:[1,"min"]},null),Wi(1024,null,up,function(t){return[t]},[_m]),Gi(148,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,up]],{model:[0,"model"]},{update:"ngModelChange"}),Wi(2048,null,yp,null,[Qp]),Gi(150,16384,null,0,Fp,[[4,yp]],null,null),(t()(),go(-1,null,["Coefficient"])),(t()(),ii(152,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),go(-1,null,[" Deadband "])),(t()(),ii(154,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ii(155,0,null,null,6,"mat-slider",[["class","mat-slider"],["role","slider"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"focus"],[null,"blur"],[null,"click"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(t,e,n){var r=!0,i=t.component;return"focus"===e&&(r=!1!==Ii(t,156)._onFocus()&&r),"blur"===e&&(r=!1!==Ii(t,156)._onBlur()&&r),"click"===e&&(r=!1!==Ii(t,156)._onClick(n)&&r),"keydown"===e&&(r=!1!==Ii(t,156)._onKeydown(n)&&r),"keyup"===e&&(r=!1!==Ii(t,156)._onKeyup()&&r),"mouseenter"===e&&(r=!1!==Ii(t,156)._onMouseenter()&&r),"slide"===e&&(r=!1!==Ii(t,156)._onSlide(n)&&r),"slideend"===e&&(r=!1!==Ii(t,156)._onSlideEnd()&&r),"slidestart"===e&&(r=!1!==Ii(t,156)._onSlideStart(n)&&r),"ngModelChange"===e&&(r=!1!==(i.effect.inertia.deadBand=n)&&r),r},km,wm)),Gi(156,245760,null,0,_m,[sn,gg,fn,[2,Ec],[8,null],[2,Wf]],{max:[0,"max"],min:[1,"min"]},null),Wi(1024,null,up,function(t){return[t]},[_m]),Gi(158,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,up]],{model:[0,"model"]},{update:"ngModelChange"}),Wi(2048,null,yp,null,[Qp]),Gi(160,16384,null,0,Fp,[[4,yp]],null,null),(t()(),go(-1,null,["Deadband"])),(t()(),ii(162,0,null,null,32,"div",[],null,null,null,null,null)),(t()(),ii(163,0,null,null,31,"mat-card",[["class","example-card mat-card"],["style","width:20%"]],null,null,null,Mh,Ah)),Gi(164,49152,null,0,kh,[],null,null),(t()(),ii(165,0,null,0,29,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),Gi(166,16384,null,0,xh,[],null,null),(t()(),ii(167,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),go(-1,null,["Movement limit"])),(t()(),ii(169,0,null,null,6,"mat-slide-toggle",[["class","mat-slide-toggle"]],[[8,"id",0],[2,"mat-checked",null],[2,"mat-disabled",null],[2,"mat-slide-toggle-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(t,e,n){var r=!0;return"ngModelChange"===e&&(r=!1!==(t.component.effect.limit.enabled=n)&&r),r},bm,vm)),Gi(170,1228800,null,0,mm,[sn,es,gg,fn,[8,null],Ne,[2,Wf]],null,null),Wi(1024,null,up,function(t){return[t]},[mm]),Gi(172,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,up]],{model:[0,"model"]},{update:"ngModelChange"}),Wi(2048,null,yp,null,[Qp]),Gi(174,16384,null,0,Fp,[[4,yp]],null,null),(t()(),go(-1,0,["Enable"])),(t()(),ii(176,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ii(177,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ii(178,0,null,null,16,"mat-form-field",[["class","example-form-field mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Jh,Bh)),Gi(179,7389184,null,7,jh,[sn,fn,[2,Uu],[2,Ec],[2,zh],es,Ne,[2,Wf]],null,null),lo(335544320,11,{_control:0}),lo(335544320,12,{_placeholderChild:0}),lo(335544320,13,{_labelChild:0}),lo(603979776,14,{_errorChildren:1}),lo(603979776,15,{_hintChildren:1}),lo(603979776,16,{_prefixChildren:1}),lo(603979776,17,{_suffixChildren:1}),(t()(),ii(187,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["onclick","this.focus();this.select()"],["placeholder","Limit [degrees]"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Ii(t,188)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ii(t,188).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ii(t,188)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ii(t,188)._compositionEnd(n.target.value)&&r),"blur"===e&&(r=!1!==Ii(t,193)._focusChanged(!1)&&r),"focus"===e&&(r=!1!==Ii(t,193)._focusChanged(!0)&&r),"input"===e&&(r=!1!==Ii(t,193)._onInput()&&r),"ngModelChange"===e&&(r=!1!==(i.effect.limit.cpOfffset=n)&&r),r},null,null)),Gi(188,16384,null,0,fp,[ln,sn,[2,dp]],null,null),Wi(1024,null,up,function(t){return[t]},[fp]),Gi(190,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,up]],{model:[0,"model"]},{update:"ngModelChange"}),Wi(2048,null,yp,null,[Qp]),Gi(192,16384,null,0,Fp,[[4,yp]],null,null),Gi(193,999424,null,0,og,[sn,es,[6,yp],[2,Wp],[2,Kp],ku,[8,null],eg,Ne],{placeholder:[0,"placeholder"],type:[1,"type"]},null),Wi(2048,[[11,4]],Lh,null,[og]),(t()(),ii(195,0,null,null,15,"div",[],null,null,null,null,null)),(t()(),ii(196,0,null,null,14,"mat-card",[["class","example-card mat-card"],["style","width:20%"]],null,null,null,Mh,Ah)),Gi(197,49152,null,0,kh,[],null,null),(t()(),ii(198,0,null,0,12,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),Gi(199,16384,null,0,xh,[],null,null),(t()(),ii(200,0,null,null,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["onclick","this.focus();this.select()"],["placeholder","File name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Ii(t,202)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ii(t,202).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ii(t,202)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ii(t,202)._compositionEnd(n.target.value)&&r),"blur"===e&&(r=!1!==Ii(t,207)._focusChanged(!1)&&r),"focus"===e&&(r=!1!==Ii(t,207)._focusChanged(!0)&&r),"input"===e&&(r=!1!==Ii(t,207)._onInput()&&r),"ngModelChange"===e&&(r=!1!==(i.selected=n)&&r),r},null,null)),Wi(6144,null,Lh,null,[og]),Gi(202,16384,null,0,fp,[ln,sn,[2,dp]],null,null),Wi(1024,null,up,function(t){return[t]},[fp]),Gi(204,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,up]],{model:[0,"model"]},{update:"ngModelChange"}),Wi(2048,null,yp,null,[Qp]),Gi(206,16384,null,0,Fp,[[4,yp]],null,null),Gi(207,999424,null,0,og,[sn,es,[6,yp],[2,Wp],[2,Kp],ku,[8,null],eg,Ne],{placeholder:[0,"placeholder"],type:[1,"type"]},null),(t()(),ii(208,0,null,null,2,"button",[["mat-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.saveEffect()&&r),r},yg,mg)),Gi(209,180224,null,0,cg,[sn,es,gg,[2,Wf]],null,null),(t()(),go(-1,0,["Save"]))],function(t,e){var n=e.component;t(e,11,0,n.selected),t(e,14,0),t(e,20,0,n.effectProfiles),t(e,32,0,n.effect.spring.enabled),t(e,41,0,n.coefficientMax,n.coefficientMin),t(e,43,0,n.effect.spring.coefficient),t(e,51,0,n.deadbandMax,n.deadbandMin),t(e,53,0,n.effect.spring.deadBand),t(e,67,0,n.effect.friction.enabled),t(e,76,0,n.coefficientMax,n.coefficientMin),t(e,78,0,n.effect.friction.coefficient),t(e,86,0,n.deadbandMax,n.deadbandMin),t(e,88,0,n.effect.friction.deadBand),t(e,102,0,n.effect.damper.enabled),t(e,111,0,n.coefficientMax,n.coefficientMin),t(e,113,0,n.effect.damper.coefficient),t(e,121,0,n.deadbandMax,n.deadbandMin),t(e,123,0,n.effect.damper.deadBand),t(e,137,0,n.effect.inertia.enabled),t(e,146,0,n.coefficientMax,n.coefficientMin),t(e,148,0,n.effect.inertia.coefficient),t(e,156,0,n.deadbandMax,n.deadbandMin),t(e,158,0,n.effect.inertia.deadBand),t(e,172,0,n.effect.limit.enabled),t(e,190,0,n.effect.limit.cpOfffset),t(e,193,0,"Limit [degrees]","text"),t(e,204,0,n.selected),t(e,207,0,"File name","text")},function(t,e){t(e,0,1,["standard"==Ii(e,1).appearance,"fill"==Ii(e,1).appearance,"outline"==Ii(e,1).appearance,"legacy"==Ii(e,1).appearance,Ii(e,1)._control.errorState,Ii(e,1)._canLabelFloat,Ii(e,1)._shouldLabelFloat(),Ii(e,1)._hideControlPlaceholder(),Ii(e,1)._control.disabled,Ii(e,1)._control.autofilled,Ii(e,1)._control.focused,"accent"==Ii(e,1).color,"warn"==Ii(e,1).color,Ii(e,1)._shouldForward("untouched"),Ii(e,1)._shouldForward("touched"),Ii(e,1)._shouldForward("pristine"),Ii(e,1)._shouldForward("dirty"),Ii(e,1)._shouldForward("valid"),Ii(e,1)._shouldForward("invalid"),Ii(e,1)._shouldForward("pending"),!Ii(e,1)._animationsEnabled]),t(e,9,1,[Ii(e,13).ngClassUntouched,Ii(e,13).ngClassTouched,Ii(e,13).ngClassPristine,Ii(e,13).ngClassDirty,Ii(e,13).ngClassValid,Ii(e,13).ngClassInvalid,Ii(e,13).ngClassPending,Ii(e,14).id,Ii(e,14).tabIndex,Ii(e,14)._ariaLabel,Ii(e,14).ariaLabelledby,Ii(e,14).required.toString(),Ii(e,14).disabled.toString(),Ii(e,14).errorState,Ii(e,14).panelOpen?Ii(e,14)._optionIds:null,Ii(e,14).multiple,Ii(e,14)._ariaDescribedby||null,Ii(e,14)._getAriaActiveDescendant(),Ii(e,14).disabled,Ii(e,14).errorState,Ii(e,14).required]),t(e,29,1,[Ii(e,30).id,Ii(e,30).checked,Ii(e,30).disabled,"before"==Ii(e,30).labelPosition,"NoopAnimations"===Ii(e,30)._animationMode,Ii(e,34).ngClassUntouched,Ii(e,34).ngClassTouched,Ii(e,34).ngClassPristine,Ii(e,34).ngClassDirty,Ii(e,34).ngClassValid,Ii(e,34).ngClassInvalid,Ii(e,34).ngClassPending]),t(e,40,1,[Ii(e,41).tabIndex,Ii(e,41).disabled,Ii(e,41).max,Ii(e,41).min,Ii(e,41).value,Ii(e,41).vertical?"vertical":"horizontal",Ii(e,41).disabled,Ii(e,41).tickInterval,!Ii(e,41).vertical,Ii(e,41)._invertAxis,Ii(e,41)._isSliding,Ii(e,41).thumbLabel,Ii(e,41).vertical,Ii(e,41)._isMinValue,Ii(e,41).disabled||Ii(e,41)._isMinValue&&Ii(e,41)._thumbGap&&Ii(e,41)._invertAxis,"NoopAnimations"===Ii(e,41)._animationMode,Ii(e,45).ngClassUntouched,Ii(e,45).ngClassTouched,Ii(e,45).ngClassPristine,Ii(e,45).ngClassDirty,Ii(e,45).ngClassValid,Ii(e,45).ngClassInvalid,Ii(e,45).ngClassPending]),t(e,50,1,[Ii(e,51).tabIndex,Ii(e,51).disabled,Ii(e,51).max,Ii(e,51).min,Ii(e,51).value,Ii(e,51).vertical?"vertical":"horizontal",Ii(e,51).disabled,Ii(e,51).tickInterval,!Ii(e,51).vertical,Ii(e,51)._invertAxis,Ii(e,51)._isSliding,Ii(e,51).thumbLabel,Ii(e,51).vertical,Ii(e,51)._isMinValue,Ii(e,51).disabled||Ii(e,51)._isMinValue&&Ii(e,51)._thumbGap&&Ii(e,51)._invertAxis,"NoopAnimations"===Ii(e,51)._animationMode,Ii(e,55).ngClassUntouched,Ii(e,55).ngClassTouched,Ii(e,55).ngClassPristine,Ii(e,55).ngClassDirty,Ii(e,55).ngClassValid,Ii(e,55).ngClassInvalid,Ii(e,55).ngClassPending]),t(e,64,1,[Ii(e,65).id,Ii(e,65).checked,Ii(e,65).disabled,"before"==Ii(e,65).labelPosition,"NoopAnimations"===Ii(e,65)._animationMode,Ii(e,69).ngClassUntouched,Ii(e,69).ngClassTouched,Ii(e,69).ngClassPristine,Ii(e,69).ngClassDirty,Ii(e,69).ngClassValid,Ii(e,69).ngClassInvalid,Ii(e,69).ngClassPending]),t(e,75,1,[Ii(e,76).tabIndex,Ii(e,76).disabled,Ii(e,76).max,Ii(e,76).min,Ii(e,76).value,Ii(e,76).vertical?"vertical":"horizontal",Ii(e,76).disabled,Ii(e,76).tickInterval,!Ii(e,76).vertical,Ii(e,76)._invertAxis,Ii(e,76)._isSliding,Ii(e,76).thumbLabel,Ii(e,76).vertical,Ii(e,76)._isMinValue,Ii(e,76).disabled||Ii(e,76)._isMinValue&&Ii(e,76)._thumbGap&&Ii(e,76)._invertAxis,"NoopAnimations"===Ii(e,76)._animationMode,Ii(e,80).ngClassUntouched,Ii(e,80).ngClassTouched,Ii(e,80).ngClassPristine,Ii(e,80).ngClassDirty,Ii(e,80).ngClassValid,Ii(e,80).ngClassInvalid,Ii(e,80).ngClassPending]),t(e,85,1,[Ii(e,86).tabIndex,Ii(e,86).disabled,Ii(e,86).max,Ii(e,86).min,Ii(e,86).value,Ii(e,86).vertical?"vertical":"horizontal",Ii(e,86).disabled,Ii(e,86).tickInterval,!Ii(e,86).vertical,Ii(e,86)._invertAxis,Ii(e,86)._isSliding,Ii(e,86).thumbLabel,Ii(e,86).vertical,Ii(e,86)._isMinValue,Ii(e,86).disabled||Ii(e,86)._isMinValue&&Ii(e,86)._thumbGap&&Ii(e,86)._invertAxis,"NoopAnimations"===Ii(e,86)._animationMode,Ii(e,90).ngClassUntouched,Ii(e,90).ngClassTouched,Ii(e,90).ngClassPristine,Ii(e,90).ngClassDirty,Ii(e,90).ngClassValid,Ii(e,90).ngClassInvalid,Ii(e,90).ngClassPending]),t(e,99,1,[Ii(e,100).id,Ii(e,100).checked,Ii(e,100).disabled,"before"==Ii(e,100).labelPosition,"NoopAnimations"===Ii(e,100)._animationMode,Ii(e,104).ngClassUntouched,Ii(e,104).ngClassTouched,Ii(e,104).ngClassPristine,Ii(e,104).ngClassDirty,Ii(e,104).ngClassValid,Ii(e,104).ngClassInvalid,Ii(e,104).ngClassPending]),t(e,110,1,[Ii(e,111).tabIndex,Ii(e,111).disabled,Ii(e,111).max,Ii(e,111).min,Ii(e,111).value,Ii(e,111).vertical?"vertical":"horizontal",Ii(e,111).disabled,Ii(e,111).tickInterval,!Ii(e,111).vertical,Ii(e,111)._invertAxis,Ii(e,111)._isSliding,Ii(e,111).thumbLabel,Ii(e,111).vertical,Ii(e,111)._isMinValue,Ii(e,111).disabled||Ii(e,111)._isMinValue&&Ii(e,111)._thumbGap&&Ii(e,111)._invertAxis,"NoopAnimations"===Ii(e,111)._animationMode,Ii(e,115).ngClassUntouched,Ii(e,115).ngClassTouched,Ii(e,115).ngClassPristine,Ii(e,115).ngClassDirty,Ii(e,115).ngClassValid,Ii(e,115).ngClassInvalid,Ii(e,115).ngClassPending]),t(e,120,1,[Ii(e,121).tabIndex,Ii(e,121).disabled,Ii(e,121).max,Ii(e,121).min,Ii(e,121).value,Ii(e,121).vertical?"vertical":"horizontal",Ii(e,121).disabled,Ii(e,121).tickInterval,!Ii(e,121).vertical,Ii(e,121)._invertAxis,Ii(e,121)._isSliding,Ii(e,121).thumbLabel,Ii(e,121).vertical,Ii(e,121)._isMinValue,Ii(e,121).disabled||Ii(e,121)._isMinValue&&Ii(e,121)._thumbGap&&Ii(e,121)._invertAxis,"NoopAnimations"===Ii(e,121)._animationMode,Ii(e,125).ngClassUntouched,Ii(e,125).ngClassTouched,Ii(e,125).ngClassPristine,Ii(e,125).ngClassDirty,Ii(e,125).ngClassValid,Ii(e,125).ngClassInvalid,Ii(e,125).ngClassPending]),t(e,134,1,[Ii(e,135).id,Ii(e,135).checked,Ii(e,135).disabled,"before"==Ii(e,135).labelPosition,"NoopAnimations"===Ii(e,135)._animationMode,Ii(e,139).ngClassUntouched,Ii(e,139).ngClassTouched,Ii(e,139).ngClassPristine,Ii(e,139).ngClassDirty,Ii(e,139).ngClassValid,Ii(e,139).ngClassInvalid,Ii(e,139).ngClassPending]),t(e,145,1,[Ii(e,146).tabIndex,Ii(e,146).disabled,Ii(e,146).max,Ii(e,146).min,Ii(e,146).value,Ii(e,146).vertical?"vertical":"horizontal",Ii(e,146).disabled,Ii(e,146).tickInterval,!Ii(e,146).vertical,Ii(e,146)._invertAxis,Ii(e,146)._isSliding,Ii(e,146).thumbLabel,Ii(e,146).vertical,Ii(e,146)._isMinValue,Ii(e,146).disabled||Ii(e,146)._isMinValue&&Ii(e,146)._thumbGap&&Ii(e,146)._invertAxis,"NoopAnimations"===Ii(e,146)._animationMode,Ii(e,150).ngClassUntouched,Ii(e,150).ngClassTouched,Ii(e,150).ngClassPristine,Ii(e,150).ngClassDirty,Ii(e,150).ngClassValid,Ii(e,150).ngClassInvalid,Ii(e,150).ngClassPending]),t(e,155,1,[Ii(e,156).tabIndex,Ii(e,156).disabled,Ii(e,156).max,Ii(e,156).min,Ii(e,156).value,Ii(e,156).vertical?"vertical":"horizontal",Ii(e,156).disabled,Ii(e,156).tickInterval,!Ii(e,156).vertical,Ii(e,156)._invertAxis,Ii(e,156)._isSliding,Ii(e,156).thumbLabel,Ii(e,156).vertical,Ii(e,156)._isMinValue,Ii(e,156).disabled||Ii(e,156)._isMinValue&&Ii(e,156)._thumbGap&&Ii(e,156)._invertAxis,"NoopAnimations"===Ii(e,156)._animationMode,Ii(e,160).ngClassUntouched,Ii(e,160).ngClassTouched,Ii(e,160).ngClassPristine,Ii(e,160).ngClassDirty,Ii(e,160).ngClassValid,Ii(e,160).ngClassInvalid,Ii(e,160).ngClassPending]),t(e,169,1,[Ii(e,170).id,Ii(e,170).checked,Ii(e,170).disabled,"before"==Ii(e,170).labelPosition,"NoopAnimations"===Ii(e,170)._animationMode,Ii(e,174).ngClassUntouched,Ii(e,174).ngClassTouched,Ii(e,174).ngClassPristine,Ii(e,174).ngClassDirty,Ii(e,174).ngClassValid,Ii(e,174).ngClassInvalid,Ii(e,174).ngClassPending]),t(e,178,1,["standard"==Ii(e,179).appearance,"fill"==Ii(e,179).appearance,"outline"==Ii(e,179).appearance,"legacy"==Ii(e,179).appearance,Ii(e,179)._control.errorState,Ii(e,179)._canLabelFloat,Ii(e,179)._shouldLabelFloat(),Ii(e,179)._hideControlPlaceholder(),Ii(e,179)._control.disabled,Ii(e,179)._control.autofilled,Ii(e,179)._control.focused,"accent"==Ii(e,179).color,"warn"==Ii(e,179).color,Ii(e,179)._shouldForward("untouched"),Ii(e,179)._shouldForward("touched"),Ii(e,179)._shouldForward("pristine"),Ii(e,179)._shouldForward("dirty"),Ii(e,179)._shouldForward("valid"),Ii(e,179)._shouldForward("invalid"),Ii(e,179)._shouldForward("pending"),!Ii(e,179)._animationsEnabled]),t(e,187,1,[Ii(e,192).ngClassUntouched,Ii(e,192).ngClassTouched,Ii(e,192).ngClassPristine,Ii(e,192).ngClassDirty,Ii(e,192).ngClassValid,Ii(e,192).ngClassInvalid,Ii(e,192).ngClassPending,Ii(e,193)._isServer,Ii(e,193).id,Ii(e,193).placeholder,Ii(e,193).disabled,Ii(e,193).required,Ii(e,193).readonly,Ii(e,193)._ariaDescribedby||null,Ii(e,193).errorState,Ii(e,193).required.toString()]),t(e,200,1,[Ii(e,206).ngClassUntouched,Ii(e,206).ngClassTouched,Ii(e,206).ngClassPristine,Ii(e,206).ngClassDirty,Ii(e,206).ngClassValid,Ii(e,206).ngClassInvalid,Ii(e,206).ngClassPending,Ii(e,207)._isServer,Ii(e,207).id,Ii(e,207).placeholder,Ii(e,207).disabled,Ii(e,207).required,Ii(e,207).readonly,Ii(e,207)._ariaDescribedby||null,Ii(e,207).errorState,Ii(e,207).required.toString()]),t(e,208,0,Ii(e,209).disabled||null,"NoopAnimations"===Ii(e,209)._animationMode)})}var Sm=n("z8Ot"),Em=function(){function t(t){this._signalR=t,this.maxArraySize=5,this.wheel=[0,0,0,0,0],this.torque=[0,0,0,0,0]}return t.prototype.ngOnInit=function(){var t=this;Sm.newPlot(this.el.nativeElement,[{y:this.wheel,name:"Wheel position"},{y:this.torque,name:"Torque"}]);var e=new il("sendToAll");this._signalR.connect().then(function(n){t.connection=n,n.listen(e)}),e.subscribe(function(e){t.insertToArray(t.wheel,e.wheelPosition),t.insertToArray(t.torque,e.torque),Sm.react(t.el.nativeElement,[{y:t.wheel,name:"Wheel position"},{y:t.torque,name:"Torque"}])})},t.prototype.sendToAll=function(t){this.connection.invoke("GetNgBeSpeakers",t).then(function(t){console.log(t)})},t.prototype.insertToArray=function(t,e){t.push(e),t.length>this.maxArraySize&&t.shift()},t}(),Om=Or({encapsulation:0,styles:[[""]],data:{}});function Pm(t){return vo(0,[lo(402653184,1,{el:0}),(t()(),ii(1,0,[[1,0],["chart",1]],null,0,"div",[],null,null,null,null,null))],null,null)}var Im=Or({encapsulation:0,styles:[[""]],data:{}});function Dm(t){return vo(0,[(t()(),ii(0,0,null,null,22,"mat-tab-group",[["class","mat-tab-group"]],[[2,"mat-tab-group-dynamic-height",null],[2,"mat-tab-group-inverted-header",null]],null,null,fh,ah)),Gi(1,3325952,null,1,gc,[sn,fn],null,null),lo(603979776,1,{_tabs:1}),(t()(),ii(3,16777216,null,null,5,"mat-tab",[["label","General"]],null,null,null,_h,vh)),Gi(4,770048,[[1,4]],2,uc,[dn],{textLabel:[0,"textLabel"]},null),lo(335544320,2,{templateLabel:0}),lo(335544320,3,{_explicitContent:0}),(t()(),ii(7,0,null,0,1,"app-settings",[],null,null,null,xg,_g)),Gi(8,114688,null,0,bg,[vg],null,null),(t()(),ii(9,16777216,null,null,6,"mat-tab",[["label","Effects"]],null,null,null,_h,vh)),Gi(10,770048,[[1,4]],2,uc,[dn],{textLabel:[0,"textLabel"]},null),lo(335544320,4,{templateLabel:0}),lo(335544320,5,{_explicitContent:0}),(t()(),ii(13,0,null,0,2,"app-effects",[],null,null,null,Mm,Cm)),Gi(14,114688,null,0,Tm,[vg],null,null),(t()(),go(-1,null,["Some more tab content"])),(t()(),ii(16,16777216,null,null,6,"mat-tab",[["label","Monitor"]],null,null,null,_h,vh)),Gi(17,770048,[[1,4]],2,uc,[dn],{textLabel:[0,"textLabel"]},null),lo(335544320,6,{templateLabel:0}),lo(335544320,7,{_explicitContent:0}),(t()(),ii(20,0,null,0,2,"app-monitor",[],null,null,null,Pm,Om)),Gi(21,114688,null,0,Em,[cl],null,null),(t()(),go(-1,null,["Some more tab content"]))],function(t,e){t(e,4,0,"General"),t(e,8,0),t(e,10,0,"Effects"),t(e,14,0),t(e,17,0,"Monitor"),t(e,21,0)},function(t,e){t(e,0,0,Ii(e,1).dynamicHeight,"below"===Ii(e,1).headerPosition)})}var Lm=function(t,e,n,r,i,o){return new wi("app-root",ml,function(t){return vo(0,[(t()(),ii(0,0,null,null,1,"app-root",[],null,null,null,Dm,Im)),Gi(1,114688,null,0,ml,[],null,null)],function(t,e){t(e,1,0)},null)},{},{},[])}(),Rm=function(){},Nm=function(){},Fm=function(){function t(t){var e=this;this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){e.headers=new Map,t.split("\n").forEach(function(t){var n=t.indexOf(":");if(n>0){var r=t.slice(0,n),i=r.toLowerCase(),o=t.slice(n+1).trim();e.maybeSetNormalizedName(r,i),e.headers.has(i)?e.headers.get(i).push(o):e.headers.set(i,[o])}})}:function(){e.headers=new Map,Object.keys(t).forEach(function(n){var r=t[n],i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(e.headers.set(i,r),e.maybeSetNormalizedName(n,i))})}:this.headers=new Map}return t.prototype.has=function(t){return this.init(),this.headers.has(t.toLowerCase())},t.prototype.get=function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null},t.prototype.keys=function(){return this.init(),Array.from(this.normalizedNames.values())},t.prototype.getAll=function(t){return this.init(),this.headers.get(t.toLowerCase())||null},t.prototype.append=function(t,e){return this.clone({name:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({name:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({name:t,value:e,op:"d"})},t.prototype.maybeSetNormalizedName=function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)},t.prototype.init=function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))},t.prototype.copyFrom=function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})},t.prototype.clone=function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n},t.prototype.applyUpdate=function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,s(n)),this.headers.set(e,r);break;case"d":var i=t.value;if(i){var o=this.headers.get(e);if(!o)return;0===(o=o.filter(function(t){return-1===i.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}},t.prototype.forEach=function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})},t}(),zm=function(){function t(){}return t.prototype.encodeKey=function(t){return jm(t)},t.prototype.encodeValue=function(t){return jm(t)},t.prototype.decodeKey=function(t){return decodeURIComponent(t)},t.prototype.decodeValue=function(t){return decodeURIComponent(t)},t}();function jm(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var Vm=function(){function t(t){void 0===t&&(t={});var e,n,r,i=this;if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new zm,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(e=t.fromString,n=this.encoder,r=new Map,e.length>0&&e.split("&").forEach(function(t){var e=t.indexOf("="),i=l(-1==e?[n.decodeKey(t),""]:[n.decodeKey(t.slice(0,e)),n.decodeValue(t.slice(e+1))],2),o=i[0],a=i[1],s=r.get(o)||[];s.push(a),r.set(o,s)}),r)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(function(e){var n=t.fromObject[e];i.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}return t.prototype.has=function(t){return this.init(),this.map.has(t)},t.prototype.get=function(t){this.init();var e=this.map.get(t);return e?e[0]:null},t.prototype.getAll=function(t){return this.init(),this.map.get(t)||null},t.prototype.keys=function(){return this.init(),Array.from(this.map.keys())},t.prototype.append=function(t,e){return this.clone({param:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({param:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({param:t,value:e,op:"d"})},t.prototype.toString=function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).join("&")},t.prototype.clone=function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n},t.prototype.init=function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}}),this.cloneFrom=null)},t}();function Bm(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Hm(t){return"undefined"!=typeof Blob&&t instanceof Blob}function qm(t){return"undefined"!=typeof FormData&&t instanceof FormData}var Um=function(){function t(t,e,n,r){var i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new Fm),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{var a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new Vm,this.urlWithParams=e}return t.prototype.serializeBody=function(){return null===this.body?null:Bm(this.body)||Hm(this.body)||qm(this.body)||"string"==typeof this.body?this.body:this.body instanceof Vm?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()},t.prototype.detectContentTypeHeader=function(){return null===this.body?null:qm(this.body)?null:Hm(this.body)?this.body.type||null:Bm(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Vm?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null},t.prototype.clone=function(e){void 0===e&&(e={});var n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,l=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,s=e.headers||this.headers,u=e.params||this.params;return void 0!==e.setHeaders&&(s=Object.keys(e.setHeaders).reduce(function(t,n){return t.set(n,e.setHeaders[n])},s)),e.setParams&&(u=Object.keys(e.setParams).reduce(function(t,n){return t.set(n,e.setParams[n])},u)),new t(n,r,o,{params:u,headers:s,reportProgress:l,responseType:i,withCredentials:a})},t}(),Gm=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),Wm=function(){return function(t,e,n){void 0===e&&(e=200),void 0===n&&(n="OK"),this.headers=t.headers||new Fm,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}(),Ym=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.type=Gm.ResponseHeader,n}return i(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(Wm),Zm=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.type=Gm.Response,n.body=void 0!==e.body?e.body:null,n}return i(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(Wm),Xm=function(t){function e(e){var n=t.call(this,e,0,"Unknown Error")||this;return n.name="HttpErrorResponse",n.ok=!1,n.message=n.status>=200&&n.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):"Http failure response for "+(e.url||"(unknown url)")+": "+e.status+" "+e.statusText,n.error=e.error||null,n}return i(e,t),e}(Wm);function Qm(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var Km=function(){function t(t){this.handler=t}return t.prototype.request=function(t,e,n){var r,i=this;if(void 0===n&&(n={}),t instanceof Um)r=t;else{var o;o=n.headers instanceof Fm?n.headers:new Fm(n.headers);var a=void 0;n.params&&(a=n.params instanceof Vm?n.params:new Vm({fromObject:n.params})),r=new Um(t,e,void 0!==n.body?n.body:null,{headers:o,params:a,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}var l=Zu(r).pipe(Y(function(t){return i.handler.handle(t)},void 0,1));if(t instanceof Um||"events"===n.observe)return l;var s=l.pipe(th(function(t){return t instanceof Zm}));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(H(function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(H(function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(H(function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(H(function(t){return t.body}))}case"response":return s;default:throw new Error("Unreachable: unhandled observe type "+n.observe+"}")}},t.prototype.delete=function(t,e){return void 0===e&&(e={}),this.request("DELETE",t,e)},t.prototype.get=function(t,e){return void 0===e&&(e={}),this.request("GET",t,e)},t.prototype.head=function(t,e){return void 0===e&&(e={}),this.request("HEAD",t,e)},t.prototype.jsonp=function(t,e){return this.request("JSONP",t,{params:(new Vm).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})},t.prototype.options=function(t,e){return void 0===e&&(e={}),this.request("OPTIONS",t,e)},t.prototype.patch=function(t,e,n){return void 0===n&&(n={}),this.request("PATCH",t,Qm(n,e))},t.prototype.post=function(t,e,n){return void 0===n&&(n={}),this.request("POST",t,Qm(n,e))},t.prototype.put=function(t,e,n){return void 0===n&&(n={}),this.request("PUT",t,Qm(n,e))},t}(),$m=function(){function t(t,e){this.next=t,this.interceptor=e}return t.prototype.handle=function(t){return this.interceptor.intercept(t,this.next)},t}(),Jm=new ft("HTTP_INTERCEPTORS"),ty=function(){function t(){}return t.prototype.intercept=function(t,e){return e.handle(t)},t}(),ey=/^\)\]\}',?\n/,ny=function(){},ry=function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t}(),iy=function(){function t(t){this.xhrFactory=t}return t.prototype.handle=function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new S(function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach(function(t,e){return r.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=t.serializeBody(),l=null,s=function(){if(null!==l)return l;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new Fm(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return l=new Ym({headers:i,status:e,statusText:n,url:o})},u=function(){var e=s(),i=e.headers,o=e.status,a=e.statusText,l=e.url,u=null;204!==o&&(u=void 0===r.response?r.responseText:r.response),0===o&&(o=u?200:0);var c=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof u){var d=u;u=u.replace(ey,"");try{u=""!==u?JSON.parse(u):null}catch(t){u=d,c&&(c=!1,u={error:t,text:u})}}c?(n.next(new Zm({body:u,headers:i,status:o,statusText:a,url:l||void 0})),n.complete()):n.error(new Xm({error:u,headers:i,status:o,statusText:a,url:l||void 0}))},c=function(t){var e=new Xm({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error"});n.error(e)},d=!1,f=function(e){d||(n.next(s()),d=!0);var i={type:Gm.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},h=function(t){var e={type:Gm.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",u),r.addEventListener("error",c),t.reportProgress&&(r.addEventListener("progress",f),null!==a&&r.upload&&r.upload.addEventListener("progress",h)),r.send(a),n.next({type:Gm.Sent}),function(){r.removeEventListener("error",c),r.removeEventListener("load",u),t.reportProgress&&(r.removeEventListener("progress",f),null!==a&&r.upload&&r.upload.removeEventListener("progress",h)),r.abort()}})},t}(),oy=new ft("XSRF_COOKIE_NAME"),ay=new ft("XSRF_HEADER_NAME"),ly=function(){},sy=function(){function t(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return t.prototype.getToken=function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Nl(t,this.cookieName),this.lastCookieString=t),this.lastToken},t}(),uy=function(){function t(t,e){this.tokenService=t,this.headerName=e}return t.prototype.intercept=function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)},t}(),cy=function(){function t(t,e){this.backend=t,this.injector=e,this.chain=null}return t.prototype.handle=function(t){if(null===this.chain){var e=this.injector.get(Jm,[]);this.chain=e.reduceRight(function(t,e){return new $m(t,e)},this.backend)}return this.chain.handle(t)},t}(),dy=function(){function t(){}return t.disable=function(){return{ngModule:t,providers:[{provide:uy,useClass:ty}]}},t.withOptions=function(e){return void 0===e&&(e={}),{ngModule:t,providers:[e.cookieName?{provide:oy,useValue:e.cookieName}:[],e.headerName?{provide:ay,useValue:e.headerName}:[]]}},t}(),fy=function(){},hy=function(){},py=function(){},gy=function(t,e,n){return new Ca(gl,[ml],function(t){return function(t){for(var e={},n=[],r=!1,i=0;i<t.length;i++){var o=t[i];o.token===le&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[Mr(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}([hi(512,Me,Se,[[8,[Lm]],[3,Me],Oe]),hi(5120,jn,Hn,[[3,jn]]),hi(4608,Ll,Rl,[jn,[2,Dl]]),hi(4608,be,be,[]),hi(5120,de,fe,[]),hi(5120,Dn,Vn,[]),hi(5120,Ln,Bn,[]),hi(4608,ou,au,[$l]),hi(6144,hr,null,[ou]),hi(4608,Js,Cu,[[2,Tu],[2,yu]]),hi(5120,As,function(t,e,n,r,i,o){return[new Ks(t,e),new iu(n),new eu(r,i,o)]},[$l,Ne,$l,$l,Js,ye]),hi(4608,Ms,Ms,[As,Ne]),hi(135680,Os,Os,[$l]),hi(4608,Fs,Fs,[Ms,Os]),hi(5120,$c,qf,[]),hi(5120,Vd,Uf,[]),hi(4608,yf,Hf,[$c,Vd]),hi(5120,on,Gf,[Fs,yf,Ne]),hi(6144,Es,null,[Os]),hi(4608,Ue,Ue,[Ne]),hi(4608,vs,vs,[$l]),hi(4608,ws,ws,[$l]),hi(4608,Tc,Tc,[]),hi(4608,Xu,Rf,[on,gs]),hi(4608,vp,vp,[]),hi(4608,ly,sy,[$l,ge,oy]),hi(4608,uy,uy,[ly,ay]),hi(5120,Jm,function(t){return[t]},[uy]),hi(4608,ry,ry,[]),hi(6144,ny,null,[ry]),hi(4608,iy,iy,[ny]),hi(6144,Nm,null,[iy]),hi(4608,Rm,cy,[Nm,Rt]),hi(4608,Km,Km,[Rm]),hi(4608,ku,ku,[]),hi(4608,Zg,Zg,[zg,Vg,Me,Wg,jg,Rt,Ne,$l,Ec]),hi(5120,Qg,Jg,[Zg]),hi(5120,im,om,[Zg]),hi(4608,vg,vg,[Km]),hi(1073742336,Kl,Kl,[]),hi(1024,ae,pu,[]),hi(1024,ue,function(t){return[(e=t,ks("probe",Cs),ks("coreTokens",o({},Ts,(e||[]).reduce(function(t,e){return t[e.name]=e.token,t},{}))),function(){return Cs})];var e},[[2,Ke]]),hi(512,ce,ce,[[2,ue]]),hi(131584,nn,nn,[Ne,ye,Rt,ae,Me,ce]),hi(1073742336,qn,qn,[nn]),hi(1073742336,gu,gu,[[3,gu]]),hi(1073742336,hl,hl,[]),hi(1073742336,Oc,Oc,[]),hi(1073742336,yu,yu,[[2,mu]]),hi(1073742336,Tl,Tl,[]),hi(1073742336,os,os,[]),hi(1073742336,Lu,Lu,[]),hi(1073742336,Mc,Mc,[]),hi(1073742336,mc,mc,[]),hi(1073742336,Yf,Yf,[]),hi(1073742336,$p,$p,[]),hi(1073742336,Jp,Jp,[]),hi(1073742336,dy,dy,[]),hi(1073742336,fy,fy,[]),hi(1073742336,Au,Au,[]),hi(1073742336,Nu,Nu,[]),hi(1073742336,hy,hy,[]),hi(1073742336,py,py,[]),hi(1073742336,Ch,Ch,[]),hi(1073742336,ng,ng,[]),hi(1073742336,Vh,Vh,[]),hi(1073742336,ag,ag,[]),hi(1073742336,dg,dg,[]),hi(1073742336,ym,ym,[]),hi(1073742336,xm,xm,[]),hi(1073742336,oh,oh,[]),hi(1073742336,tm,tm,[]),hi(1073742336,qu,qu,[]),hi(1073742336,lm,lm,[]),hi(1073742336,gl,gl,[]),hi(256,le,!0,[]),hi(1024,hl.forRoot,pl,[]),hi(1024,cl,fl,[hl.forRoot,Ne]),hi(256,Wf,"BrowserAnimations",[]),hi(256,oy,"XSRF-TOKEN",[]),hi(256,ay,"X-XSRF-TOKEN",[])])})}();(function(){if(Ze)throw new Error("Cannot enable prod mode after platform setup.");Ye=!1})(),hu().bootstrapModuleFactory(gy).catch(function(t){return console.log(t)})}},[[3,0]]]);